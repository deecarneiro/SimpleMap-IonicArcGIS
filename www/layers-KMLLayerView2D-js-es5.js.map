{"version":3,"sources":["webpack:///node_modules/@arcgis/core/geometry/support/aaBoundingBox.js","webpack:///node_modules/@arcgis/core/views/2d/layers/KMLLayerView2D.js"],"names":["i","n","D","a","t","r","u","e","m","xmin","ymin","zmin","xmax","ymax","zmax","isFinite","spatialReference","o","Math","min","max","f","h","c","length","M","x","s","l","I","y","N","sqrt","g","p","F","z","E","T","b","j","R","V","Y","_","d","q","w","A","C","B","G","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","O","P","S","k","H","v","arguments","_handles","_bitmapIndex","Map","_mapImageContainer","_featuresMap","allVisiblePoints","allVisiblePolylines","allVisiblePolygons","allVisibleMapImages","suspended","_pointsView","_polylinesView","_polygonsView","hitTest","then","filter","layer","sourceLayer","processUpdate","add","on","added","forEach","_addMapImage","removed","_removeMapImage","container","addChild","view","graphics","requestUpdateCallback","requestUpdate","watch","_refreshCollections","_fetchingPromise","_fetchService","notifyChange","removeAll","removeAllChildren","clear","destroy","viewChange","updating","isWGS84","isWebMercator","href","responseType","data","fromJSON","extent","resolution","width","naturalWidth","rotation","set","remove","_getParsedKML","_fetchSublayerService","sublayers","load","_getGraphicsForSublayer","networkLink","sourceJSON","visible","push","url","refreshInterval","some","id","points","polylines","polygons","mapImages","get","addMany","removeChild","prototype","dependsOn"],"mappings":"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","file":"layers-KMLLayerView2D-js-es5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as n}from\"../../core/maybe.js\";import t from\"../Extent.js\";import{create as r}from\"./aaBoundingRect.js\";function i(n=D){return[n[0],n[1],n[2],n[3],n[4],n[5]]}function a(n,t,r,a,u,e,m=i()){return m[0]=n,m[1]=t,m[2]=r,m[3]=a,m[4]=u,m[5]=e,m}function u(n,t=i()){return t[0]=n.xmin,t[1]=n.ymin,t[2]=n.zmin,t[3]=n.xmax,t[4]=n.ymax,t[5]=n.zmax,t}function e(n,r){const i=isFinite(n[2])||isFinite(n[5]);return new t(i?{xmin:n[0],xmax:n[3],ymin:n[1],ymax:n[4],zmin:n[2],zmax:n[5],spatialReference:r}:{xmin:n[0],xmax:n[3],ymin:n[1],ymax:n[4],spatialReference:r})}function m(n,t,r=i()){return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=t[0],r[4]=t[1],r[5]=t[2],r}function o(n,t){n[0]=Math.min(n[0],t[0]),n[1]=Math.min(n[1],t[1]),n[2]=Math.min(n[2],t[2]),n[3]=Math.max(n[3],t[3]),n[4]=Math.max(n[4],t[4]),n[5]=Math.max(n[5],t[5])}function f(n,t){n[0]=Math.min(n[0],t[0]),n[1]=Math.min(n[1],t[1]),n[3]=Math.max(n[3],t[2]),n[4]=Math.max(n[4],t[3])}function h(n,t){n[0]=Math.min(n[0],t[0]),n[1]=Math.min(n[1],t[1]),n[2]=Math.min(n[2],t[2]),n[3]=Math.max(n[3],t[0]),n[4]=Math.max(n[4],t[1]),n[5]=Math.max(n[5],t[2])}function c(n,t,r=0,i=t.length/3){let a=n[0],u=n[1],e=n[2],m=n[3],o=n[4],f=n[5];for(let n=0;n<i;n++)a=Math.min(a,t[r+3*n]),u=Math.min(u,t[r+3*n+1]),e=Math.min(e,t[r+3*n+2]),m=Math.max(m,t[r+3*n]),o=Math.max(o,t[r+3*n+1]),f=Math.max(f,t[r+3*n+2]);n[0]=a,n[1]=u,n[2]=e,n[3]=m,n[4]=o,n[5]=f}function M(n,t,r,i){n[0]=Math.min(n[0],n[0]+t),n[3]=Math.max(n[3],n[3]+t),n[1]=Math.min(n[1],n[1]+r),n[4]=Math.max(n[4],n[4]+r),n[2]=Math.min(n[2],n[2]+i),n[5]=Math.max(n[5],n[5]+i)}function x(n,t,r){const i=t.length;let a=n[0],u=n[1],e=n[2],m=n[3],o=n[4],f=n[5];if(r)for(let n=0;n<i;n++){const r=t[n];a=Math.min(a,r[0]),u=Math.min(u,r[1]),e=Math.min(e,r[2]),m=Math.max(m,r[0]),o=Math.max(o,r[1]),f=Math.max(f,r[2])}else for(let n=0;n<i;n++){const r=t[n];a=Math.min(a,r[0]),u=Math.min(u,r[1]),m=Math.max(m,r[0]),o=Math.max(o,r[1])}n[0]=a,n[1]=u,n[2]=e,n[3]=m,n[4]=o,n[5]=f}function s(n){for(let t=0;t<6;t++)if(!isFinite(n[t]))return!1;return!0}function l(n){return n[0]>=n[3]?0:n[3]-n[0]}function I(n){return n[1]>=n[4]?0:n[4]-n[1]}function y(n){return n[2]>=n[5]?0:n[5]-n[2]}function N(n){const t=l(n),r=y(n),i=I(n);return Math.sqrt(t*t+r*r+i*i)}function g(n,t=[0,0,0]){return t[0]=n[0]+l(n)/2,t[1]=n[1]+I(n)/2,t[2]=n[2]+y(n)/2,t}function p(n,t=[0,0,0]){return t[0]=l(n),t[1]=I(n),t[2]=y(n),t}function F(n){return Math.max(l(n),y(n),I(n))}function z(n,t){return t[0]>=n[0]&&t[1]>=n[1]&&t[2]>=n[2]&&t[0]<=n[3]&&t[1]<=n[4]&&t[2]<=n[5]}function E(n,t,r){return t[0]>=n[0]-r&&t[1]>=n[1]-r&&t[2]>=n[2]-r&&t[0]<=n[3]+r&&t[1]<=n[4]+r&&t[2]<=n[5]+r}function T(n,t){return t[0]>=n[0]&&t[1]>=n[1]&&t[2]>=n[2]&&t[3]<=n[3]&&t[4]<=n[4]&&t[5]<=n[5]}function b(n,t){return Math.max(t[0],n[0])<=Math.min(t[3],n[3])&&Math.max(t[1],n[1])<=Math.min(t[4],n[4])&&Math.max(t[2],n[2])<=Math.min(t[5],n[5])}function j(t,r){return!!n(r)||b(t,r)}function R(n,t,r,i,a=n){return a[0]=n[0]+t,a[1]=n[1]+r,a[2]=n[2]+i,a[3]=n[3]+t,a[4]=n[4]+r,a[5]=n[5]+i,a}function V(n,t,r=n){const i=n[0]+l(n)/2,a=n[1]+I(n)/2,u=n[2]+y(n)/2;return r[0]=i+(n[0]-i)*t,r[1]=a+(n[1]-a)*t,r[2]=u+(n[2]-u)*t,r[3]=i+(n[3]-i)*t,r[4]=a+(n[4]-a)*t,r[5]=u+(n[5]-u)*t,r}function Y(n,t){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function _(n,t){return t[0]=n[3],t[1]=n[4],t[2]=n[5],t}function d(n,t,r=n){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==n&&(r[3]=n[3],r[4]=n[4],r[5]=n[5]),r}function q(n,t,r=n){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==n&&(r[0]=n[0],r[1]=n[1],r[2]=n[2]),n}function w(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function A(n){return n?w(n,C):i(C)}function B(n,t){return t||(t=r()),t[0]=n[0],t[1]=n[1],t[2]=n[3],t[3]=n[4],t}function G(n,t){return n[0]=t[0],n[1]=t[1],n[2]=Number.NEGATIVE_INFINITY,n[3]=t[2],n[4]=t[3],n[5]=Number.POSITIVE_INFINITY,n}function O(n){return 6===n.length}function P(n){return 0===l(n)&&0===I(n)&&0===y(n)}function S(t,r,i){if(n(t)||n(r))return t===r;if(!O(t)||!O(r))return!1;if(i){for(let n=0;n<t.length;n++)if(!i(t[n],r[n]))return!1}else for(let n=0;n<t.length;n++)if(t[n]!==r[n])return!1;return!0}function k(n,t,r,i,u,e){return a(n,t,r,i,u,e,H)}const v=[-1/0,-1/0,-1/0,1/0,1/0,1/0],C=[1/0,1/0,1/0,-1/0,-1/0,-1/0],D=[0,0,0,0,0,0],H=i();export{C as NEGATIVE_INFINITY,v as POSITIVE_INFINITY,D as ZERO,s as allFinite,g as center,T as contains,z as containsPoint,E as containsPointWithMargin,i as create,I as depth,N as diameter,A as empty,S as equals,o as expandWithAABB,c as expandWithBuffer,x as expandWithNestedArray,M as expandWithOffset,f as expandWithRect,h as expandWithVec3,u as fromExtent,m as fromMinMax,G as fromRect,a as fromValues,_ as getMax,Y as getMin,y as height,b as intersects,j as intersectsClippingArea,O as is,P as isPoint,F as maximumDimension,R as offset,V as scale,w as set,q as setMax,d as setMin,p as size,e as toExtent,B as toRect,l as width,k as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{resolve as t,all as o,create as r}from\"../../../core/promiseUtils.js\";import{schedule as l}from\"../../../core/scheduling.js\";import{canProject as a,project as n}from\"../../../geometry/support/webMercatorUtils.js\";import h from\"../../../geometry/Extent.js\";import p from\"../../../core/Collection.js\";import c from\"../../../request.js\";import m from\"../../../core/Handles.js\";import{whenTrueOnce as d}from\"../../../core/watchUtils.js\";import{GraphicsCollection as y}from\"../../../support/GraphicsCollection.js\";import{fetchService as w,parseKML as _,getGraphics as g}from\"../../../layers/support/kmlUtils.js\";import u from\"../../layers/LayerView.js\";import V from\"./graphics/GraphicsView2D.js\";import{Bitmap as f}from\"../engine/Bitmap.js\";import{BitmapContainer as v}from\"../engine/BitmapContainer.js\";import{LayerView2DMixin as b}from\"./LayerView2D.js\";let C=class extends(b(u)){constructor(){super(...arguments),this._handles=new m,this._bitmapIndex=new Map,this._mapImageContainer=new v,this._featuresMap=new Map,this.allVisiblePoints=new y,this.allVisiblePolylines=new y,this.allVisiblePolygons=new y,this.allVisibleMapImages=new p}hitTest(e,i){if(this.suspended||!this._pointsView&&!this._polylinesView&&!this._polygonsView)return t(null);const s=[this._pointsView.hitTest(e,i),this._polylinesView.hitTest(e,i),this._polygonsView.hitTest(e,i)];return o(s).then((e=>e.filter((e=>(e&&(e.layer=this.layer,e.sourceLayer=this.layer),!!e)))[0]||null))}update(e){this._polygonsView&&this._polygonsView.processUpdate(e),this._polylinesView&&this._polylinesView.processUpdate(e),this._pointsView&&this._pointsView.processUpdate(e)}attach(){this._handles.add([this.allVisibleMapImages.on(\"change\",(e=>{e.added.forEach((e=>this._addMapImage(e))),e.removed.forEach((e=>this._removeMapImage(e)))}))]),this.container.addChild(this._mapImageContainer),this._polygonsView=new V({view:this.view,graphics:this.allVisiblePolygons,requestUpdateCallback:()=>this.requestUpdate()}),this.container.addChild(this._polygonsView.container),this._polylinesView=new V({view:this.view,graphics:this.allVisiblePolylines,requestUpdateCallback:()=>this.requestUpdate()}),this.container.addChild(this._polylinesView.container),this._pointsView=new V({view:this.view,graphics:this.allVisiblePoints,requestUpdateCallback:()=>this.requestUpdate()}),this.container.addChild(this._pointsView.container),this.watch(\"layer.visibleSublayers\",(()=>this._refreshCollections())),this._fetchingPromise=this._fetchService().then((()=>{this._fetchingPromise=null,this.notifyChange(\"updating\")}))}detach(){this._handles.removeAll(),this._mapImageContainer.removeAllChildren(),this.container.removeAllChildren(),this._bitmapIndex.clear(),this._polygonsView&&(this._polygonsView.destroy(),this._polygonsView=null),this._polylinesView&&(this._polylinesView.destroy(),this._polylinesView=null),this._pointsView&&(this._pointsView.destroy(),this._pointsView=null)}moveStart(){}viewChange(){this._polygonsView.viewChange(),this._polylinesView.viewChange(),this._pointsView.viewChange()}moveEnd(){}isUpdating(){return null!=this._fetchingPromise||this._pointsView.updating||this._polygonsView.updating||this._polylinesView.updating}_addMapImage(e){(this.view.spatialReference.isWGS84||this.view.spatialReference.isWebMercator)&&c(e.href,{responseType:\"image\"}).then((({data:i})=>{let s=h.fromJSON(e.extent);a(s,this.view.spatialReference)&&(s=n(s,this.view.spatialReference));const t=new f(i);t.x=s.xmin,t.y=s.ymax,t.resolution=s.width/i.naturalWidth,t.rotation=e.rotation,this._mapImageContainer.addChild(t),this._bitmapIndex.set(e,t)}))}_fetchService(){return this._handles.remove(\"refresh-collections\"),this._getParsedKML().then((e=>this._fetchSublayerService(this.layer,e)))}_fetchSublayerService(e,i){const s=e.sublayers;if(!s||0===s.length)return t();const a=[];return s.forEach((e=>{const s=d(e,\"visible\").then((()=>e.load())).then((()=>this._getGraphicsForSublayer(e,i))).then((i=>r((s=>{e.networkLink?s():(this._featuresMap.set(e,i),this._handles.add(l((()=>{this._refreshCollections(),s()})),\"refresh-collections\"))})))).then((()=>this._fetchSublayerService(e,e.sourceJSON||i)));e.visible&&a.push(s)})),o(a).then((()=>{}))}_getParsedKML(){return w(this.layer.url,this.view.spatialReference,this.layer.refreshInterval).then((e=>_(e.data)))}async _getGraphicsForSublayer(e,i){let s=null;return i.sublayers.some((i=>(s=i,i.id===e.id)))?{points:s.points&&await g(s.points),polylines:s.polylines&&await g(s.polylines),polygons:s.polygons&&await g(s.polygons),mapImages:s.mapImages}:null}_refreshCollections(){const e=this.get(\"layer.visibleSublayers\");this.allVisiblePoints.removeAll(),this.allVisiblePolylines.removeAll(),this.allVisiblePolygons.removeAll(),this.allVisibleMapImages.removeAll(),e&&e.length&&e.forEach((e=>{const i=this._featuresMap.get(e);i&&(this.allVisiblePoints.addMany(i.points),this.allVisiblePolylines.addMany(i.polylines),this.allVisiblePolygons.addMany(i.polygons),this.allVisibleMapImages.addMany(i.mapImages))}))}_removeMapImage(e){const i=this._bitmapIndex.get(e);i&&(this._mapImageContainer.removeChild(i),this._bitmapIndex.delete(e))}};e([i()],C.prototype,\"_pointsView\",void 0),e([i()],C.prototype,\"_polylinesView\",void 0),e([i()],C.prototype,\"_polygonsView\",void 0),e([i()],C.prototype,\"_fetchingPromise\",void 0),e([i({dependsOn:[\"_fetchingPromise\",\"_pointsView.updating\",\"_polygonsView.updating\",\"_polylinesView.updating\"]})],C.prototype,\"updating\",void 0),C=e([s(\"esri.views.2d.layers.KMLLayerView2D\")],C);var j=C;export default j;\n"]}