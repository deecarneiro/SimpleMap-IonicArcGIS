{"version":3,"sources":["webpack:///node_modules/@arcgis/core/symbols/support/FeatureExpressionInfo.js","webpack:///node_modules/@arcgis/core/symbols/support/ElevationInfo.js","webpack:///node_modules/@arcgis/core/layers/support/commonProperties.js","webpack:///node_modules/@arcgis/core/views/2d/layers/WMSLayerView2D.js","webpack:///node_modules/@arcgis/core/symbols/support/unitConversionUtils.js","webpack:///node_modules/@arcgis/core/views/layers/WMSLayerView.js"],"names":["p","i","r","o","expression","title","type","String","json","write","prototype","c","l","m","onTheGround","relativeToGround","relativeToScene","absoluteHeight","d","foot","kilometer","meter","mile","yard","arguments","offset","e","featureExpression","value","t","_isOverridden","_get","featureExpressionInfo","_override","_set","mode","unit","clone","apiValues","dependsOn","nonNullable","jsonValues","read","writer","isRequired","Number","x","s","Boolean","origins","source","reader","screenSizePerspective","originOf","store","set","ignoreOrigin","target","n","a","name","disablePopup","enabled","service","f","readOnly","u","y","opacity","origin","drawingInfo","transparency","layerDefinition","get","layer","timeInfo","view","timeExtent","useViewTime","intersection","isEmpty","timeOffset","equals","getLogger","g","supportsSpatialReference","spatialReference","addResolvingPromise","strategy","update","error","imageMaxHeight","imageMaxWidth","_bitmapContainer","container","addChild","fetchSource","fetchImage","bind","requestUpdate","imageRotationSupported","imageNormalizationSupported","hidpi","_exportWMSImageParameters","handles","add","watch","_exportImageVersion","remove","destroy","removeChild","removeAllChildren","children","some","width","height","h","resolution","xmin","ymin","xmax","ymax","Math","round","extent","updating","updateRequested","timestamp","refreshTimestamp","Object","keys","sort","popupEnabled","createFetchPopupFeaturesQuery","fetchFeatureInfo","then"],"mappings":"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","file":"layers-WMSLayerView2D-js-es5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{collectArcadeFieldNames as t}from\"../../layers/support/fieldUtils.js\";var p;let i=p=class extends s{async collectRequiredFields(r,o){return t(r,o,this.expression)}clone(){return new p({expression:this.expression,title:this.title})}};r([o({type:String,json:{write:!0}})],i.prototype,\"expression\",void 0),r([o({type:String,json:{write:!0}})],i.prototype,\"title\",void 0),i=p=r([e(\"esri.layers.support.FeatureExpressionInfo\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{strict as t,JSONMap as s}from\"../../core/jsonMap.js\";import{reader as i}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as u}from\"../../core/JSONSupport.js\";import a from\"./FeatureExpressionInfo.js\";import{supportedUnits as f}from\"./unitConversionUtils.js\";var l;const m=t()({onTheGround:\"on-the-ground\",relativeToGround:\"relative-to-ground\",relativeToScene:\"relative-to-scene\",absoluteHeight:\"absolute-height\"}),d=new s({foot:\"feet\",kilometer:\"kilometers\",meter:\"meters\",mile:\"miles\",\"us-foot\":\"us-feet\",yard:\"yards\"});let c=l=class extends u{constructor(){super(...arguments),this.offset=null}readFeatureExpressionInfo(e,r){return null!=e?e:r.featureExpression&&0===r.featureExpression.value?{expression:\"0\"}:void 0}writeFeatureExpressionInfo(e,r,o,t){r[o]=e.write(null,t),\"0\"===e.expression&&(r.featureExpression={value:0})}get mode(){return this._isOverridden(\"mode\")?this._get(\"mode\"):r(this.offset)||this.featureExpressionInfo?\"relative-to-ground\":\"on-the-ground\"}set mode(e){this._override(\"mode\",e)}set unit(e){this._set(\"unit\",e)}write(e,r){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,r):null}clone(){return new l({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}};e([o({type:a,json:{write:!0}})],c.prototype,\"featureExpressionInfo\",void 0),e([i(\"featureExpressionInfo\",[\"featureExpressionInfo\",\"featureExpression\"])],c.prototype,\"readFeatureExpressionInfo\",null),e([p(\"featureExpressionInfo\",{featureExpressionInfo:{type:a},\"featureExpression.value\":{type:[0]}})],c.prototype,\"writeFeatureExpressionInfo\",null),e([o({type:m.apiValues,dependsOn:[\"offset\",\"featureExpressionInfo\"],nonNullable:!0,json:{type:m.jsonValues,read:m.read,write:{writer:m.write,isRequired:!0}}})],c.prototype,\"mode\",null),e([o({type:Number,json:{write:!0}})],c.prototype,\"offset\",void 0),e([o({type:f,json:{type:String,read:d.read,write:d.write}})],c.prototype,\"unit\",null),c=l=e([n(\"esri.layers.support.ElevationInfo\")],c);var x=c;export default x;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getProperties as e}from\"../../core/accessorSupport/utils.js\";import{w as i}from\"../../chunks/persistableUrlUtils.js\";import{willPropertyWrite as r}from\"../../core/accessorSupport/write.js\";import{transparencyToOpacity as n}from\"../../webdoc/support/opacityUtils.js\";import t from\"../../TimeExtent.js\";import o from\"../../symbols/support/ElevationInfo.js\";const s={type:Boolean,value:!0,json:{origins:{\"web-scene\":{read:{source:[\"id\",\"url\",\"layerType\"],reader(i,r){if(null!=r.screenSizePerspective||\"defaults\"!==this.originOf(\"screenSizePerspectiveEnabled\"))return r.screenSizePerspective;e(this).store.set(\"screenSizePerspectiveEnabled\",!1,0)}},write:{ignoreOrigin:!0,target:\"screenSizePerspective\",writer(e,i,n,t){(\"defaults\"===this.originOf(\"screenSizePerspectiveEnabled\")&&e||r(this,\"screenSizePerspectiveEnabled\",{},t))&&(i[n]=e)}}}}}},a={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,i)=>!i.disablePopup},write:{enabled:!0,writer(e,i,r){i[r]=!e}}}},l={type:Boolean,value:!0,json:{name:\"showLabels\",write:!0}},p={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:i}}},c={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:!0}},d={value:null,type:o,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:!0}};function f(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const u={type:Number,json:{origins:{\"web-document\":{default:1,write:!0,read:!0},\"portal-item\":{write:!0}}}},y={...u,json:{...u.json,origins:{\"web-document\":{...u.json.origins[\"web-document\"],write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,i,r)=>r&&\"service\"!==r.origin||!i.drawingInfo||void 0===i.drawingInfo.transparency?i.layerDefinition&&i.layerDefinition.drawingInfo&&void 0!==i.layerDefinition.drawingInfo.transparency?n(i.layerDefinition.drawingInfo.transparency):void 0:n(i.drawingInfo.transparency)}}},m={type:t,dependsOn:[\"view.timeExtent\",\"layer.timeExtent\",\"layer.timeInfo\",\"layer.timeOffset\",\"layer.timeOffset.value\",\"layer.timeOffset.unit\",\"layer.useViewTime\"],readOnly:!0,get(){var e,i;if(null==(e=this.layer)||!e.timeInfo)return null;const r=null==(i=this.view)?void 0:i.timeExtent,n=this.layer.timeExtent,t=this.layer.useViewTime?r&&n?r.intersection(n):r||n:n;if(!t||t.isEmpty)return t;const o=this.layer.timeOffset,s=o?t.offset(-o.value,o.unit):t,a=this._get(\"timeExtent\");return s.equals(a)?a:s}};export{m as combinedViewLayerTimeExtentProperty,d as elevationInfo,l as labelsVisible,c as legendEnabled,u as opacity,y as opacityDrawingInfo,a as popupEnabled,f as readOnlyService,s as screenSizePerspectiveEnabled,p as url};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import t from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{reject as a,isAbortError as o}from\"../../../core/promiseUtils.js\";import p from\"../../../geometry/Extent.js\";import{RefreshableLayerView as m}from\"../../layers/RefreshableLayerView.js\";import n from\"../../../layers/support/ExportWMSImageParameters.js\";import h from\"../../layers/LayerView.js\";import{WMSLayerView as d}from\"../../layers/WMSLayerView.js\";import{BitmapContainer as l}from\"../engine/BitmapContainer.js\";import{LayerView2DMixin as c}from\"./LayerView2D.js\";import u from\"./support/ExportStrategy.js\";const y=t.getLogger(\"esri.views.2d.layers.WMSLayerView2D\");let g=class extends(d(m(c(h)))){initialize(){const{layer:e,view:t}=this;e.supportsSpatialReference(t.spatialReference)||this.addResolvingPromise(a(new s(\"layerview:spatial-reference-incompatible\",\"The spatial references supported by this WMS layer are incompatible with the spatial reference of the view\",{layer:e})))}hitTest(){return null}update(e){this.strategy.update(e).catch((e=>{o(e)||y.error(e)}))}attach(){const{layer:e,view:t}=this,{imageMaxHeight:r,imageMaxWidth:i}=e;this._bitmapContainer=new l,this.container.addChild(this._bitmapContainer),this.strategy=new u({container:this._bitmapContainer,fetchSource:this.fetchImage.bind(this),requestUpdate:this.requestUpdate.bind(this),imageMaxHeight:r,imageMaxWidth:i,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1}),this._exportWMSImageParameters=new n({layer:e,view:t}),this.handles.add(this._exportWMSImageParameters.watch(\"version\",(e=>{this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())})),\"wms\")}detach(){this.handles.remove(\"wms\"),this.strategy.destroy(),this._exportWMSImageParameters.layer=null,this._exportWMSImageParameters.destroy(),this._exportWMSImageParameters=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}createFetchPopupFeaturesQuery(e){const{view:t}=this,r=this._bitmapContainer,{x:i,y:s}=e,{spatialReference:a}=t;let o=null,m=0,n=0;r.children.some((e=>{const{width:t,height:r,resolution:h,x:d,y:l}=e,c=d+h*t,u=l-h*r;return i>=d&&i<=c&&s<=l&&s>=u&&(o=new p({xmin:d,ymin:u,xmax:c,ymax:l,spatialReference:a}),m=t,n=r,!0)}));const h=o.width/m,d=Math.round((i-o.xmin)/h),l=Math.round((o.ymax-s)/h);return{extent:o,width:m,height:n,x:d,y:l}}async doRefresh(){this.requestUpdate()}isUpdating(){return this.strategy.updating||this.updateRequested}fetchImage(e,t,r,i){return this.layer.fetchImage(e,t,r,{timeExtent:this._exportWMSImageParameters.timeExtent,timestamp:this.refreshTimestamp,...i})}};e([r()],g.prototype,\"strategy\",void 0),e([r({dependsOn:[\"strategy.updating\"]})],g.prototype,\"updating\",void 0),g=e([i(\"esri.views.2d.layers.WMSLayerView2D\")],g);var f=g;export default f;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{meterIn as t}from\"../../renderers/support/lengthUtils.js\";function n(n){return null!=t[n]}function r(n){return 1/(t[n]||1)}const e=function(){const n=Object.keys(t);return n.sort(),n}();export{r as getMetersPerUnit,e as supportedUnits,n as supportsUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{reject as s,resolve as p}from\"../../core/promiseUtils.js\";const i=i=>{let c=class extends i{async fetchPopupFeatures(e){const{layer:r}=this;if(!e)return s(new o(\"wmslayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:r}));const{popupEnabled:t}=r;if(!t)return s(new o(\"wmslayerview:fetchPopupFeatures\",\"popupEnabled should be true\",{popupEnabled:t}));const i=this.createFetchPopupFeaturesQuery(e),{extent:c,width:u,height:a,x:n,y:h}=i;if(!(c&&u&&a))throw new o(\"wmslayerview:fetchPopupFeatures\",\"WMSLayer does not support fetching features.\",{extent:c,width:u,height:a});const m=r.fetchFeatureInfo(c,u,a,n,h);return m?m.then((e=>[e])):p([])}};return e([r()],c.prototype,\"layer\",void 0),c=e([t(\"esri.layers.mixins.WMSLayerView\")],c),c};export{i as WMSLayerView};\n"]}