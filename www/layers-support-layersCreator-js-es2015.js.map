{"version":3,"sources":["./node_modules/@arcgis/core/layers/support/layersCreator.js","./node_modules/@arcgis/core/portal/support/featureCollectionUtils.js","./node_modules/@arcgis/core/renderers/support/styleUtils.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACmd,wBAAwB,aAAa,WAAW,kBAAkB,eAAe,sDAAsD,cAAc,wEAAC,IAAI,wEAAwE,SAAS,qlBAAqlB,IAAI,gIAAgI,IAAI,iUAAiU,IAAI,gmBAAgmB,IAAI,kCAAkC,IAAI,2bAA2b,sBAAsB,6BAA6B,cAAc,wEAAwE,QAAQ,kEAAC,mFAAmF,cAAc,oCAAoC,aAAa,MAAM,GAAG,oBAAoB,gBAAgB,aAAa,0FAAC,gBAAgB,2BAA2B,gCAAgC,MAAM,iBAAiB,6CAA6C,kBAAkB,MAAM,iBAAiB,MAAM,YAAY,MAAM,qCAAqC,kBAAkB,MAAM,iBAAiB,MAAM,aAAa,SAAS,IAAI,0BAA0B,kDAAkD,aAAa,QAAQ,kEAAC,IAAI,kEAAC,cAAc,oBAAoB,SAAS,aAAa,YAAY,6DAAC,EAAE,qBAAqB,EAAE,eAAe,eAAe,4FAAC,+BAA+B,EAAE,kEAAC,KAAK,qCAAqC,iGAAC,QAAQ,kEAAC,qBAAqB,8FAAC,QAAQ,kEAAC,qBAAqB,kEAAC,cAAc,2DAA2D,kEAAC,YAAY,WAAW,WAAW,cAAc,qDAAqD,4BAA4B,yCAAyC,cAAc,oCAAoC,wBAAwB,YAAY,2DAAC,wDAAwD,yDAAgG;;;;;;;;;;;;;ACJpxI;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACsF,gBAAgB,kCAAkC,gBAAgB,oCAAoC,0BAA0B,6DAA6D,kBAAkB,iEAAiE,aAAa,YAAY,sDAAC,EAAE,qBAAqB,EAAE,qDAAqD,0EAAC,MAAM,SAAwD;;;;;;;;;;;;;ACJ7gB;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACmJ,wBAAwB,6DAA6D,8CAA8C,cAAc,kEAAC,wBAAwB,GAAG,4EAAC,eAAe,gBAAgB,mCAAmC,wDAAC,4FAA4F,UAAU,GAAG,kBAAkB,kCAAiE","file":"layers-support-layersCreator-js-es2015.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{eachAlways as e}from\"../../core/promiseUtils.js\";import r from\"../../core/Collection.js\";import a from\"../../portal/PortalItem.js\";import{loadStyleRenderer as t}from\"../../renderers/support/styleUtils.js\";import{layerLookupMap as y}from\"./lazyLayerLoader.js\";import{isMapNotesLayer as i,isRouteLayer as L}from\"../../portal/support/featureCollectionUtils.js\";import{selectLayerClassPath as o}from\"../../portal/support/portalLayers.js\";async function n(r,a,t){if(!a)return;const y=[];for(const e of a){const r=I(e,t);\"GroupLayer\"===e.layerType?y.push(m(r,e,t)):y.push(r)}const i=await e(y);for(const e of i)!e.value||t.filter&&!t.filter(e.value)||r.add(e.value)}const l={ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",PointCloudLayer:\"PointCloudLayer\",ArcGISSceneServiceLayer:\"SceneLayer\",IntegratedMeshLayer:\"IntegratedMeshLayer\",BuildingSceneLayer:\"BuildingSceneLayer\",ArcGISTiledElevationServiceLayer:\"ElevationLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",GroupLayer:\"GroupLayer\",WebTiledLayer:\"WebTileLayer\",CSV:\"CSVLayer\",VectorTileLayer:\"VectorTileLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\",KML:\"KMLLayer\",RasterDataLayer:\"UnsupportedLayer\"},c={ArcGISTiledElevationServiceLayer:\"ElevationLayer\",DefaultTileLayer:\"ElevationLayer\",RasterDataElevationLayer:\"UnsupportedLayer\"},s={ArcGISTiledMapServiceLayer:\"TileLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",WebTiledLayer:\"WebTileLayer\",VectorTileLayer:\"VectorTileLayer\",ArcGISImageServiceLayer:\"UnsupportedLayer\",WMS:\"UnsupportedLayer\",ArcGISMapServiceLayer:\"UnsupportedLayer\",DefaultTileLayer:\"TileLayer\"},p={ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISStreamLayer:\"StreamLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",VectorTileLayer:\"VectorTileLayer\",GroupLayer:\"GroupLayer\",WebTiledLayer:\"WebTileLayer\",CSV:\"CSVLayer\",GeoRSS:\"GeoRSSLayer\",KML:\"KMLLayer\",WFS:\"UnsupportedLayer\",SubtypeGroupLayer:\"UnsupportedLayer\",WMS:\"WMSLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",DefaultTileLayer:\"TileLayer\"},S={ArcGISFeatureLayer:\"FeatureLayer\"},u={ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",VectorTileLayer:\"VectorTileLayer\",WebTiledLayer:\"WebTileLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\"};async function I(e,r){return async function(e,r,a){const i=new e;i.read(r,a.context),\"group\"===i.type&&d(r)&&await async function(e,r,a){const t=y.FeatureLayer,i=await t(),L=r.featureCollection,o=L.showLegend,n=L.layers.map((e=>{const r=new i;return r.read(e,a),null!=o&&r.read({showLegend:o},a),r}));e.layers.addMany(n)}(i,r,a.context);return await t(i,a.context),i}(await async function(e,r){const t=r.context,n=function(e){let r;switch(e.origin){case\"web-scene\":switch(e.layerContainerType){case\"basemap\":r=s;break;case\"ground\":r=c;break;default:r=l}break;default:switch(e.layerContainerType){case\"basemap\":r=u;break;case\"tables\":r=S;break;default:r=p}}return r}(t);let I=e.layerType||e.type;!I&&r&&r.defaultLayerType&&(I=r.defaultLayerType);const m=n[I];let g=m?y[m]:y.UnknownLayer;const f=t&&t.portal;if(T(e)){if(e.itemId){const r=new a({id:e.itemId,portal:f});await r.load();const t=(await o(r)).className||\"UnknownLayer\";g=y[t]}}else\"ArcGISFeatureLayer\"===I&&(await i(e,f)?g=y.MapNotesLayer:await L(e,f)?g=y.RouteLayer:d(e)&&(g=y.GroupLayer));e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier&&(g=y.WMTSLayer);return g()}(e,r),e,r)}function d(e){if(\"ArcGISFeatureLayer\"!==e.layerType||T(e))return!1;const r=e.featureCollection;return!!(r&&r.layers&&r.layers.length>1)}function T(e){return\"Feature Collection\"===e.type}async function m(e,a,t){const y=new r,i=n(y,Array.isArray(a.layers)?a.layers:[],t),L=await e;if(await i,\"group\"===L.type)return L.layers.addMany(y),L}export{n as populateOperationalLayers};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../PortalItem.js\";import{hasTypeKeyword as t}from\"./portalItemUtils.js\";function r(e,t){return n(e,t,\"notes\",\"Map Notes\")}function o(e,t){return n(e,t,\"route\",\"Route Layer\")}async function n(r,o,n,i){if(!r.layerType||\"ArcGISFeatureLayer\"!==r.layerType)return!1;if(r.url)return!1;if(r.featureCollectionType&&r.featureCollectionType===n)return!0;if(r.itemId){const n=new e({id:r.itemId,portal:o});return await n.load(),\"Feature Collection\"===n.type&&t(n,i)}return!1}export{r as isMapNotesLayer,o as isRouteLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Warning.js\";import{throwIfAborted as r}from\"../../core/promiseUtils.js\";import{result as o}from\"../../core/asyncUtils.js\";async function t(t,i,n){const s=t&&t.getAtOrigin&&t.getAtOrigin(\"renderer\",i.origin);if(s&&\"unique-value\"===s.type&&s.styleOrigin){const a=await o(s.populateFromStyle());if(r(n),!1===a.ok){const r=a.error;i&&i.messages&&i.messages.push(new e(\"renderer:style-reference\",`Failed to create unique value renderer from style reference: ${r.message}`,{error:r,context:i})),t.clear(\"renderer\",i.origin)}}}export{t as loadStyleRenderer};\n"],"sourceRoot":"webpack:///"}