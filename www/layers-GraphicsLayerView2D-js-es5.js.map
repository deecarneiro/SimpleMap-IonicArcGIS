{"version":3,"sources":["webpack:///node_modules/@arcgis/core/core/accessorSupport/diffUtils.js","webpack:///node_modules/@arcgis/core/core/MemCache.js","webpack:///node_modules/@arcgis/core/core/LRUCache.js","webpack:///node_modules/@arcgis/core/views/2d/layers/GraphicsLayerView2D.js"],"names":["f","i","t","c","Object","keys","items","u","e","l","declaredClass","s","n","o","diff","r","p","length","Array","isArray","type","oldValue","newValue","a","filter","indexOf","y","m","concat","sort","d","b","h","split","added","removed","changed","_namespace","_storage","_removeFunc","_hit","_miss","register","registerRemoveFunc","slice","size","maxSize","clear","deregisterRemoveFunc","deregister","put","get","pop","updateSize","clearAll","getStats","resetStats","_maxSize","_db","Map","_size","_removeFuncs","_users","push","removeUnordered","Math","max","_checkSizeLimit","entry","_notifyRemoved","console","warn","set","lifetime","lives","Size","round","_getHitRate","Entries","toString","forEach","forAll","namespace","startsWith","isNaN","hitRate","resetHitRate","remove","pause","resume","graphicsView","requestUpdateCallback","requestUpdate","view","graphics","layer","container","addChild","handles","add","on","graphicUpdateHandler","removeAllChildren","destroy","suspended","hitTest","searchFeatures","then","popupTemplate","processUpdate","viewChange","updating","uid","map","isCollection","toArray","addHighlight","removeHighlight","prototype","dependsOn"],"mappings":"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","file":"layers-GraphicsLayerView2D-js-es5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as e}from\"../maybe.js\";import{getProperties as n}from\"./utils.js\";import o from\"../Accessor.js\";import r from\"../Collection.js\";const f=[\"esri.Color\",\"esri.portal.Portal\",\"esri.symbols.support.Symbol3DAnchorPosition2D\",\"esri.symbols.support.Symbol3DAnchorPosition3D\"];function i(t){return t instanceof o}function c(t){return t instanceof r?Object.keys(t.items):i(t)?n(t).keys():t?Object.keys(t):[]}function u(t,e){return t instanceof r?t.items[e]:t[e]}function l(t){return t?t.declaredClass:null}function s(t,n){const o=t.diff;if(o&&\"function\"==typeof o)return o(t,n);const r=c(t),p=c(n);if(0===r.length&&0===p.length)return;if(!r.length||!p.length||function(t,e){return!(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}(t,n))return{type:\"complete\",oldValue:t,newValue:n};const a=p.filter((t=>-1===r.indexOf(t))),y=r.filter((t=>-1===p.indexOf(t))),m=r.filter((e=>p.indexOf(e)>-1&&u(t,e)!==u(n,e))).concat(a,y).sort(),d=l(t);if(d&&f.indexOf(d)>-1&&m.length)return{type:\"complete\",oldValue:t,newValue:n};let b;const h=i(t)&&i(n);for(const r of m){const f=u(t,r),i=u(n,r);let c;(h||\"function\"!=typeof f&&\"function\"!=typeof i)&&(f!==i&&(null==f&&null==i||(c=o&&o[r]&&\"function\"==typeof o[r]?o[r](f,i):\"object\"==typeof f&&\"object\"==typeof i&&l(f)===l(i)?s(f,i):{type:\"complete\",oldValue:f,newValue:i},e(c)&&(e(b)?b.diff[r]=c:b={type:\"partial\",diff:{[r]:c}}))))}return b}function p(e,n){if(t(e))return!1;const o=n.split(\".\");let r=e;for(const t of o){if(\"complete\"===r.type)return!0;if(\"partial\"!==r.type)return!1;{const e=r.diff[t];if(!e)return!1;r=e}}return!0}function a(t,e){for(const n of e)if(p(t,n))return!0;return!1}function y(t,e){if(\"function\"!=typeof t&&\"function\"!=typeof e&&(t||e))return!t||!e||\"object\"==typeof t&&\"object\"==typeof e&&l(t)!==l(e)?{type:\"complete\",oldValue:t,newValue:e}:s(t,e)}function m(e){if(t(e))return!0;switch(e.type){case\"complete\":return!1;case\"collection\":{const t=e;for(const e of t.added)if(!m(e))return!1;for(const e of t.removed)if(!m(e))return!1;for(const e of t.changed)if(!m(e))return!1;return!0}case\"partial\":for(const t in e.diff){if(!m(e.diff[t]))return!1}return!0}}export{y as diff,p as hasDiff,a as hasDiffAny,m as isEmpty};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"./PooledArray.js\";const e=-3;class s{constructor(t,e,s){this._namespace=t,this._storage=e,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=\":\",s&&(this._storage.registerRemoveFunc(this._namespace,s),this._removeFunc=!0)}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this)}put(t,e,s,i=0){this._storage.put(this._namespace+t,e,s,i)}get(t){const e=this._storage.get(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}pop(t){const e=this._storage.pop(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}updateSize(t,e,s){this._storage.updateSize(this._namespace+t,e,s)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class i{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=[],this._users=new t}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,e){this._removeFuncs.push([t,e])}deregisterRemoveFunc(t){this._removeFuncs=this._removeFuncs.filter((e=>e[0]!==t))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,e,s,i){const h=this._db.get(t);if(h&&(this._size-=h.size,this._db.delete(t),h.entry!==e&&this._notifyRemoved(t,h.entry)),s>this._maxSize)return void this._notifyRemoved(t,e);if(void 0===e)return void console.warn(\"Refusing to cache undefined entry \");if(!s||s<0)return void console.warn(\"Refusing to cache entry with invalid size \"+s);const r=1+Math.max(i,-3)- -3;this._db.set(t,{entry:e,size:s,lifetime:r,lives:r}),this._size+=s,this._checkSizeLimit()}updateSize(t,e,s){const i=this._db.get(t);i&&i.entry===e&&(this._size-=i.size,s>this._maxSize?this._notifyRemoved(t,e):(i.size=s,this._size+=s,this._checkSizeLimit()))}pop(t){const e=this._db.get(t);if(e)return this._size-=e.size,this._db.delete(t),++this._hit,e.entry;++this._miss}get(t){const e=this._db.get(t);if(void 0!==e)return this._db.delete(t),e.lives=e.lifetime,this._db.set(t,e),++this._hit,e.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+\"/\"+Math.round(this._maxSize/1048576)+\"MB\",\"Hit rate\":Math.round(100*this._getHitRate())+\"%\",Entries:this._db.size.toString()},e={},s=new Array;this._db.forEach(((t,i)=>{const h=t.lifetime;s[h]=(s[h]||0)+t.size,this._users.forAll((s=>{const h=s.namespace;if(i.startsWith(h)){const s=e[h]||0;e[h]=s+t.size}}))}));const i={};this._users.forAll((t=>{const s=t.namespace;if(!isNaN(t.hitRate)&&t.hitRate>0){const h=e[s]||0;e[s]=h,i[s]=Math.round(100*t.hitRate)+\"%\"}else i[s]=\"0%\"}));const h=Object.keys(e);h.forEach((t=>e[t]=e[t]/this._size*100)),h.sort(((t,s)=>e[s]-e[t])),h.forEach((s=>t[s]=Math.round(e[s])+\"% / \"+i[s]));for(let e=s.length-1;e>=0;--e){const i=s[e];i&&(t[\"Priority \"+(e+-3-1)]=Math.round(i/this.size*100)+\"%\")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll((t=>t.resetHitRate()))}clear(t){this._db.forEach(((e,s)=>{s.startsWith(t)&&(this._size-=e.size,this._db.delete(s),this._notifyRemoved(s,e.entry))}))}clearAll(){this._db.forEach(((t,e)=>this._notifyRemoved(e,t.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(t,e){this._removeFuncs.forEach((s=>{t.startsWith(s[0])&&s[1](e)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,e]of this._db)if(this._db.delete(t),e.lives<=1?(this._size-=e.size,this._notifyRemoved(t,e.entry)):(--e.lives,this._db.set(t,e)),this._size<=.9*this.maxSize)return}}export{e as MIN_PRIORITY,s as MemCache,i as MemCacheStorage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";export default class{constructor(e,r){this._storage=new t,this._storage.maxSize=e,r&&this._storage.registerRemoveFunc(\"\",r)}put(t,e,r){this._storage.put(t,e,r,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{resolve as s}from\"../../../core/promiseUtils.js\";import t from\"../../../core/Collection.js\";import a from\"../../../Graphic.js\";import p from\"../../layers/LayerView.js\";import o from\"./graphics/GraphicsView2D.js\";import{LayerView2DMixin as h}from\"./LayerView2D.js\";const c={remove(){},pause(){},resume(){}};let n=class extends(h(p)){initialize(){this.graphicsView=new o({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:this.layer.graphics})}attach(){this.container.addChild(this.graphicsView.container),this.handles.add(this.layer.on(\"graphic-update\",this.graphicsView.graphicUpdateHandler),\"graphicslayerview2d\")}detach(){this.container.removeAllChildren(),this.graphicsView.destroy(),this.handles.remove(\"graphicslayerview2d\")}hitTest(e,i){return this.suspended||!this.graphicsView?s(null):this.graphicsView.hitTest(e,i)}async fetchPopupFeatures(e){if(this.graphicsView)return this.graphicsView.searchFeatures(e).then((e=>e.filter((e=>!!e.popupTemplate))))}update(e){this.graphicsView.processUpdate(e)}moveStart(){}viewChange(){this.graphicsView.viewChange()}moveEnd(){}isUpdating(){return!this.graphicsView||this.graphicsView.updating}highlight(e){let i;return\"number\"==typeof e?i=[e]:e instanceof a?i=[e.uid]:Array.isArray(e)&&e.length>0?i=\"number\"==typeof e[0]?e:e.map((e=>e&&e.uid)):t.isCollection(e)&&(i=e.map((e=>e&&e.uid)).toArray()),i=i.filter((e=>null!=e)),i.length?(this.graphicsView.addHighlight(i),{remove:()=>this.graphicsView.removeHighlight(i)}):c}queryGraphics(){return s(this.graphicsView.graphics)}};e([i()],n.prototype,\"graphicsView\",void 0),e([i({dependsOn:[\"graphicsView.updating\"]})],n.prototype,\"updating\",void 0),n=e([r(\"esri.views.2d.layers.GraphicsLayerView2D\")],n);var l=n;export default l;\n"]}