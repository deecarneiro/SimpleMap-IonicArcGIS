{"version":3,"sources":["webpack:///node_modules/@arcgis/core/layers/support/LercDecoder.js","webpack:///node_modules/@arcgis/core/layers/ElevationLayer.js","webpack:///node_modules/@arcgis/core/layers/mixins/ArcGISService.js","webpack:///node_modules/@arcgis/core/views/3d/support/WorkerHandle.js","webpack:///node_modules/@arcgis/core/core/MemCache.js","webpack:///node_modules/@arcgis/core/core/LRUCache.js"],"names":["t","e","strategy","scheduler","r","n","byteLength","invoke","buffer","options","Map","s","get","instance","ref","set","o","destroy","x","getLogger","T","copyright","heightModelInfo","path","opacity","operationalLayerType","sourceJSON","type","url","version","_lercDecoder","constructed","warn","declaredClass","currentVersion","signal","addResolvingPromise","loadFromPortal","supportedTypes","supportsData","validateItem","typeKeywords","length","toLowerCase","expectedType","then","_fetchImageService","i","a","responseType","l","noDataValue","returnFileInfo","load","_fetchTileAvailability","getTileUrl","decode","data","values","pixelData","width","height","maxZError","fileInfo","minValue","maxValue","tilemapCache","supportsBlankTile","parsedUrl","query","blankTile","ElevationQuery","createSampler","fetchAvailability","f","ssl","replace","read","origin","json","source","prototype","readOnly","String","origins","write","service","value","I","p","c","_get","originOf","title","_set","dependsOn","h","_methodName","_promise","_thread","hasInitialize","broadcast","close","error","getTransferList","transferList","_namespace","_storage","_removeFunc","_hit","_miss","register","registerRemoveFunc","slice","size","maxSize","clear","deregisterRemoveFunc","deregister","put","pop","updateSize","clearAll","getStats","resetStats","_maxSize","_db","_size","_removeFuncs","_users","push","removeUnordered","filter","Math","max","_checkSizeLimit","entry","_notifyRemoved","console","lifetime","lives","Size","round","_getHitRate","Entries","toString","Array","forEach","forAll","namespace","startsWith","isNaN","hitRate","Object","keys","sort","resetHitRate"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;UACiIA,C;;;;;AAAY,mBAAYC,CAAZ,EAAc;AAAA;;AAAA;;AAAC,oCAAM,YAAN,EAAmB,SAAnB,EAA6BA,CAA7B,EAA+B;AAACC,oBAAQ,EAAC;AAAV,WAA/B,GAAuD,MAAKC,SAAL,GAAeF,CAAtE;AAAD;AAAyE;;;;iBAAA,gBAAOG,CAAP,EAASJ,EAAT,EAAWK,CAAX,EAAa;AAAC,mBAAOD,CAAC,IAAE,MAAIA,CAAC,CAACE,UAAT,GAAoB,KAAKC,MAAL,CAAY;AAACC,oBAAM,EAACJ,CAAR;AAAUK,qBAAO,EAACT;AAAlB,aAAZ,EAAiCK,CAAjC,CAApB,GAAwD,sEAAE,IAAF,CAA/D;AAAuE;;;iBAAA,yBAAgBJ,CAAhB,EAAkB;AAAC,mBAAM,CAACA,CAAC,CAACO,MAAH,CAAN;AAAiB;;;;QAAlN,8E;;AAAmN,UAAMH,CAAC,GAAC,IAAIK,GAAJ,EAAR;;AAAgB,eAASC,CAAT,CAAWV,CAAX,EAAa;AAAC,YAAIG,CAAC,GAACC,CAAC,CAACO,GAAF,CAAMX,CAAN,CAAN;AAAe,eAAOG,CAAC,KAAGA,CAAC,GAAC;AAACS,kBAAQ,EAAC,IAAIb,CAAJ,CAAMC,CAAN,CAAV;AAAmBa,aAAG,EAAC;AAAvB,SAAF,EAA4BT,CAAC,CAACU,GAAF,CAAMd,CAAN,EAAQG,CAAR,CAA/B,CAAD,EAA4C,EAAEA,CAAC,CAACU,GAAhD,EAAoDV,CAAC,CAACS,QAA7D;AAAsE;;AAAA,eAASG,CAAT,CAAWf,CAAX,EAAa;AAAC,YAAG,QAAMA,CAAT,EAAW;AAAO,YAAMG,CAAC,GAACH,CAAC,CAACE,SAAV;AAAA,YAAoBH,CAAC,GAACK,CAAC,CAACO,GAAF,CAAMR,CAAN,CAAtB;AAA+BJ,SAAC,IAAE,EAAEA,CAAC,CAACc,GAAJ,IAAS,CAAZ,KAAgBd,CAAC,CAACa,QAAF,CAAWI,OAAX,IAAqBZ,CAAC,UAAD,CAASD,CAAT,CAArC;AAAkG;;;;;;;;;;;;;;;;;ACJlnB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;AACurC,UAAMc,CAAC,GAAC,wDAAEC,SAAF,CAAY,4BAAZ,CAAR;;AAAkD,UAAIC,CAAC;AAAA;;AAAA;;AAAiC,qBAAiB;AAAA;;AAAA;;AAAA,4CAAFnB,CAAE;AAAFA,aAAE;AAAA;;AAAC,6DAASA,CAAT,IAAY,OAAKoB,SAAL,GAAe,IAA3B,EAAgC,OAAKC,eAAL,GAAqB,IAArD,EAA0D,OAAKC,IAAL,GAAU,IAApE,EAAyE,OAAKC,OAAL,GAAa,CAAtF,EAAwF,OAAKC,oBAAL,GAA0B,kCAAlH,EAAqJ,OAAKC,UAAL,GAAgB,IAArK,EAA0K,OAAKC,IAAL,GAAU,WAApL,EAAgM,OAAKC,GAAL,GAAS,IAAzM,EAA8M,OAAKC,OAAL,GAAa,IAA3N,EAAgO,OAAKC,YAAL,GAAkB,iFAAlP;AAAD;AAAuP;;AAAzS;AAAA;AAAA,iBAAyS,2BAAkB7B,CAAlB,EAAoBG,CAApB,EAAsB;AAAC,mBAAM,YAAU,OAAOH,CAAjB;AAAoB2B,iBAAG,EAAC3B;AAAxB,eAA6BG,CAA7B,IAAgCH,CAAtC;AAAwC;AAAxW;AAAA;AAAA,iBAAwW,mBAAS;AAAC,4FAAE,KAAK6B,YAAP,GAAqB,KAAKA,YAAL,GAAkB,IAAvC;AAA4C;AAA9Z;AAAA;AAAA,eAA8gB,eAAc,CAAE,CAA9hB;AAAA,eAA8Z,aAAa7B,CAAb,EAAe;AAAC,iBAAK8B,WAAL,IAAkBb,CAAC,CAACc,IAAF,WAAU,KAAKC,aAAf,oDAAlB;AAAgG;AAA9gB;AAAA;AAAA,eAA8oB,eAAc,CAAE,CAA9pB;AAAA,eAA8hB,aAAahC,CAAb,EAAe;AAAC,iBAAK8B,WAAL,IAAkBb,CAAC,CAACc,IAAF,WAAU,KAAKC,aAAf,oDAAlB;AAAgG;AAA9oB;AAAA;AAAA,iBAA8pB,qBAAYhC,CAAZ,EAAcG,CAAd,EAAgB;AAAC,gBAAIJ,CAAC,GAACI,CAAC,CAAC8B,cAAR;AAAuB,mBAAOlC,CAAC,KAAGA,CAAC,GAAC,GAAL,CAAD,EAAWA,CAAlB;AAAoB;AAA1tB;AAAA;AAAA,iBAA0tB,cAAKC,CAAL,EAAO;AAAA;;AAAC,gBAAMD,CAAC,GAAC,8DAAEC,CAAF,IAAKA,CAAC,CAACkC,MAAP,GAAc,IAAtB;AAA2B,mBAAO,KAAKC,mBAAL,CAAyB,KAAKC,cAAL,CAAoB;AAACC,4BAAc,EAAC,CAAC,eAAD,CAAhB;AAAkCC,0BAAY,EAAC,CAAC,CAAhD;AAAkDC,0BAAY,EAAC,sBAAAvC,CAAC,EAAE;AAAC,qBAAI,IAAIG,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACH,CAAC,CAACwC,YAAF,CAAeC,MAA7B,EAAoCtC,CAAC,EAArC;AAAwC,sBAAG,yBAAuBH,CAAC,CAACwC,YAAF,CAAerC,CAAf,EAAkBuC,WAAlB,EAA1B,EAA0D,OAAM,CAAC,CAAP;AAAlG;;AAA2G,sBAAM,IAAI,sDAAJ,CAAM,gCAAN,EAAuC,gEAAvC,EAAwG;AAAChB,sBAAI,EAAC,eAAN;AAAsBiB,8BAAY,EAAC;AAAnC,iBAAxG,CAAN;AAAsL;AAApW,aAApB,EAA0X3C,CAA1X,EAA6X4C,IAA7X,CAAmY;AAAA,qBAAI,MAAI,CAACC,kBAAL,CAAwB9C,CAAxB,CAAJ;AAAA,aAAnY,EAAoa;AAAA,qBAAI,MAAI,CAAC8C,kBAAL,CAAwB9C,CAAxB,CAAJ;AAAA,aAApa,CAAzB,GAA+d,uEAAE,IAAF,CAAte;AAA8e;AAA3uC;AAAA;AAAA,iBAA2uC,mBAAUC,CAAV,EAAYD,CAAZ,EAAcgB,CAAd,EAAgB+B,CAAhB,EAAkB;AAAA;;AAAC,gBAAMpC,CAAC,GAAC,8DAAE,CAACoC,CAAC,GAACA,CAAC,IAAE;AAACZ,oBAAM,EAAC;AAAR,aAAN,EAAqBA,MAAvB,IAA+BY,CAAC,CAACZ,MAAjC,GAAwCY,CAAC,CAACZ,MAAF,GAAS,uFAAIA,MAA7D;AAAA,gBAAoEa,CAAC,GAAC;AAACC,0BAAY,EAAC,cAAd;AAA6Bd,oBAAM,EAACxB;AAApC,aAAtE;AAAA,gBAA6GuC,CAAC,GAAC;AAACC,yBAAW,EAACJ,CAAC,CAACI,WAAf;AAA2BC,4BAAc,EAAC,CAAC;AAA3C,aAA/G;AAA6J,mBAAO,KAAKC,IAAL,GAAYR,IAAZ,CAAkB;AAAA,qBAAI,MAAI,CAACS,sBAAL,CAA4BrD,CAA5B,EAA8BD,CAA9B,EAAgCgB,CAAhC,EAAkC+B,CAAlC,CAAJ;AAAA,aAAlB,EAA6DF,IAA7D,CAAmE;AAAA,qBAAI,6DAAE,MAAI,CAACU,UAAL,CAAgBtD,CAAhB,EAAkBD,CAAlB,EAAoBgB,CAApB,CAAF,EAAyBgC,CAAzB,CAAJ;AAAA,aAAnE,EAAqGH,IAArG,CAA2G,UAAA5C,CAAC;AAAA,qBAAE,MAAI,CAAC6B,YAAL,CAAkB0B,MAAlB,CAAyBvD,CAAC,CAACwD,IAA3B,EAAgCP,CAAhC,EAAkCvC,CAAlC,CAAF;AAAA,aAA5G,EAAqJkC,IAArJ,CAA2J,UAAA5C,CAAC;AAAA,qBAAG;AAACyD,sBAAM,EAACzD,CAAC,CAAC0D,SAAV;AAAoBC,qBAAK,EAAC3D,CAAC,CAAC2D,KAA5B;AAAkCC,sBAAM,EAAC5D,CAAC,CAAC4D,MAA3C;AAAkDC,yBAAS,EAAC7D,CAAC,CAAC8D,QAAF,CAAWD,SAAvE;AAAiFX,2BAAW,EAAClD,CAAC,CAACkD,WAA/F;AAA2Ga,wBAAQ,EAAC/D,CAAC,CAAC+D,QAAtH;AAA+HC,wBAAQ,EAAChE,CAAC,CAACgE;AAA1I,eAAH;AAAA,aAA5J,CAAP;AAA6T;AAAxtD;AAAA;AAAA,iBAAwtD,oBAAWhE,CAAX,EAAaG,CAAb,EAAeJ,CAAf,EAAiB;AAAC,gBAAMgB,CAAC,GAAC,CAAC,KAAKkD,YAAN,IAAoB,KAAKC,iBAAjC;AAAA,gBAAmDpB,CAAC,GAAC,wGAAM,KAAKqB,SAAL,CAAeC,KAArB;AAA2BC,uBAAS,EAAC,CAACtD,CAAD,IAAI;AAAzC,eAArD;AAAqG,6BAAS,KAAKoD,SAAL,CAAe7C,IAAxB,mBAAqCtB,CAArC,cAA0CG,CAA1C,cAA+CJ,CAA/C,SAAmD+C,CAAC,GAAC,MAAIA,CAAL,GAAO,EAA3D;AAAgE;AAA/4D;AAAA;AAAA;AAAA,0FAA+4D,iBAAqB9C,CAArB,EAAuBG,CAAvB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAwD;AAAA;AAAA;AAAA;AAAA,8BAAxD;;AAAA;AAAA;AAA+CJ,uBAA/C,yBAAgCuE,cAAhC;AAA8F,oGAAEnE,CAAF;AAA9F,uDAA0G,IAAIJ,CAAJ,EAAD,CAAQqE,KAAR,CAAc,IAAd,EAAmBpE,CAAnB,EAAqBG,CAArB,CAAzG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA/4D;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kGAAghE,kBAA6BH,CAA7B,EAA+BG,CAA/B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAgE;AAAA;AAAA;AAAA;AAAA,8BAAhE;;AAAA;AAAA;AAAuDJ,uBAAvD,0BAAwCuE,cAAxC;AAAsG,oGAAEnE,CAAF;AAAtG,wDAAkH,IAAIJ,CAAJ,EAAD,CAAQwE,aAAR,CAAsB,IAAtB,EAA2BvE,CAA3B,EAA6BG,CAA7B,CAAjH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAhhE;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiqE,gCAAuBH,CAAvB,EAAyBG,CAAzB,EAA2BJ,CAA3B,EAA6BgB,CAA7B,EAA+B;AAAC,mBAAO,KAAKkD,YAAL,GAAkB,KAAKA,YAAL,CAAkBO,iBAAlB,CAAoCxE,CAApC,EAAsCG,CAAtC,EAAwCJ,CAAxC,EAA0CgB,CAA1C,CAAlB,GAA+D,uEAAE,SAAF,CAAtE;AAAmF;AAApxE;AAAA;AAAA;AAAA,8FAAoxE,kBAAyBf,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAA+B,KAAKyB,UAApC;AAAA;AAAA;AAAA;;AAAA,wDAAsD,KAAKA,UAA3D;;AAAA;AAA4EtB,uBAA5E,GAA8E;AAACiE,6BAAK;AAAEK,2BAAC,EAAC;AAAJ,2BAAc,KAAKN,SAAL,CAAeC,KAA7B,CAAN;AAA0CpB,oCAAY,EAAC,MAAvD;AAA8Dd,8BAAM,EAAClC;AAArE,uBAA9E;AAAA;AAAA,6BAA8J,6DAAE,KAAKmE,SAAL,CAAe7C,IAAjB,EAAsBnB,CAAtB,CAA9J;;AAAA;AAAsJJ,uBAAtJ;AAAuLA,uBAAC,CAAC2E,GAAF,KAAQ,KAAK/C,GAAL,GAAS,KAAKA,GAAL,CAASgD,OAAT,CAAiB,SAAjB,EAA2B,QAA3B,CAAjB,GAAuD,KAAKlD,UAAL,GAAgB1B,CAAC,CAACyD,IAAzE,EAA8E,KAAKoB,IAAL,CAAU7E,CAAC,CAACyD,IAAZ,EAAiB;AAACqB,8BAAM,EAAC,SAAR;AAAkBlD,2BAAG,EAAC,KAAKwC;AAA3B,uBAAjB,CAA9E;;AAAvL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAApxE;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,QAAe,4FAAE,gFAAE,sFAAE,4EAAE,8FAAE,kDAAF,CAAF,CAAF,CAAF,CAAF,CAAf,CAAL;;AAAwlF,qEAAE,CAAC,8FAAE;AAACW,YAAI,EAAC;AAACF,cAAI,EAAC;AAACG,kBAAM,EAAC;AAAR;AAAN;AAAN,OAAF,CAAD,CAAF,EAA8C5D,CAAC,CAAC6D,SAAhD,EAA0D,WAA1D,EAAsE,KAAK,CAA3E,GAA8E,+DAAE,CAAC,8FAAE;AAACC,gBAAQ,EAAC,CAAC,CAAX;AAAavD,YAAI,EAAC;AAAlB,OAAF,CAAD,CAAF,EAA4BP,CAAC,CAAC6D,SAA9B,EAAwC,iBAAxC,EAA0D,KAAK,CAA/D,CAA9E,EAAgJ,+DAAE,CAAC,8FAAE;AAACtD,YAAI,EAACwD,MAAN;AAAaJ,YAAI,EAAC;AAACK,iBAAO,EAAC;AAAC,yBAAY;AAACP,kBAAI,EAAC,CAAC,CAAP;AAASQ,mBAAK,EAAC,CAAC;AAAhB;AAAb,WAAT;AAA0CR,cAAI,EAAC,CAAC;AAAhD;AAAlB,OAAF,CAAD,CAAF,EAA6EzD,CAAC,CAAC6D,SAA/E,EAAyF,MAAzF,EAAgG,KAAK,CAArG,CAAhJ,EAAwP,+DAAE,CAAC,8FAAE;AAACtD,YAAI,EAAC,CAAC,MAAD,EAAQ,MAAR;AAAN,OAAF,CAAD,CAAF,EAA8BP,CAAC,CAAC6D,SAAhC,EAA0C,UAA1C,EAAqD,KAAK,CAA1D,CAAxP,EAAqT,+DAAE,CAAC,8FAAE;AAACF,YAAI,EAAC;AAACF,cAAI,EAAC,CAAC,CAAP;AAASQ,eAAK,EAAC,CAAC,CAAhB;AAAkBD,iBAAO,EAAC;AAACE,mBAAO,EAAC;AAACT,kBAAI,EAAC,CAAC,CAAP;AAASQ,mBAAK,EAAC,CAAC;AAAhB,aAAT;AAA4B,2BAAc;AAACR,kBAAI,EAAC,CAAC,CAAP;AAASQ,mBAAK,EAAC,CAAC;AAAhB,aAA1C;AAA6D,4BAAe;AAACR,kBAAI,EAAC,CAAC,CAAP;AAASQ,mBAAK,EAAC,CAAC;AAAhB;AAA5E;AAA1B;AAAN,OAAF,CAAD,CAAF,EAAyIjE,CAAC,CAAC6D,SAA3I,EAAqJ,UAArJ,EAAgK,IAAhK,CAArT,EAA2d,+DAAE,CAAC,8FAAE;AAACF,YAAI,EAAC;AAACF,cAAI,EAAC,CAAC,CAAP;AAASQ,eAAK,EAAC,CAAC,CAAhB;AAAkBD,iBAAO,EAAC;AAACE,mBAAO,EAAC;AAACT,kBAAI,EAAC,CAAC,CAAP;AAASQ,mBAAK,EAAC,CAAC;AAAhB,aAAT;AAA4B,2BAAc;AAACR,kBAAI,EAAC,CAAC,CAAP;AAASQ,mBAAK,EAAC,CAAC;AAAhB,aAA1C;AAA6D,4BAAe;AAACR,kBAAI,EAAC,CAAC,CAAP;AAASQ,mBAAK,EAAC,CAAC;AAAhB;AAA5E;AAA1B;AAAN,OAAF,CAAD,CAAF,EAAyIjE,CAAC,CAAC6D,SAA3I,EAAqJ,UAArJ,EAAgK,IAAhK,CAA3d,EAAioB,+DAAE,CAAC,8FAAE;AAACF,YAAI,EAAC;AAACF,cAAI,EAAC,CAAC,CAAP;AAASQ,eAAK,EAAC,CAAC,CAAhB;AAAkBD,iBAAO,EAAC;AAAC,4BAAe;AAACP,kBAAI,EAAC,CAAC,CAAP;AAASQ,mBAAK,EAAC,CAAC;AAAhB;AAAhB;AAA1B;AAAN,OAAF,CAAD,CAAF,EAA6EjE,CAAC,CAAC6D,SAA/E,EAAyF,SAAzF,EAAmG,KAAK,CAAxG,CAAjoB,EAA4uB,+DAAE,CAAC,8FAAE;AAACtD,YAAI,EAAC,CAAC,kCAAD;AAAN,OAAF,CAAD,CAAF,EAAmDP,CAAC,CAAC6D,SAArD,EAA+D,sBAA/D,EAAsF,KAAK,CAA3F,CAA5uB,EAA00B,+DAAE,CAAC,+FAAD,CAAF,EAAQ7D,CAAC,CAAC6D,SAAV,EAAoB,YAApB,EAAiC,KAAK,CAAtC,CAA10B,EAAm3B,+DAAE,CAAC,8FAAE;AAACF,YAAI,EAAC;AAACF,cAAI,EAAC,CAAC;AAAP,SAAN;AAAgBU,aAAK,EAAC,WAAtB;AAAkCL,gBAAQ,EAAC,CAAC;AAA5C,OAAF,CAAD,CAAF,EAAsD9D,CAAC,CAAC6D,SAAxD,EAAkE,MAAlE,EAAyE,KAAK,CAA9E,CAAn3B,EAAo8B,+DAAE,CAAC,8FAAE,iEAAF,CAAD,CAAF,EAAS7D,CAAC,CAAC6D,SAAX,EAAqB,KAArB,EAA2B,KAAK,CAAhC,CAAp8B,EAAu+B,+DAAE,CAAC,+FAAD,CAAF,EAAQ7D,CAAC,CAAC6D,SAAV,EAAoB,SAApB,EAA8B,KAAK,CAAnC,CAAv+B,EAA6gC,+DAAE,CAAC,0FAAE,SAAF,EAAY,CAAC,gBAAD,CAAZ,CAAD,CAAF,EAAoC7D,CAAC,CAAC6D,SAAtC,EAAgD,aAAhD,EAA8D,IAA9D,CAA7gC,EAAilC7D,CAAC,GAAC,+DAAE,CAAC,8FAAE,4BAAF,CAAD,CAAF,EAAoCA,CAApC,CAAnlC;AAA0nC,UAAIoE,CAAC,GAACpE,CAAN;AAAuB;;AAAA,uCAAAoE,CAAA;;;;;;;;;;;;;;;;ACJl9J;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;AACshB,UAAMC,CAAC,GAAC,WAAAA,GAAC,EAAE;AAAC,YAAIC,CAAC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,iBAAiB,eAAW;AAAC,kBAAG,KAAKC,IAAL,CAAU,OAAV,KAAoB,eAAa,KAAKC,QAAL,CAAc,OAAd,CAApC,EAA2D,OAAO,KAAKD,IAAL,CAAU,OAAV,CAAP;;AAA0B,kBAAG,KAAK/D,GAAR,EAAY;AAAC,oBAAM5B,CAAC,GAAC,0EAAE,KAAK4B,GAAP,CAAR;AAAoB,oBAAG,8DAAE5B,CAAF,KAAMA,CAAC,CAAC6F,KAAX,EAAiB,OAAO7F,CAAC,CAAC6F,KAAT;AAAe;;AAAA,qBAAO,KAAKF,IAAL,CAAU,OAAV,KAAoB,EAA3B;AAA8B,aAAjN;AAAA,iBAAiN,aAAU3F,CAAV,EAAY;AAAC,mBAAK8F,IAAL,CAAU,OAAV,EAAkB9F,CAAlB;AAAqB;AAAnP;AAAA;AAAA,iBAAmP,aAAQA,CAAR,EAAU;AAAC,mBAAK8F,IAAL,CAAU,KAAV,EAAgB,gFAAE9F,CAAF,EAAI,wDAAEmB,SAAF,CAAY,KAAKc,aAAjB,CAAJ,CAAhB;AAAsD;AAApT;;AAAA;AAAA,UAAewD,GAAf,CAAL;;AAA2T,eAAO,+DAAE,CAAC,8FAAE;AAACM,mBAAS,EAAC,CAAC,KAAD;AAAX,SAAF,CAAD,CAAF,EAA2BL,CAAC,CAACT,SAA7B,EAAuC,OAAvC,EAA+C,IAA/C,GAAqD,+DAAE,CAAC,8FAAE;AAACtD,cAAI,EAACwD;AAAN,SAAF,CAAD,CAAF,EAAqBO,CAAC,CAACT,SAAvB,EAAiC,KAAjC,EAAuC,IAAvC,CAArD,EAAkGS,CAAC,GAAC,+DAAE,CAAC,8FAAE,kCAAF,CAAD,CAAF,EAA0CA,CAA1C,CAApG,EAAiJA,CAAxJ;AAA0J,OAAje;;;;;;;;;;;;;;;;;ACJthB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;AACmL,UAAM1E,CAAC,GAAC,wDAAEG,SAAF,CAAY,oCAAZ,CAAR;;UAAgE6E,C;AAAE,mBAAYhG,CAAZ,EAAcI,CAAd,EAAgBH,CAAhB,EAAuB;AAAA;;AAAA,cAALU,CAAK,uEAAH,EAAG;;AAAA;;AAAC,eAAKsF,WAAL,GAAiB7F,CAAjB,EAAmB,KAAK8F,QAAL,GAAc,sEAAElG,CAAF,kCAAQW,CAAR;AAAUR,qBAAS,EAACF;AAApB,cAAwB4C,IAAxB,CAA8B,UAAA7C,CAAC,EAAE;AAAC,iBAAK,CAAL,KAAS,MAAI,CAACmG,OAAd,IAAuB,MAAI,CAACA,OAAL,GAAanG,CAAb,EAAe,MAAI,CAACkG,QAAL,GAAc,IAA7B,EAAkCvF,CAAC,CAACyF,aAAF,IAAiB,MAAI,CAACC,SAAL,CAAe,EAAf,EAAkB,YAAlB,CAA1E,IAA2GrG,CAAC,CAACsG,KAAF,EAA3G;AAAqH,WAAvJ,CAAjC,EAA2L,KAAKJ,QAAL,UAAqB,UAAA9F,CAAC;AAAA,mBAAEY,CAAC,CAACuF,KAAF,gCAAgCvG,CAAhC,sBAA6CI,CAA7C,EAAF;AAAA,WAAtB,CAA3L;AAAuQ;;;;iBAAA,mBAAS;AAAC,iBAAK+F,OAAL,KAAe,KAAKA,OAAL,CAAaG,KAAb,IAAqB,KAAKH,OAAL,GAAa,IAAjD,GAAuD,KAAKD,QAAL,GAAc,IAArE;AAA0E;;;iBAAA,gBAAOlG,CAAP,EAASW,CAAT,EAAW;AAAA;;AAAC,gBAAG,KAAKwF,OAAR,EAAgB;AAAC,kBAAM/F,CAAC,GAAC,KAAKoG,eAAL,CAAqBxG,CAArB,CAAR;AAAgC,qBAAO,KAAKmG,OAAL,CAAa5F,MAAb,CAAoB,KAAK0F,WAAzB,EAAqCjG,CAArC,EAAuC;AAACyG,4BAAY,EAACrG,CAAd;AAAgB+B,sBAAM,EAACxB;AAAvB,eAAvC,CAAP;AAAyE;;AAAA,mBAAO,KAAKuF,QAAL,GAAc,KAAKA,QAAL,CAAcrD,IAAd,CAAoB;AAAA,qBAAK,6EAAElC,CAAF,GAAK,MAAI,CAACJ,MAAL,CAAYP,CAAZ,EAAcW,CAAd,CAAV;AAAA,aAApB,CAAd,GAAgE,qEAAE,IAAF,CAAvE;AAA+E;;;iBAAA,mBAAUX,CAAV,EAAYI,CAAZ,EAAc;AAAA;;AAAC,mBAAO,KAAK+F,OAAL,GAAa,kEAAE,KAAKA,OAAL,CAAaE,SAAb,CAAuBjG,CAAvB,EAAyBJ,CAAzB,CAAF,EAA+B6C,IAA/B,CAAqC,YAAI,CAAE,CAA3C,CAAb,GAA2D,KAAKqD,QAAL,GAAc,KAAKA,QAAL,CAAcrD,IAAd,CAAoB;AAAA,qBAAI,MAAI,CAACwD,SAAL,CAAerG,CAAf,EAAiBI,CAAjB,CAAJ;AAAA,aAApB,CAAd,GAA4D,sEAA9H;AAAkI;;;eAAA,eAAa;AAAC,mBAAO,KAAK8F,QAAZ;AAAqB;;;;;;;;;;;;;;;;;;;;;ACJj/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;AACgC,UAAMjG,CAAC,GAAC,CAAC,CAAT;;UAAiBU,C;AAAE,mBAAYX,CAAZ,EAAcC,CAAd,EAAgBU,EAAhB,EAAkB;AAAA;;AAAC,eAAK+F,UAAL,GAAgB1G,CAAhB,EAAkB,KAAK2G,QAAL,GAAc1G,CAAhC,EAAkC,KAAK2G,WAAL,GAAiB,CAAC,CAApD,EAAsD,KAAKC,IAAL,GAAU,CAAhE,EAAkE,KAAKC,KAAL,GAAW,CAA7E,EAA+E,KAAKH,QAAL,CAAcI,QAAd,CAAuB,IAAvB,CAA/E,EAA4G,KAAKL,UAAL,IAAiB,GAA7H,EAAiI/F,EAAC,KAAG,KAAKgG,QAAL,CAAcK,kBAAd,CAAiC,KAAKN,UAAtC,EAAiD/F,EAAjD,GAAoD,KAAKiG,WAAL,GAAiB,CAAC,CAAzE,CAAlI;AAA8M;;;;eAAA,eAAe;AAAC,mBAAO,KAAKF,UAAL,CAAgBO,KAAhB,CAAsB,CAAtB,EAAwB,CAAC,CAAzB,CAAP;AAAmC;;;eAAA,eAAa;AAAC,mBAAO,KAAKJ,IAAL,IAAW,KAAKA,IAAL,GAAU,KAAKC,KAA1B,CAAP;AAAwC;;;eAAA,eAAU;AAAC,mBAAO,KAAKH,QAAL,CAAcO,IAArB;AAA0B;;;eAAA,eAAa;AAAC,mBAAO,KAAKP,QAAL,CAAcQ,OAArB;AAA6B;;;iBAAA,wBAAc;AAAC,iBAAKN,IAAL,GAAU,KAAKC,KAAL,GAAW,CAArB;AAAuB;;;iBAAA,mBAAS;AAAC,iBAAKH,QAAL,CAAcS,KAAd,CAAoB,KAAKV,UAAzB,GAAqC,KAAKE,WAAL,IAAkB,KAAKD,QAAL,CAAcU,oBAAd,CAAmC,KAAKX,UAAxC,CAAvD,EAA2G,KAAKC,QAAL,CAAcW,UAAd,CAAyB,IAAzB,CAA3G;AAA0I;;;iBAAA,aAAItH,CAAJ,EAAMC,CAAN,EAAQU,GAAR,EAAc;AAAA,gBAAJoC,CAAI,uEAAF,CAAE;;AAAC,iBAAK4D,QAAL,CAAcY,GAAd,CAAkB,KAAKb,UAAL,GAAgB1G,CAAlC,EAAoCC,CAApC,EAAsCU,GAAtC,EAAwCoC,CAAxC;AAA2C;;;iBAAA,aAAI/C,CAAJ,EAAM;AAAC,gBAAMC,CAAC,GAAC,KAAK0G,QAAL,CAAc/F,GAAd,CAAkB,KAAK8F,UAAL,GAAgB1G,CAAlC,CAAR;;AAA6C,mBAAO,KAAK,CAAL,KAASC,CAAT,GAAW,EAAE,KAAK6G,KAAlB,GAAwB,EAAE,KAAKD,IAA/B,EAAoC5G,CAA3C;AAA6C;;;iBAAA,aAAID,CAAJ,EAAM;AAAC,gBAAMC,CAAC,GAAC,KAAK0G,QAAL,CAAca,GAAd,CAAkB,KAAKd,UAAL,GAAgB1G,CAAlC,CAAR;;AAA6C,mBAAO,KAAK,CAAL,KAASC,CAAT,GAAW,EAAE,KAAK6G,KAAlB,GAAwB,EAAE,KAAKD,IAA/B,EAAoC5G,CAA3C;AAA6C;;;iBAAA,oBAAWD,CAAX,EAAaC,CAAb,EAAeU,GAAf,EAAiB;AAAC,iBAAKgG,QAAL,CAAcc,UAAd,CAAyB,KAAKf,UAAL,GAAgB1G,CAAzC,EAA2CC,CAA3C,EAA6CU,GAA7C;AAAgD;;;iBAAA,iBAAO;AAAC,iBAAKgG,QAAL,CAAcS,KAAd,CAAoB,KAAKV,UAAzB;AAAqC;;;iBAAA,oBAAU;AAAC,iBAAKC,QAAL,CAAce,QAAd;AAAyB;;;iBAAA,oBAAU;AAAC,mBAAO,KAAKf,QAAL,CAAcgB,QAAd,EAAP;AAAgC;;;iBAAA,sBAAY;AAAC,iBAAKhB,QAAL,CAAciB,UAAd;AAA2B;;;;;;UAAO7E,C;AAAE,qBAAuB;AAAA,cAAX9C,CAAW,uEAAT,QAAS;;AAAA;;AAAC,eAAK4H,QAAL,GAAc5H,CAAd,EAAgB,KAAK6H,GAAL,GAAS,IAAIpH,GAAJ,EAAzB,EAAiC,KAAKqH,KAAL,GAAW,CAA5C,EAA8C,KAAKlB,IAAL,GAAU,CAAxD,EAA0D,KAAKC,KAAL,GAAW,CAArE,EAAuE,KAAKkB,YAAL,GAAkB,EAAzF,EAA4F,KAAKC,MAAL,GAAY,IAAI,uDAAJ,EAAxG;AAA8G;;;;iBAAA,kBAASjI,CAAT,EAAW;AAAC,iBAAKiI,MAAL,CAAYC,IAAZ,CAAiBlI,CAAjB;AAAoB;;;iBAAA,oBAAWA,CAAX,EAAa;AAAC,iBAAKiI,MAAL,CAAYE,eAAZ,CAA4BnI,CAA5B;AAA+B;;;iBAAA,4BAAmBA,CAAnB,EAAqBC,CAArB,EAAuB;AAAC,iBAAK+H,YAAL,CAAkBE,IAAlB,CAAuB,CAAClI,CAAD,EAAGC,CAAH,CAAvB;AAA8B;;;iBAAA,8BAAqBD,CAArB,EAAuB;AAAC,iBAAKgI,YAAL,GAAkB,KAAKA,YAAL,CAAkBI,MAAlB,CAA0B,UAAAnI,CAAC;AAAA,qBAAEA,CAAC,CAAC,CAAD,CAAD,KAAOD,CAAT;AAAA,aAA3B,CAAlB;AAA0D;;;eAAA,eAAU;AAAC,mBAAO,KAAK+H,KAAZ;AAAkB;;;eAAA,eAAa;AAAC,mBAAO,KAAKF,QAAZ;AAAqB,W;eAAA,aAAY7H,CAAZ,EAAc;AAAC,iBAAK6H,QAAL,GAAcQ,IAAI,CAACC,GAAL,CAAStI,CAAT,EAAW,CAAX,CAAd,EAA4B,KAAKuI,eAAL,EAA5B;AAAmD;;;iBAAA,aAAIvI,CAAJ,EAAMC,CAAN,EAAQU,CAAR,EAAUoC,EAAV,EAAY;AAAC,gBAAMiD,CAAC,GAAC,KAAK8B,GAAL,CAASlH,GAAT,CAAaZ,CAAb,CAAR;;AAAwB,gBAAGgG,CAAC,KAAG,KAAK+B,KAAL,IAAY/B,CAAC,CAACkB,IAAd,EAAmB,KAAKY,GAAL,WAAgB9H,CAAhB,CAAnB,EAAsCgG,CAAC,CAACwC,KAAF,KAAUvI,CAAV,IAAa,KAAKwI,cAAL,CAAoBzI,CAApB,EAAsBgG,CAAC,CAACwC,KAAxB,CAAtD,CAAD,EAAuF7H,CAAC,GAAC,KAAKkH,QAAjG,EAA0G,OAAO,KAAK,KAAKY,cAAL,CAAoBzI,CAApB,EAAsBC,CAAtB,CAAZ;AAAqC,gBAAG,KAAK,CAAL,KAASA,CAAZ,EAAc,OAAO,KAAKyI,OAAO,CAAC1G,IAAR,CAAa,oCAAb,CAAZ;AAA+D,gBAAG,CAACrB,CAAD,IAAIA,CAAC,GAAC,CAAT,EAAW,OAAO,KAAK+H,OAAO,CAAC1G,IAAR,CAAa,+CAA6CrB,CAA1D,CAAZ;AAAyE,gBAAMP,CAAC,GAAC,IAAEiI,IAAI,CAACC,GAAL,CAASvF,EAAT,EAAW,CAAC,CAAZ,CAAF,GAAkB,CAAC,CAA3B;AAA6B,iBAAK+E,GAAL,CAAS/G,GAAT,CAAaf,CAAb,EAAe;AAACwI,mBAAK,EAACvI,CAAP;AAASiH,kBAAI,EAACvG,CAAd;AAAgBgI,sBAAQ,EAACvI,CAAzB;AAA2BwI,mBAAK,EAACxI;AAAjC,aAAf,GAAoD,KAAK2H,KAAL,IAAYpH,CAAhE,EAAkE,KAAK4H,eAAL,EAAlE;AAAyF;;;iBAAA,oBAAWvI,CAAX,EAAaC,CAAb,EAAeU,CAAf,EAAiB;AAAC,gBAAMoC,GAAC,GAAC,KAAK+E,GAAL,CAASlH,GAAT,CAAaZ,CAAb,CAAR;;AAAwB+C,eAAC,IAAEA,GAAC,CAACyF,KAAF,KAAUvI,CAAb,KAAiB,KAAK8H,KAAL,IAAYhF,GAAC,CAACmE,IAAd,EAAmBvG,CAAC,GAAC,KAAKkH,QAAP,GAAgB,KAAKY,cAAL,CAAoBzI,CAApB,EAAsBC,CAAtB,CAAhB,IAA0C8C,GAAC,CAACmE,IAAF,GAAOvG,CAAP,EAAS,KAAKoH,KAAL,IAAYpH,CAArB,EAAuB,KAAK4H,eAAL,EAAjE,CAApC;AAA8H;;;iBAAA,aAAIvI,CAAJ,EAAM;AAAC,gBAAMC,CAAC,GAAC,KAAK6H,GAAL,CAASlH,GAAT,CAAaZ,CAAb,CAAR;;AAAwB,gBAAGC,CAAH,EAAK,OAAO,KAAK8H,KAAL,IAAY9H,CAAC,CAACiH,IAAd,EAAmB,KAAKY,GAAL,WAAgB9H,CAAhB,CAAnB,EAAsC,EAAE,KAAK6G,IAA7C,EAAkD5G,CAAC,CAACuI,KAA3D;AAAiE,cAAE,KAAK1B,KAAP;AAAa;;;iBAAA,aAAI9G,CAAJ,EAAM;AAAC,gBAAMC,CAAC,GAAC,KAAK6H,GAAL,CAASlH,GAAT,CAAaZ,CAAb,CAAR;;AAAwB,gBAAG,KAAK,CAAL,KAASC,CAAZ,EAAc,OAAO,KAAK6H,GAAL,WAAgB9H,CAAhB,GAAmBC,CAAC,CAAC2I,KAAF,GAAQ3I,CAAC,CAAC0I,QAA7B,EAAsC,KAAKb,GAAL,CAAS/G,GAAT,CAAaf,CAAb,EAAeC,CAAf,CAAtC,EAAwD,EAAE,KAAK4G,IAA/D,EAAoE5G,CAAC,CAACuI,KAA7E;AAAmF,cAAE,KAAK1B,KAAP;AAAa;;;iBAAA,oBAAU;AAAA;;AAAC,gBAAM9G,CAAC,GAAC;AAAC6I,kBAAI,EAACR,IAAI,CAACS,KAAL,CAAW,KAAKf,KAAL,GAAW,OAAtB,IAA+B,GAA/B,GAAmCM,IAAI,CAACS,KAAL,CAAW,KAAKjB,QAAL,GAAc,OAAzB,CAAnC,GAAqE,IAA3E;AAAgF,0BAAWQ,IAAI,CAACS,KAAL,CAAW,MAAI,KAAKC,WAAL,EAAf,IAAmC,GAA9H;AAAkIC,qBAAO,EAAC,KAAKlB,GAAL,CAASZ,IAAT,CAAc+B,QAAd;AAA1I,aAAR;AAAA,gBAA4KhJ,CAAC,GAAC,EAA9K;AAAA,gBAAiLU,CAAC,GAAC,IAAIuI,KAAJ,EAAnL;;AAA6L,iBAAKpB,GAAL,CAASqB,OAAT,CAAkB,UAACnJ,CAAD,EAAG+C,GAAH,EAAO;AAAC,kBAAMiD,CAAC,GAAChG,CAAC,CAAC2I,QAAV;AAAmBhI,eAAC,CAACqF,CAAD,CAAD,GAAK,CAACrF,CAAC,CAACqF,CAAD,CAAD,IAAM,CAAP,IAAUhG,CAAC,CAACkH,IAAjB,EAAsB,MAAI,CAACe,MAAL,CAAYmB,MAAZ,CAAoB,UAAAzI,CAAC,EAAE;AAAC,oBAAMqF,CAAC,GAACrF,CAAC,CAAC0I,SAAV;;AAAoB,oBAAGtG,GAAC,CAACuG,UAAF,CAAatD,CAAb,CAAH,EAAmB;AAAC,sBAAMrF,GAAC,GAACV,CAAC,CAAC+F,CAAD,CAAD,IAAM,CAAd;;AAAgB/F,mBAAC,CAAC+F,CAAD,CAAD,GAAKrF,GAAC,GAACX,CAAC,CAACkH,IAAT;AAAc;AAAC,eAA/F,CAAtB;AAAwH,aAArK;;AAAwK,gBAAMnE,GAAC,GAAC,EAAR;;AAAW,iBAAKkF,MAAL,CAAYmB,MAAZ,CAAoB,UAAApJ,CAAC,EAAE;AAAC,kBAAMW,CAAC,GAACX,CAAC,CAACqJ,SAAV;;AAAoB,kBAAG,CAACE,KAAK,CAACvJ,CAAC,CAACwJ,OAAH,CAAN,IAAmBxJ,CAAC,CAACwJ,OAAF,GAAU,CAAhC,EAAkC;AAAC,oBAAMxD,EAAC,GAAC/F,CAAC,CAACU,CAAD,CAAD,IAAM,CAAd;;AAAgBV,iBAAC,CAACU,CAAD,CAAD,GAAKqF,EAAL,EAAOjD,GAAC,CAACpC,CAAD,CAAD,GAAK0H,IAAI,CAACS,KAAL,CAAW,MAAI9I,CAAC,CAACwJ,OAAjB,IAA0B,GAAtC;AAA0C,eAA7F,MAAkGzG,GAAC,CAACpC,CAAD,CAAD,GAAK,IAAL;AAAU,aAAxJ;;AAA2J,gBAAMqF,CAAC,GAACyD,MAAM,CAACC,IAAP,CAAYzJ,CAAZ,CAAR;AAAuB+F,aAAC,CAACmD,OAAF,CAAW,UAAAnJ,CAAC;AAAA,qBAAEC,CAAC,CAACD,CAAD,CAAD,GAAKC,CAAC,CAACD,CAAD,CAAD,GAAK,MAAI,CAAC+H,KAAV,GAAgB,GAAvB;AAAA,aAAZ,GAAyC/B,CAAC,CAAC2D,IAAF,CAAQ,UAAC3J,CAAD,EAAGW,CAAH;AAAA,qBAAOV,CAAC,CAACU,CAAD,CAAD,GAAKV,CAAC,CAACD,CAAD,CAAb;AAAA,aAAR,CAAzC,EAAoEgG,CAAC,CAACmD,OAAF,CAAW,UAAAxI,CAAC;AAAA,qBAAEX,CAAC,CAACW,CAAD,CAAD,GAAK0H,IAAI,CAACS,KAAL,CAAW7I,CAAC,CAACU,CAAD,CAAZ,IAAiB,MAAjB,GAAwBoC,GAAC,CAACpC,CAAD,CAAhC;AAAA,aAAZ,CAApE;;AAAsH,iBAAI,IAAIV,EAAC,GAACU,CAAC,CAAC+B,MAAF,GAAS,CAAnB,EAAqBzC,EAAC,IAAE,CAAxB,EAA0B,EAAEA,EAA5B,EAA8B;AAAC,kBAAM8C,GAAC,GAACpC,CAAC,CAACV,EAAD,CAAT;AAAa8C,iBAAC,KAAG/C,CAAC,CAAC,eAAaC,EAAC,GAAC,CAAC,CAAH,GAAK,CAAlB,CAAD,CAAD,GAAwBoI,IAAI,CAACS,KAAL,CAAW/F,GAAC,GAAC,KAAKmE,IAAP,GAAY,GAAvB,IAA4B,GAAvD,CAAD;AAA6D;;AAAA,mBAAOlH,CAAP;AAAS;;;iBAAA,sBAAY;AAAC,iBAAK6G,IAAL,GAAU,KAAKC,KAAL,GAAW,CAArB,EAAuB,KAAKmB,MAAL,CAAYmB,MAAZ,CAAoB,UAAApJ,CAAC;AAAA,qBAAEA,CAAC,CAAC4J,YAAF,EAAF;AAAA,aAArB,CAAvB;AAAiE;;;iBAAA,eAAM5J,CAAN,EAAQ;AAAA;;AAAC,iBAAK8H,GAAL,CAASqB,OAAT,CAAkB,UAAClJ,CAAD,EAAGU,CAAH,EAAO;AAACA,eAAC,CAAC2I,UAAF,CAAatJ,CAAb,MAAkB,MAAI,CAAC+H,KAAL,IAAY9H,CAAC,CAACiH,IAAd,EAAmB,MAAI,CAACY,GAAL,WAAgBnH,CAAhB,CAAnB,EAAsC,MAAI,CAAC8H,cAAL,CAAoB9H,CAApB,EAAsBV,CAAC,CAACuI,KAAxB,CAAxD;AAAwF,aAAlH;AAAqH;;;iBAAA,oBAAU;AAAA;;AAAC,iBAAKV,GAAL,CAASqB,OAAT,CAAkB,UAACnJ,CAAD,EAAGC,CAAH;AAAA,qBAAO,OAAI,CAACwI,cAAL,CAAoBxI,CAApB,EAAsBD,CAAC,CAACwI,KAAxB,CAAP;AAAA,aAAlB,GAA0D,KAAKT,KAAL,GAAW,CAArE,EAAuE,KAAKD,GAAL,CAASV,KAAT,EAAvE;AAAwF;;;iBAAA,uBAAa;AAAC,mBAAO,KAAKP,IAAL,IAAW,KAAKA,IAAL,GAAU,KAAKC,KAA1B,CAAP;AAAwC;;;iBAAA,wBAAe9G,CAAf,EAAiBC,CAAjB,EAAmB;AAAC,iBAAK+H,YAAL,CAAkBmB,OAAlB,CAA2B,UAAAxI,CAAC,EAAE;AAACX,eAAC,CAACsJ,UAAF,CAAa3I,CAAC,CAAC,CAAD,CAAd,KAAoBA,CAAC,CAAC,CAAD,CAAD,CAAKV,CAAL,CAApB;AAA4B,aAA3D;AAA8D;;;iBAAA,2BAAiB;AAAC,gBAAG,EAAE,KAAK8H,KAAL,IAAY,KAAKF,QAAnB,CAAH;AAAA,yDAAiD,KAAKC,GAAtD;AAAA;;AAAA;AAAgC;AAAA;AAAA,sBAAU9H,CAAV;AAAA,sBAAYC,GAAZ;;AAA0B,sBAAG,KAAK6H,GAAL,WAAgB9H,CAAhB,GAAmBC,GAAC,CAAC2I,KAAF,IAAS,CAAT,IAAY,KAAKb,KAAL,IAAY9H,GAAC,CAACiH,IAAd,EAAmB,KAAKuB,cAAL,CAAoBzI,CAApB,EAAsBC,GAAC,CAACuI,KAAxB,CAA/B,KAAgE,EAAEvI,GAAC,CAAC2I,KAAJ,EAAU,KAAKd,GAAL,CAAS/G,GAAT,CAAaf,CAAb,EAAeC,GAAf,CAA1E,CAAnB,EAAgH,KAAK8H,KAAL,IAAY,KAAG,KAAKZ,OAAvI,EAA+I;AAAzK;AAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgN;;;;;;;;;;;;;;;;;;;;;ACJ/2H;AAAA;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAC+D;;;AAAA;AAAM,wBAAYlH,CAAZ,EAAcG,CAAd,EAAgB;AAAA;;AAAC,eAAKuG,QAAL,GAAc,IAAI,4DAAJ,EAAd,EAAoB,KAAKA,QAAL,CAAcQ,OAAd,GAAsBlH,CAA1C,EAA4CG,CAAC,IAAE,KAAKuG,QAAL,CAAcK,kBAAd,CAAiC,EAAjC,EAAoC5G,CAApC,CAA/C;AAAsF;;AAA7G;AAAA;AAAA,iBAA6G,aAAIJ,CAAJ,EAAMC,CAAN,EAAQG,CAAR,EAAU;AAAC,iBAAKuG,QAAL,CAAcY,GAAd,CAAkBvH,CAAlB,EAAoBC,CAApB,EAAsBG,CAAtB,EAAwB,CAAxB;AAA2B;AAAnJ;AAAA;AAAA,iBAAmJ,aAAIJ,CAAJ,EAAM;AAAC,mBAAO,KAAK2G,QAAL,CAAca,GAAd,CAAkBxH,CAAlB,CAAP;AAA4B;AAAtL;AAAA;AAAA,iBAAsL,aAAIA,CAAJ,EAAM;AAAC,mBAAO,KAAK2G,QAAL,CAAc/F,GAAd,CAAkBZ,CAAlB,CAAP;AAA4B;AAAzN;AAAA;AAAA,iBAAyN,iBAAO;AAAC,iBAAK2G,QAAL,CAAce,QAAd;AAAyB;AAA1P;AAAA;AAAA,iBAA0P,mBAAS;AAAC,iBAAKf,QAAL,CAAce,QAAd;AAAyB;AAA7R;AAAA;AAAA,eAA6R,eAAa;AAAC,mBAAO,KAAKf,QAAL,CAAcQ,OAArB;AAA6B,WAAxU;AAAA,eAAwU,aAAYnH,CAAZ,EAAc;AAAC,iBAAK2G,QAAL,CAAcQ,OAAd,GAAsBnH,CAAtB;AAAwB;AAA/W;;AAAA;AAAA","file":"ElevationLayer-js-es5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{resolve as e}from\"../../core/promiseUtils.js\";import{WorkerHandle as r}from\"../../views/3d/support/WorkerHandle.js\";class t extends r{constructor(e){super(\"LercWorker\",\"_decode\",e,{strategy:\"dedicated\"}),this.scheduler=e}decode(r,t,n){return r&&0!==r.byteLength?this.invoke({buffer:r,options:t},n):e(null)}getTransferList(e){return[e.buffer]}}const n=new Map;function s(e){let r=n.get(e);return r||(r={instance:new t(e),ref:0},n.set(e,r)),++r.ref,r.instance}function o(e){if(null==e)return;const r=e.scheduler,t=n.get(r);t&&--t.ref<=0&&(t.instance.destroy(),n.delete(r))}export{s as acquireDecoder,o as releaseDecoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as r}from\"../core/maybe.js\";import t from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{reader as i}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import a from\"../core/Error.js\";import{objectToQuery as l}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as n,createAbortController as p,throwIfAborted as c}from\"../core/promiseUtils.js\";import m from\"../request.js\";import u from\"./Layer.js\";import{MultiOriginJSONMixin as d}from\"../core/MultiOriginJSONSupport.js\";import h from\"../geometry/HeightModelInfo.js\";import{url as y}from\"./support/commonProperties.js\";import{OperationalLayer as v}from\"./mixins/OperationalLayer.js\";import{ArcGISService as g}from\"./mixins/ArcGISService.js\";import{PortalLayer as f}from\"./mixins/PortalLayer.js\";import{ArcGISCachedService as S}from\"./mixins/ArcGISCachedService.js\";import{acquireDecoder as j,releaseDecoder as w}from\"./support/LercDecoder.js\";const x=t.getLogger(\"esri.layers.ElevationLayer\");let T=class extends(S(g(v(f(d(u)))))){constructor(...e){super(...e),this.copyright=null,this.heightModelInfo=null,this.path=null,this.opacity=1,this.operationalLayerType=\"ArcGISTiledElevationServiceLayer\",this.sourceJSON=null,this.type=\"elevation\",this.url=null,this.version=null,this._lercDecoder=j()}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}destroy(){w(this._lercDecoder),this._lercDecoder=null}set minScale(e){this.constructed&&x.warn(`${this.declaredClass}.minScale support has been removed (since 4.5)`)}get minScale(){}set maxScale(e){this.constructed&&x.warn(`${this.declaredClass}.maxScale support has been removed (since 4.5)`)}get maxScale(){}readVersion(e,r){let t=r.currentVersion;return t||(t=9.3),t}load(e){const t=r(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Image Service\"],supportsData:!1,validateItem:e=>{for(let r=0;r<e.typeKeywords.length;r++)if(\"elevation 3d layer\"===e.typeKeywords[r].toLowerCase())return!0;throw new a(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}' \",{type:\"Image Service\",expectedType:\"Image Service Elevation 3D Layer\"})}},e).then((()=>this._fetchImageService(t)),(()=>this._fetchImageService(t)))),n(this)}fetchTile(e,t,o,i){const s=r((i=i||{signal:null}).signal)?i.signal:i.signal=p().signal,a={responseType:\"array-buffer\",signal:s},l={noDataValue:i.noDataValue,returnFileInfo:!0};return this.load().then((()=>this._fetchTileAvailability(e,t,o,i))).then((()=>m(this.getTileUrl(e,t,o),a))).then((e=>this._lercDecoder.decode(e.data,l,s))).then((e=>({values:e.pixelData,width:e.width,height:e.height,maxZError:e.fileInfo.maxZError,noDataValue:e.noDataValue,minValue:e.minValue,maxValue:e.maxValue})))}getTileUrl(e,r,t){const o=!this.tilemapCache&&this.supportsBlankTile,i=l({...this.parsedUrl.query,blankTile:!o&&null});return`${this.parsedUrl.path}/tile/${e}/${r}/${t}${i?\"?\"+i:\"\"}`}async queryElevation(e,r){const{ElevationQuery:t}=await import(\"./support/ElevationQuery.js\");c(r);return(new t).query(this,e,r)}async createElevationSampler(e,r){const{ElevationQuery:t}=await import(\"./support/ElevationQuery.js\");c(r);return(new t).createSampler(this,e,r)}_fetchTileAvailability(e,r,t,o){return this.tilemapCache?this.tilemapCache.fetchAvailability(e,r,t,o):n(\"unknown\")}async _fetchImageService(e){if(this.sourceJSON)return this.sourceJSON;const r={query:{f:\"json\",...this.parsedUrl.query},responseType:\"json\",signal:e},t=await m(this.parsedUrl.path,r);t.ssl&&(this.url=this.url.replace(/^http:/i,\"https:\")),this.sourceJSON=t.data,this.read(t.data,{origin:\"service\",url:this.parsedUrl})}};e([o({json:{read:{source:\"copyrightText\"}}})],T.prototype,\"copyright\",void 0),e([o({readOnly:!0,type:h})],T.prototype,\"heightModelInfo\",void 0),e([o({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],T.prototype,\"path\",void 0),e([o({type:[\"show\",\"hide\"]})],T.prototype,\"listMode\",void 0),e([o({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}}})],T.prototype,\"minScale\",null),e([o({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}}})],T.prototype,\"maxScale\",null),e([o({json:{read:!1,write:!1,origins:{\"web-document\":{read:!1,write:!1}}}})],T.prototype,\"opacity\",void 0),e([o({type:[\"ArcGISTiledElevationServiceLayer\"]})],T.prototype,\"operationalLayerType\",void 0),e([o()],T.prototype,\"sourceJSON\",void 0),e([o({json:{read:!1},value:\"elevation\",readOnly:!0})],T.prototype,\"type\",void 0),e([o(y)],T.prototype,\"url\",void 0),e([o()],T.prototype,\"version\",void 0),e([i(\"version\",[\"currentVersion\"])],T.prototype,\"readVersion\",null),T=e([s(\"esri.layers.ElevationLayer\")],T);var I=T;export default I;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import e from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{parse as i,sanitizeUrl as l}from\"../support/arcgisLayerUrl.js\";const p=p=>{let c=class extends p{get title(){if(this._get(\"title\")&&\"defaults\"!==this.originOf(\"title\"))return this._get(\"title\");if(this.url){const t=i(this.url);if(r(t)&&t.title)return t.title}return this._get(\"title\")||\"\"}set title(t){this._set(\"title\",t)}set url(t){this._set(\"url\",l(t,e.getLogger(this.declaredClass)))}};return t([s({dependsOn:[\"url\"]})],c.prototype,\"title\",null),t([s({type:String})],c.prototype,\"url\",null),c=t([o(\"esri.layers.mixins.ArcGISService\")],c),c};export{p as ArcGISService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Logger.js\";import{throwIfAborted as r,reject as e,all as s}from\"../../../core/promiseUtils.js\";import{open as i}from\"../../../core/workers/workers.js\";const o=t.getLogger(\"esri.views.3d.support.WorkerHandle\");class h{constructor(t,r,e,s={}){this._methodName=r,this._promise=i(t,{...s,scheduler:e}).then((t=>{void 0===this._thread?(this._thread=t,this._promise=null,s.hasInitialize&&this.broadcast({},\"initialize\")):t.close()})),this._promise.catch((r=>o.error(`Failed to initialize ${t} worker: ${r}`)))}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null}invoke(t,s){if(this._thread){const r=this.getTransferList(t);return this._thread.invoke(this._methodName,t,{transferList:r,signal:s})}return this._promise?this._promise.then((()=>(r(s),this.invoke(t,s)))):e(null)}broadcast(t,r){return this._thread?s(this._thread.broadcast(r,t)).then((()=>{})):this._promise?this._promise.then((()=>this.broadcast(t,r))):e()}get promise(){return this._promise}}export{h as WorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"./PooledArray.js\";const e=-3;class s{constructor(t,e,s){this._namespace=t,this._storage=e,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=\":\",s&&(this._storage.registerRemoveFunc(this._namespace,s),this._removeFunc=!0)}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this)}put(t,e,s,i=0){this._storage.put(this._namespace+t,e,s,i)}get(t){const e=this._storage.get(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}pop(t){const e=this._storage.pop(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}updateSize(t,e,s){this._storage.updateSize(this._namespace+t,e,s)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class i{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=[],this._users=new t}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,e){this._removeFuncs.push([t,e])}deregisterRemoveFunc(t){this._removeFuncs=this._removeFuncs.filter((e=>e[0]!==t))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,e,s,i){const h=this._db.get(t);if(h&&(this._size-=h.size,this._db.delete(t),h.entry!==e&&this._notifyRemoved(t,h.entry)),s>this._maxSize)return void this._notifyRemoved(t,e);if(void 0===e)return void console.warn(\"Refusing to cache undefined entry \");if(!s||s<0)return void console.warn(\"Refusing to cache entry with invalid size \"+s);const r=1+Math.max(i,-3)- -3;this._db.set(t,{entry:e,size:s,lifetime:r,lives:r}),this._size+=s,this._checkSizeLimit()}updateSize(t,e,s){const i=this._db.get(t);i&&i.entry===e&&(this._size-=i.size,s>this._maxSize?this._notifyRemoved(t,e):(i.size=s,this._size+=s,this._checkSizeLimit()))}pop(t){const e=this._db.get(t);if(e)return this._size-=e.size,this._db.delete(t),++this._hit,e.entry;++this._miss}get(t){const e=this._db.get(t);if(void 0!==e)return this._db.delete(t),e.lives=e.lifetime,this._db.set(t,e),++this._hit,e.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+\"/\"+Math.round(this._maxSize/1048576)+\"MB\",\"Hit rate\":Math.round(100*this._getHitRate())+\"%\",Entries:this._db.size.toString()},e={},s=new Array;this._db.forEach(((t,i)=>{const h=t.lifetime;s[h]=(s[h]||0)+t.size,this._users.forAll((s=>{const h=s.namespace;if(i.startsWith(h)){const s=e[h]||0;e[h]=s+t.size}}))}));const i={};this._users.forAll((t=>{const s=t.namespace;if(!isNaN(t.hitRate)&&t.hitRate>0){const h=e[s]||0;e[s]=h,i[s]=Math.round(100*t.hitRate)+\"%\"}else i[s]=\"0%\"}));const h=Object.keys(e);h.forEach((t=>e[t]=e[t]/this._size*100)),h.sort(((t,s)=>e[s]-e[t])),h.forEach((s=>t[s]=Math.round(e[s])+\"% / \"+i[s]));for(let e=s.length-1;e>=0;--e){const i=s[e];i&&(t[\"Priority \"+(e+-3-1)]=Math.round(i/this.size*100)+\"%\")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll((t=>t.resetHitRate()))}clear(t){this._db.forEach(((e,s)=>{s.startsWith(t)&&(this._size-=e.size,this._db.delete(s),this._notifyRemoved(s,e.entry))}))}clearAll(){this._db.forEach(((t,e)=>this._notifyRemoved(e,t.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(t,e){this._removeFuncs.forEach((s=>{t.startsWith(s[0])&&s[1](e)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,e]of this._db)if(this._db.delete(t),e.lives<=1?(this._size-=e.size,this._notifyRemoved(t,e.entry)):(--e.lives,this._db.set(t,e)),this._size<=.9*this.maxSize)return}}export{e as MIN_PRIORITY,s as MemCache,i as MemCacheStorage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";export default class{constructor(e,r){this._storage=new t,this._storage.maxSize=e,r&&this._storage.registerRemoveFunc(\"\",r)}put(t,e,r){this._storage.put(t,e,r,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}\n"]}