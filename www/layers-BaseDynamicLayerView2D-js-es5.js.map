{"version":3,"sources":["webpack:///node_modules/@arcgis/core/views/2d/layers/BaseDynamicLayerView2D.js"],"names":["h","getLogger","c","t","strategy","update","error","notifyChange","_bitmapContainer","container","addChild","fetchSource","fetchBitmapData","bind","requestUpdate","destroy","removeChild","removeAllChildren","e","r","layer","fetchImage","timestamp","refreshTimestamp","updating","updateRequested","prototype","dependsOn","d"],"mappings":"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","file":"layers-BaseDynamicLayerView2D-js-es5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import e from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{isAbortError as i}from\"../../../core/promiseUtils.js\";import{RefreshableLayerView as a}from\"../../layers/RefreshableLayerView.js\";import o from\"../../layers/LayerView.js\";import{BitmapContainer as p}from\"../engine/BitmapContainer.js\";import{LayerView2DMixin as n}from\"./LayerView2D.js\";import m from\"./support/ExportStrategy.js\";const h=e.getLogger(\"esri.views.2d.layers.BaseDynamicLayerView2D\");let c=class extends(a(n(o))){hitTest(){return null}update(t){this.strategy.update(t).catch((t=>{i(t)||h.error(t)})),this.notifyChange(\"updating\")}attach(){this._bitmapContainer=new p,this.container.addChild(this._bitmapContainer),this.strategy=new m({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})}detach(){this.strategy.destroy(),this.strategy=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}fetchBitmapData(t,e,r){return this.layer.fetchImage(t,e,r,{timestamp:this.refreshTimestamp})}async doRefresh(){this.requestUpdate()}isUpdating(){return this.strategy.updating||this.updateRequested}};t([r()],c.prototype,\"strategy\",void 0),t([r({dependsOn:[\"strategy.updating\"]})],c.prototype,\"updating\",void 0),c=t([s(\"esri.views.2d.layers.BaseDynamicLayerView2D\")],c);var d=c;export default d;\n"]}