{"version":3,"sources":["webpack:///node_modules/@arcgis/core/portal/support/layersLoader.js","webpack:///node_modules/@arcgis/core/renderers/support/styleUtils.js"],"names":["s","n","u","instance","portalItem","id","load","t","r","supportedTypes","indexOf","type","expectedType","join","d","y","url","f","title","m","read","l","a","FeatureLayer","StreamLayer","SceneLayer","then","e","p","c","i","responseType","query","data","o","name","layers","map","tables","h","resourceReferences","paths","readResourcePaths","forEach","layerDefinition","push","filter","reverse","add","clone","layerId","sublayerTitleMode","origin","portal","getDefault","showLegend","supportsData","fetchData","length","getAtOrigin","styleOrigin","populateFromStyle","ok","error","messages","message","context","clear"],"mappings":"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","file":"portal-support-layersLoader-js-es5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{resolve as t}from\"../../core/promiseUtils.js\";import r from\"../../request.js\";import n from\"../Portal.js\";import{loadStyleRenderer as l}from\"../../renderers/support/styleUtils.js\";import{createForItem as a}from\"./jsonContext.js\";import{layerLookupMap as o}from\"../../layers/support/lazyLayerLoader.js\";async function s(n,s){const u=n.instance.portalItem;return u&&u.id?(await u.load(s),function(t){const r=t.instance.portalItem;if(-1===t.supportedTypes.indexOf(r.type))throw new e(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}'\",{type:r.type,expectedType:t.supportedTypes.join(\", \")})}(n),async function(n,s){const u=n.instance,d=u.portalItem,{url:y,title:f}=d,m=a(d);if(\"group\"===u.type)return u.read({title:f},m),function(n,l){let a;const s=n.portalItem.type;switch(s){case\"Feature Service\":a=o.FeatureLayer;break;case\"Stream Service\":a=o.StreamLayer;break;case\"Scene Service\":a=o.SceneLayer;break;case\"Feature Collection\":a=o.FeatureLayer;break;default:throw new e(\"portal:unsupported-item-type-as-group\",`The item type '${s}' is not supported as a 'GroupLayer'`)}let u;return a().then((e=>(u=e,p(l)))).then((e=>c(e)>0?i(n,u,e):function(e,n){if(!e.portalItem.url)return t();const l={responseType:\"json\",query:{f:\"json\"}};return r(e.portalItem.url,l).then((t=>{var r,l;const a=t.data;function o(e){return{id:e.id,name:e.name}}a&&i(e,n,{layers:null==(r=a.layers)?void 0:r.map(o),tables:null==(l=a.tables)?void 0:l.map(o)})}))}(n,u)))}(u,n);y&&u.read({url:y},m);const h=await p(n,s);h&&u.read(h,m);return u.resourceReferences={portalItem:d,paths:m.readResourcePaths},u.read({title:f},m),l(u,m)}(n,s)):t()}function i(e,t,r){let n=r.layers||[];const l=r.tables||[];\"Feature Collection\"===e.portalItem.type&&(n.forEach((e=>{var t;\"Table\"===(null==e||null==(t=e.layerDefinition)?void 0:t.type)&&l.push(e)})),n=n.filter((e=>{var t;return\"Table\"!==(null==e||null==(t=e.layerDefinition)?void 0:t.type)}))),n.reverse().forEach((n=>{const l=u(e,t,r,n);e.add(l)})),l.reverse().forEach((n=>{const l=u(e,t,r,n);e.tables.add(l)}))}function u(e,t,r,l){const a=new t({portalItem:e.portalItem.clone(),layerId:l.id,sublayerTitleMode:\"service-name\"});if(\"Feature Collection\"===e.portalItem.type){const t={origin:\"portal-item\",portal:e.portalItem.portal||n.getDefault()};a.read(l,t);const o=r.showLegend;null!=o&&a.read({showLegend:o},t)}return a}function p(e,r){if(!1===e.supportsData)return t();const n=e.instance;return n.portalItem.fetchData(\"json\",r).catch((()=>null)).then((e=>{const t=e;let r;if(function(e){if(\"stream\"===e.type)return!1;return\"layerId\"in e}(n)){let l=!0;return e&&c(t)>0&&(null==n.layerId&&(n.layerId=function(e){const t=e.layers;if(t&&t.length)return t[0].id;const r=e.tables;if(r&&r.length)return r[0].id;return null}(t)),r=function(e,t){const r=e.layers;if(r)for(let e=0;e<r.length;e++)if(r[e].id===t)return r[e];const n=e.tables;if(n)for(let e=0;e<n.length;e++)if(n[e].id===t)return n[e];return null}(t,n.layerId),r&&(1===c(t)&&(l=!1),null!=e.showLegend&&(r.showLegend=e.showLegend))),l&&\"service-name\"!==n.sublayerTitleMode&&(n.sublayerTitleMode=\"item-title-and-service-name\"),r}return e}))}function c(e){var t,r,n,l;return(null!=(t=null==e||null==(r=e.layers)?void 0:r.length)?t:0)+(null!=(n=null==e||null==(l=e.tables)?void 0:l.length)?n:0)}export{s as load};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Warning.js\";import{throwIfAborted as r}from\"../../core/promiseUtils.js\";import{result as o}from\"../../core/asyncUtils.js\";async function t(t,i,n){const s=t&&t.getAtOrigin&&t.getAtOrigin(\"renderer\",i.origin);if(s&&\"unique-value\"===s.type&&s.styleOrigin){const a=await o(s.populateFromStyle());if(r(n),!1===a.ok){const r=a.error;i&&i.messages&&i.messages.push(new e(\"renderer:style-reference\",`Failed to create unique value renderer from style reference: ${r.message}`,{error:r,context:i})),t.clear(\"renderer\",i.origin)}}}export{t as loadStyleRenderer};\n"]}