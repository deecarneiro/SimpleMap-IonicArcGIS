{"version":3,"sources":["webpack:///node_modules/@arcgis/core/layers/graphics/sources/geojson/GeoJSONSourceWorker.js","webpack:///node_modules/@arcgis/core/chunks/_commonjsHelpers.js"],"names":["D","hasAttachments","capabilities","useStandardizedQueries","supportsCoordinatesQuantization","supportsReturningQueryGeometry","advancedQueryCapabilities","supportsQueryAttachments","supportsStatistics","supportsPercentileStatistics","supportsReturningGeometryCentroid","supportsQueryWithDistance","supportsDistinct","supportsReturningQueryExtent","supportsReturningGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQueryWithResultType","supportsSqlExpression","supportsDisjointSpatialRel","_queryEngine","destroy","_requiredFields","_fieldsIndex","_createDefaultAttributes","t","r","_checkProjection","spatialReference","u","url","responseType","data","p","geometryType","y","fields","c","hasZ","T","q","objectIdField","objectIdFieldType","objectIdFieldName","x","w","timeInfo","push","name","message","unknownFields","length","details","e","some","type","editable","nullable","unshift","alias","field","jsonValues","indexOf","R","startTimeField","get","endTimeField","trackIdField","O","warnings","featureErrors","layerDefinition","drawingInfo","templates","extent","hasM","featureStore","_nextObjectId","maxObjectId","S","geometry","_loadInitialFeatures","i","s","adds","updates","_applyEdits","executeQuery","signal","executeQueryForCount","executeQueryForIds","executeQueryForExtent","n","attributes","_assignObjectId","objectId","addMany","fullExtent","timeExtent","start","end","deletes","addResults","deleteResults","updateResults","uidToObjectId","_applyAddEdits","_applyUpdateEdits","removeManyById","featureEditResults","o","a","l","d","uid","f","has","getFeature","add","isFinite","globalThis","window","global","self","__esModule","Object","prototype","hasOwnProperty","call","path","exports","require","Error"],"mappings":"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","file":"layers-graphics-sources-geojson-GeoJSONSourceWorker-js-es5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{all as t}from\"../../../../core/promiseUtils.js\";import{WGS84 as i,equals as s}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{getJsonType as r}from\"../../../../geometry/support/jsonUtils.js\";import{getFieldDefaultValue as n}from\"../../../support/fieldUtils.js\";import o from\"../../../../request.js\";import{kebabDict as a}from\"../../../support/fieldType.js\";import{convertFromGeometry as l,convertToGeometry as d,convertFromFeatures as u,convertToFeature as p,convertFromFeature as y}from\"../../featureConversionUtils.js\";import f from\"../../../support/FieldsIndex.js\";import{project as m,checkProjectionSupport as c}from\"../../data/projectionSupport.js\";import{validateGeoJSON as h,inferLayerProperties as g,createOptimizedFeatures as I}from\"./geojson.js\";import{createDrawingInfo as F,createDefaultTemplate as b,createDefaultAttributesFunction as j}from\"../support/clientSideDefaults.js\";import _ from\"../../data/FeatureStore.js\";import E from\"../../data/QueryEngine.js\";import{loadGeometryEngineForSimplify as T,mixAttributes as q,createFeatureEditSuccessResult as x,createFeatureEditErrorResult as w,simplify as R}from\"../support/sourceUtils.js\";const D={hasAttachments:!1,capabilities:\"query, editing, create, delete, update\",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};export default class{constructor(){this._queryEngine=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=this._requiredFields=this._fieldsIndex=this._createDefaultAttributes=null}async load(t){const r=[];await this._checkProjection(t.spatialReference);let u=null;if(t.url){u=(await o(t.url,{responseType:\"json\"})).data,await h(u)}const p=g(u,{geometryType:t.geometryType}),y=t.fields||p.fields||[],c=null!=t.hasZ?t.hasZ:p.hasZ,T=p.geometryType,q=t.objectIdField||(\"number\"===p.objectIdFieldType?p.objectIdFieldName:\"OBJECTID\")||\"OBJECTID\",x=t.spatialReference||i;let w=t.timeInfo;if(!T)throw new e(\"geojson-layer:missing-property\",\"geometryType not set and couldn't be inferred from the provided features\");if(\"string\"===p.objectIdFieldType&&r.push({name:\"geojson-layer:unsupported-id-type\",message:\"Feature ids are of type string and can't be honored.\"}),y===p.fields&&p.unknownFields.length>0&&r.push({name:\"geojson-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:p.unknownFields}}),q){let e=null;y.some((t=>t.name===q&&(e=t,!0)))?(e.type=\"esriFieldTypeOID\",e.editable=!1,e.nullable=!1):y.unshift({alias:q,name:q,type:\"esriFieldTypeOID\",editable:!1,nullable:!1})}for(const t of y){if(null==t.name&&(t.name=t.alias),null==t.alias&&(t.alias=t.name),!t.name)throw new e(\"geojson-layer:invalid-field-name\",\"field name is missing\",{field:t});if(t.name===q&&(t.type=\"esriFieldTypeOID\"),-1===a.jsonValues.indexOf(t.type))throw new e(\"geojson-layer:invalid-field-type\",`invalid type for field \"${t.name}\"`,{field:t})}const R={};this._requiredFields=[];for(const e of y)if(\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type){e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable;const t=n(e);e.nullable||void 0!==t?R[e.name]=t:this._requiredFields.push(e)}if(this._fieldsIndex=new f(y),w){if(w.startTimeField){const e=this._fieldsIndex.get(w.startTimeField);e?(w.startTimeField=e.name,e.type=\"esriFieldTypeDate\"):w.startTimeField=null}if(w.endTimeField){const e=this._fieldsIndex.get(w.endTimeField);e?(w.endTimeField=e.name,e.type=\"esriFieldTypeDate\"):w.endTimeField=null}if(w.trackIdField){const e=this._fieldsIndex.get(w.trackIdField);e?w.trackIdField=e.name:(w.trackIdField=null,r.push({name:\"geojson-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:w}}))}w.startTimeField||w.endTimeField||(r.push({name:\"geojson-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:w}}),w=null)}const O={warnings:r,featureErrors:[],layerDefinition:{...D,drawingInfo:F(T),templates:b(R),extent:null,geometryType:T,objectIdField:q,fields:y,hasZ:!!c,timeInfo:w}};this._queryEngine=new E({fields:y,geometryType:T,hasM:!1,hasZ:c,objectIdField:q,spatialReference:x,timeInfo:w,featureStore:new _({geometryType:T,hasM:!1,hasZ:c})}),this._createDefaultAttributes=j(R,q),this._nextObjectId=p.maxObjectId+1;const S=I(u,{geometryType:T,hasZ:c,objectIdFieldName:\"number\"===p.objectIdFieldType?q:null});if(!s(x,i))for(const e of S)e.geometry&&(e.geometry=l(m(d(e.geometry,T,c,!1),i,x)));return this._loadInitialFeatures(O,S),O}async applyEdits(e){const{spatialReference:i,geometryType:s}=this._queryEngine;return await t([T(i,s),c(e.adds,i),c(e.updates,i)]),this._applyEdits(e)}async queryFeatures(e={},t={}){return this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}_loadInitialFeatures(e,t){const{featureStore:i,objectIdField:s}=this._queryEngine,r=[];for(const i of t){const t=this._createDefaultAttributes(),n=q(this._fieldsIndex,this._requiredFields,t,i.attributes,!0,e.warnings);n?e.featureErrors.push(n):(this._assignObjectId(t,i.attributes,!0),i.attributes=t,i.objectId=t[s],r.push(i))}if(i.addMany(r),e.layerDefinition.extent=this._queryEngine.fullExtent,e.layerDefinition.timeInfo){const{start:t,end:i}=this._queryEngine.timeExtent;e.layerDefinition.timeInfo.timeExtent=[t,i]}return e}_applyEdits(e){const{adds:t,updates:i,deletes:s}=e,r={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(r,t),i&&i.length&&this._applyUpdateEdits(r,i),s&&s.length){for(const e of s)r.deleteResults.push(x(e));this._queryEngine.featureStore.removeManyById(s)}return{fullExtent:this._queryEngine.fullExtent,timeExtent:this._queryEngine.timeExtent,featureEditResults:r}}_applyAddEdits(e,t){const{addResults:i}=e,{geometryType:s,hasM:n,hasZ:o,objectIdField:a,spatialReference:l,featureStore:d}=this._queryEngine,p=[];for(const n of t){if(n.geometry&&s!==r(n.geometry)){i.push(w(\"Incorrect geometry type.\"));continue}const t=this._createDefaultAttributes(),o=q(this._fieldsIndex,this._requiredFields,t,n.attributes);if(o)i.push(o);else{if(this._assignObjectId(t,n.attributes),n.attributes=t,null!=n.uid){const t=n.attributes[a];e.uidToObjectId[n.uid]=t}n.geometry&&(n.geometry=m(R(n.geometry,l),n.geometry.spatialReference,l)),p.push(n),i.push(x(n.attributes[a]))}}d.addMany(u([],p,s,o,n,a))}_applyUpdateEdits({updateResults:e},t){const{geometryType:i,hasM:s,hasZ:n,objectIdField:o,spatialReference:a,featureStore:l}=this._queryEngine;for(const d of t){const{attributes:t,geometry:u}=d,f=t&&t[o];if(null==f){e.push(w(`Identifier field ${o} missing`));continue}if(!l.has(f)){e.push(w(`Feature with object id ${f} missing`));continue}const c=p(l.getFeature(f),i,n,s);if(u){if(i!==r(u)){e.push(w(\"Incorrect geometry type.\"));continue}c.geometry=m(R(u,a),u.spatialReference,a)}if(t){const i=q(this._fieldsIndex,this._requiredFields,c.attributes,t);if(i){e.push(i);continue}}l.add(y(c,i,n,s,o)),e.push(x(f))}}_assignObjectId(e,t,i=!1){const s=this._queryEngine.objectIdField;i&&isFinite(t[s])?e[s]=t[s]:e[s]=this._nextObjectId++}async _checkProjection(t){try{await c(i,t)}catch{throw new e(\"geojson-layer\",\"Projection not supported\")}}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function o(e,n,o){return e(o={path:n,exports:{},require:function(e,n){return r(null==n&&o.path)}},o.exports),o.exports}function r(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}export{e as a,r as b,o as c,n as g};\n"]}