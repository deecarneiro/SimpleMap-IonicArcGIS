{"version":3,"sources":["webpack:///node_modules/@arcgis/core/tasks/support/RouteResult.js","webpack:///node_modules/@arcgis/core/tasks/support/RouteResultsContainer.js","webpack:///node_modules/@arcgis/core/tasks/RouteTask.js"],"names":["i","o","directions","route","routeName","stops","type","json","write","prototype","String","u","n","r","fromJSON","features","map","barriers","messages","pointBarriers","polylineBarriers","polygonBarriers","routeResults","aliasOf","c","l","accumulateAttributes","name","attributeParameterValues","directionsTimeAttribute","impedanceAttribute","outSpatialReference","getter","e","wkid","restrictionAttributes","travelMode","a","p","_collectGeometries","then","t","push","slice","_isInputGeometryZAware","getServiceDescription","dontCheck","hasZ","_dropZValuesOffInputGeometry","forEach","s","get","geometry","query","parsedUrl","f","toQueryParams","requestOptions","path","endsWith","_handleSolveResponse","length","data","routes","spatialReference","m","h","y","d","g","indexOf","attributes","Name","RouteName","splice","B"],"mappings":"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","file":"tasks-RouteTask-js-es5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import e from\"../../Graphic.js\";import p from\"./DirectionsFeatureSet.js\";let i=class extends s{constructor(o){super(o),this.directions=null,this.route=null,this.routeName=null,this.stops=null}};o([r({type:p,json:{write:!0}})],i.prototype,\"directions\",void 0),o([r({type:e,json:{write:!0}})],i.prototype,\"route\",void 0),o([r({type:String,json:{write:!0}})],i.prototype,\"routeName\",void 0),o([r({type:[e],json:{write:!0}})],i.prototype,\"stops\",void 0),i=o([t(\"esri.tasks.support.RouteResult\")],i);var u=i;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{reader as e}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import p from\"../../Graphic.js\";import i from\"./FeatureSet.js\";import a from\"./NAMessage.js\";import l from\"./RouteResult.js\";function n(r){return r&&i.fromJSON(r).features.map((r=>r))}let u=class extends t{constructor(r){super(r),this.barriers=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(r,o){return n(o.barriers||o.pointBarriers)}readPolylineBarriers(r){return n(r)}readPolygonBarriers(r){return n(r)}};r([o({aliasOf:\"pointBarriers\"})],u.prototype,\"barriers\",void 0),r([o({type:[a]})],u.prototype,\"messages\",void 0),r([o({type:[p]})],u.prototype,\"pointBarriers\",void 0),r([e(\"pointBarriers\",[\"barriers\",\"pointBarriers\"])],u.prototype,\"readPointBarriers\",null),r([o({type:[p]})],u.prototype,\"polylineBarriers\",void 0),r([e(\"polylineBarriers\")],u.prototype,\"readPolylineBarriers\",null),r([o({type:[p]})],u.prototype,\"polygonBarriers\",void 0),r([e(\"polygonBarriers\")],u.prototype,\"readPolygonBarriers\",null),r([o({type:[l]})],u.prototype,\"routeResults\",void 0),u=r([s(\"esri.tasks.support.RouteResultsContainer\")],u);var c=u;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as t}from\"../core/promiseUtils.js\";import s from\"../request.js\";import{normalizeCentralMeridian as o}from\"../geometry/support/normalizeUtils.js\";import i from\"./Task.js\";import{createQueryParamsHelper as a}from\"../core/queryUtils.js\";import{NAServiceDescriptionMixin as n}from\"./mixins/NAServiceDescription.js\";import p from\"./support/RouteResultsContainer.js\";const l=a({accumulateAttributes:{name:\"accumulateAttributeNames\"},attributeParameterValues:!0,directionsTimeAttribute:{name:\"directionsTimeAttributeName\"},impedanceAttribute:{name:\"impedanceAttributeName\"},outSpatialReference:{name:\"outSR\",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:\"barriers\"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:\"restrictionAttributeNames\"},stops:!0,travelMode:!0});let u=class extends(n(i)){constructor(e){super(e)}solve(e,r){const i=[],a=[],n={},p={};return e.stops&&e.stops.features&&this._collectGeometries(e.stops.features,a,\"stops.features\",n),e.pointBarriers&&e.pointBarriers.features&&this._collectGeometries(e.pointBarriers.features,a,\"pointBarriers.features\",n),e.polylineBarriers&&e.polylineBarriers.features&&this._collectGeometries(e.polylineBarriers.features,a,\"polylineBarriers.features\",n),e.polygonBarriers&&e.polygonBarriers.features&&this._collectGeometries(e.polygonBarriers.features,a,\"polygonBarriers.features\",n),o(a).then((e=>{for(const r in n){const t=n[r];i.push(r),p[r]=e.slice(t[0],t[1])}return this._isInputGeometryZAware(p,i)?this.getServiceDescription():t({dontCheck:!0})})).then((t=>{(\"dontCheck\"in t?t.dontCheck:t.hasZ)||this._dropZValuesOffInputGeometry(p,i);for(const r in p)p[r].forEach(((t,s)=>{e.get(r)[s].geometry=t}));let o={query:{...this.parsedUrl.query,f:\"json\",...l.toQueryParams(e)}};(this.requestOptions||r)&&(o={...this.requestOptions,...r,...o});const{path:a}=this.parsedUrl,n=\"/solve\",u=a.endsWith(n)?a:a+n;return s(u,o)})).then((e=>this._handleSolveResponse(e)))}_collectGeometries(e,r,t,s){s[t]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}_handleSolveResponse(e){const r=[],t=[],{directions:s=[],routes:{features:o=[],spatialReference:i=null}={},stops:{features:a=[],spatialReference:n=null}={},barriers:l,polygonBarriers:u,polylineBarriers:c,messages:m}=e.data,f=\"esri.tasks.RouteTask.NULL_ROUTE_NAME\";let h,y,d=!0;const g=o&&i||a&&n||l&&l.spatialReference||u&&u.spatialReference||c&&c.spatialReference;s.forEach((e=>{r.push(h=e.routeName),t[h]={directions:e}})),o.forEach((e=>{-1===r.indexOf(h=e.attributes.Name)&&(r.push(h),t[h]={}),e.geometry&&(e.geometry.spatialReference=g),t[h].route=e})),a.forEach((e=>{y=e.attributes,-1===r.indexOf(h=y.RouteName||f)&&(r.push(h),t[h]={}),h!==f&&(d=!1),e.geometry&&(e.geometry.spatialReference=g),null==t[h].stops&&(t[h].stops=[]),t[h].stops.push(e)})),a.length>0&&!0===d&&(t[r[0]].stops=t[f].stops,delete t[f],r.splice(r.indexOf(f),1));const B=r.map((e=>(t[e].routeName=e===f?null:e,t[e])));return p.fromJSON({routeResults:B,pointBarriers:l,polygonBarriers:u,polylineBarriers:c,messages:m})}};u=e([r(\"esri.tasks.RouteTask\")],u);var c=u;export default c;\n"]}