{"version":3,"sources":["./node_modules/@arcgis/core/views/2d/layers/GeoRSSLayerView2D.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACm8B,oBAAoB,yEAAC,CAAC,6DAAC,GAAG,cAAc,4CAA4C,oDAAoD,aAAa,qDAAqD,qEAAC,GAAG,8DAA8D,OAAO,iEAAC,kKAAkK,UAAU,2EAA2E,SAAS,2CAA2C,QAAQ,qEAAC,8BAA8B,4DAAC,QAAQ,oDAAC,eAAe,MAAM,uGAAuG,KAAK,oDAAoD,0DAAC,8BAA8B,iFAAC,aAAa,MAAM,oEAAC,EAAE,oFAAoF,sYAAsY,qBAAqB,iEAAC,iCAAiC,2CAA2C,qEAAC,EAAE,SAAS,EAAE,GAAG,iEAAC,8BAA8B,4CAA4C,qEAAC,EAAE,SAAS,EAAE,GAAG,iEAAC,+BAA+B,yCAAyC,qEAAC,EAAE,SAAS,EAAE,KAAK,SAAS,mCAAmC,0EAA0E,4BAA4B,aAAa,WAAW,aAAa,mDAAmD,EAAE,8DAAC,EAAE,6FAAC,+CAA+C,QAAuB,gEAAC,EAAC","file":"layers-GeoRSSLayerView2D-js-es2015.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{resolve as s,all as o}from\"../../../core/promiseUtils.js\";import i from\"../../../core/Collection.js\";import t from\"../../../PopupTemplate.js\";import p from\"../../../Graphic.js\";import{init as a}from\"../../../core/watchUtils.js\";import l from\"../../../renderers/SimpleRenderer.js\";import{fromJSON as h}from\"../../../renderers/support/jsonUtils.js\";import n from\"../../../tasks/support/FeatureSet.js\";import m from\"../../layers/LayerView.js\";import c from\"./graphics/GraphicsView2D.js\";import{LayerView2DMixin as y}from\"./LayerView2D.js\";let g=class extends(y(m)){constructor(){super(...arguments),this._graphicsViewMap={},this._popupTemplates=new Map,this.graphicsViews=[]}hitTest(e,r){if(this.suspended||!this.graphicsViews.length)return s();const i=this.graphicsViews.reverse().map((s=>s.hitTest(e,r)));return o(i).then((e=>e.filter(((e,r)=>(e&&(e.popupTemplate=this._popupTemplates.get(this.graphicsViews[r]),e.layer=this.layer,e.sourceLayer=this.layer),!!e)))[0]||null))}update(e){if(this.graphicsViews)for(const r of this.graphicsViews)r.processUpdate(e)}attach(){this.layer.featureCollections.forEach((e=>{const r=n.fromJSON(e.featureSet),s=new(i.ofType(p))(r.features);let o;if(this._graphicsViewMap[r.geometryType])o=this._graphicsViewMap[r.geometryType],o.graphics.addMany(s);else{const i=e.layerDefinition.drawingInfo,p=e.popupInfo?t.fromJSON(e.popupInfo):null,a=h(i.renderer);o=new c({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:s,renderer:a}),this._graphicsViewMap[r.geometryType]=o,this._popupTemplates.set(o,p),\"polygon\"!==r.geometryType||this.layer.polygonSymbol?\"polyline\"!==r.geometryType||this.layer.lineSymbol?\"point\"!==r.geometryType||this.layer.pointSymbol||(this.layer.pointSymbol=a.symbol):this.layer.lineSymbol=a.symbol:this.layer.polygonSymbol=a.symbol,this.graphicsViews.push(o),this.container.addChild(o.container)}})),this.handles.add([a(this.layer,\"polygonSymbol\",(e=>{this._graphicsViewMap.polygon.renderer=new l({symbol:e})})),a(this.layer,\"lineSymbol\",(e=>{this._graphicsViewMap.polyline.renderer=new l({symbol:e})})),a(this.layer,\"pointSymbol\",(e=>{this._graphicsViewMap.point.renderer=new l({symbol:e})}))])}detach(){this.container.removeAllChildren();for(const e of this.graphicsViews)e.destroy(),e.view=null,e.renderer=null;this.graphicsViews.length=0}moveStart(){}moveEnd(){}viewChange(){for(const e of this.graphicsViews)e.viewChange()}};g=e([r(\"esri.views.2d.layers.GeoRSSLayerView2D\")],g);var u=g;export default u;\n"],"sourceRoot":"webpack:///"}