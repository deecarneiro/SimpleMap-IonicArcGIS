{"version":3,"sources":["./node_modules/@ionic/core/dist/esm/button-active-a6787d69.js","./node_modules/@arcgis/core/chunks/mat3f64.js","./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js","./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js","./node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js","./node_modules/@ionic/core/dist/esm/theme-ff3fc52f.js","./node_modules/@arcgis/core/views/2d/viewStateUtils.js","./node_modules/@arcgis/core/tasks/support/ProjectParameters.js","./node_modules/@arcgis/core/renderers/support/heatmapUtils.js","./node_modules/@arcgis/core/layers/support/kmlUtils.js","./node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js","./node_modules/@arcgis/core/chunks/quat.js","./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js","./node_modules/@arcgis/core/portal/support/portalItemUtils.js","./node_modules/@arcgis/core/portal/support/jsonContext.js","./node_modules/@arcgis/core/views/2d/layers/BitmapTileLayerView2D.js","./node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js","./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileIndex.js","./node_modules/@arcgis/core/views/2d/engine/BitmapContainer.js","./node_modules/@arcgis/core/support/requestImageUtils.js","./node_modules/@arcgis/core/chunks/vec3f32.js","./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","./node_modules/@arcgis/core/portal/support/portalLayers.js","./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","./node_modules/@ionic/core/dist/esm/framework-delegate-4584ab5a.js","./node_modules/@arcgis/core/core/number.js","./node_modules/@arcgis/core/geometry/geometryAdapters/hydrated.js","./node_modules/@ionic/core/dist/esm/spinner-configs-cd7845af.js","./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js","./node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js","./node_modules/@arcgis/core/views/webgl/ProgramCache.js","./node_modules/@arcgis/core/chunks/geometryEngineJSON.js","./node_modules/@arcgis/core/views/2d/engine/BitmapTile.js","./node_modules/@arcgis/core/layers/support/lazyLayerLoader.js","./node_modules/@ionic/core/dist/esm/haptic-27b3f981.js","./node_modules/@arcgis/core/chunks/quatf64.js","./node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js","./node_modules/@arcgis/core/rest/utils.js","./node_modules/@arcgis/core/views/2d/layers/features/processors/BaseProcessor.js","./node_modules/@arcgis/core/views/2d/layers/support/ExportStrategy.js","./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js","./node_modules/@arcgis/core/views/2d/engine/Bitmap.js"],"names":[],"mappings":"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","file":"common-es2015.js","sourcesContent":["import { c as writeTask } from './index-e806d1f6.js';\nimport { createGesture } from './index-f49d994d.js';\nimport { h as hapticSelectionEnd, a as hapticSelectionStart, b as hapticSelectionChanged } from './haptic-27b3f981.js';\n\nconst createButtonActiveGesture = (el, isButton) => {\n  let currentTouchedButton;\n  let initialTouchedButton;\n  const activateButtonAtPoint = (x, y, hapticFeedbackFn) => {\n    if (typeof document === 'undefined') {\n      return;\n    }\n    const target = document.elementFromPoint(x, y);\n    if (!target || !isButton(target)) {\n      clearActiveButton();\n      return;\n    }\n    if (target !== currentTouchedButton) {\n      clearActiveButton();\n      setActiveButton(target, hapticFeedbackFn);\n    }\n  };\n  const setActiveButton = (button, hapticFeedbackFn) => {\n    currentTouchedButton = button;\n    if (!initialTouchedButton) {\n      initialTouchedButton = currentTouchedButton;\n    }\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.add('ion-activated'));\n    hapticFeedbackFn();\n  };\n  const clearActiveButton = (dispatchClick = false) => {\n    if (!currentTouchedButton) {\n      return;\n    }\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.remove('ion-activated'));\n    /**\n     * Clicking on one button, but releasing on another button\n     * does not dispatch a click event in browsers, so we\n     * need to do it manually here. Some browsers will\n     * dispatch a click if clicking on one button, dragging over\n     * another button, and releasing on the original button. In that\n     * case, we need to make sure we do not cause a double click there.\n     */\n    if (dispatchClick && initialTouchedButton !== currentTouchedButton) {\n      currentTouchedButton.click();\n    }\n    currentTouchedButton = undefined;\n  };\n  return createGesture({\n    el,\n    gestureName: 'buttonActiveDrag',\n    threshold: 0,\n    onStart: ev => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionStart),\n    onMove: ev => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionChanged),\n    onEnd: () => {\n      clearActiveButton(true);\n      hapticSelectionEnd();\n      initialTouchedButton = undefined;\n    }\n  });\n};\n\nexport { createButtonActiveGesture as c };\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,0,1,0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function n(e,r,n,t,a,o,u,c,f){return[e,r,n,t,a,o,u,c,f]}function t(e,r){return new Float64Array(e,r,9)}var a=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t});export{e as a,r as b,t as c,n as f,a as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";function o(e){const t=[];return e.forEach((e=>t.push(e))),t}const r={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function*i(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*s(e){if(!e)return null;switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function c(e){for(;;){const{value:t,done:n}=e.next();if(n)return!1;if(t.length>2)return!0}}function u(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function l(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function f(e,t,n){switch(t.type){case\"LineString\":return function(e,t,n){return p(e,t.coordinates,n),e}(e,t,n);case\"MultiLineString\":return function(e,t,n){for(const o of t.coordinates)p(e,o,n);return e}(e,t,n);case\"MultiPoint\":return function(e,t,n){return p(e,t.coordinates,n),e}(e,t,n);case\"MultiPolygon\":return function(e,t,n){for(const o of t.coordinates){a(e,o[0],n);for(let t=1;t<o.length;t++)y(e,o[t],n)}return e}(e,t,n);case\"Point\":return function(e,t,n){return g(e,t.coordinates,n),e}(e,t,n);case\"Polygon\":return function(e,t,n){const o=t.coordinates;a(e,o[0],n);for(let t=1;t<o.length;t++)y(e,o[t],n);return e}(e,t,n)}}function a(e,t,n){const o=l(t);u(o)?p(e,o,n):d(e,o,n)}function y(e,t,n){const o=l(t);u(o)?d(e,o,n):p(e,o,n)}function p(e,t,n){for(const o of t)g(e,o,n);e.lengths.push(t.length)}function d(e,t,n){for(let o=t.length-1;o>=0;o--)g(e,t[o],n);e.lengths.push(t.length)}function g(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function m(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function h(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function w(e,t={}){const n=i(e),u=[],l=new Set,f=new Set;let a,y=!1,p=Number.NEGATIVE_INFINITY,d=null,g=!1,{geometryType:h=null}=t,w=!1;for(;;){const{value:e,done:t}=n.next();if(t){const e=d&&1===d.length&&d[0]||null;if(e)for(const t of u)t.name===e&&(t.type=\"esriFieldTypeOID\");return{fields:u,geometryType:h,hasZ:y,maxObjectId:Math.max(0,p),objectIdFieldName:e,objectIdFieldType:a,unknownFields:o(f)}}const{geometry:i,properties:b,id:P}=e;if(!i||(h||(h=r[i.type]),r[i.type]===h)){if(!y){y=c(s(i))}if(g||(g=null!=P,g&&(a=typeof P,\"number\"===a&&(d=Object.keys(b).filter((e=>b[e]===P))))),g&&\"number\"===a&&null!=P&&(p=Math.max(p,P),d.length>1?d=d.filter((e=>b[e]===P)):1===d.length&&(d=b[d[0]]===P?d:[])),!w&&b){let e=!0;for(const t in b){if(l.has(t))continue;const n=b[t];if(null==n){e=!1,f.add(t);continue}const o=m(n);\"unknown\"!==o?(f.delete(t),l.add(t),u.push({name:t,alias:t,type:o})):f.add(t)}w=e}}}}function b(e,o){return function(e){const t=[];for(;;){const{value:n,done:o}=e.next();if(o)return t;t.push(n)}}(function*(e,o={}){const{geometryType:i,objectIdFieldName:s}=o;for(;;){const{value:c,done:u}=e.next();if(u)return;const{geometry:l,properties:a,id:y}=c;if(l&&r[l.type]!==i)continue;const p=a||{};s&&null!=y&&!p[s]&&(p[s]=y);const d=new t(l?f(new n,l,o):null,p);yield d}}(i(e),o))}export{b as createOptimizedFeatures,w as inferLayerProperties,h as validateGeoJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{HandleOwner as s}from\"../../../../../core/HandleOwner.js\";let i=class extends s{constructor(e){super(e),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(e){const t=this.createTile(e);return t.once(\"isReady\",(()=>this.notifyChange(\"updating\"))),this.tiles.set(e.id,t),t}forceAttributeTextureUpload(){}forEachTile(e){this.tiles.forEach(e)}releaseTile(e){this.tiles.delete(e.key.id),this.disposeTile(e)}isUpdating(){let e=!0;return this.tiles.forEach((t=>{e=e&&t.isReady})),!e}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};e([t()],i.prototype,\"layer\",void 0),e([t()],i.prototype,\"layerView\",void 0),e([t()],i.prototype,\"tileInfoView\",void 0),e([t()],i.prototype,\"updating\",null),i=e([r(\"esri.views.2d.layers.features.tileRenderers.BaseTileRenderer\")],i);var o=i;export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import{brushes as s}from\"./brushes.js\";import t from\"./webgl/TileContainer.js\";import{BitmapTile as i}from\"./BitmapTile.js\";class o extends t{createTile(r){const s=this._tileInfoView.getTileBounds(e(),r);return new i(r,s,this._tileInfoView.tileInfo.size)}destroyTile(){}prepareRenderPasses(e){const t=e.registerRenderPass({name:\"bitmap (tile)\",brushes:[s.bitmap],target:()=>this.children.map((e=>e.bitmap)),drawPhase:r.MAP});return[...super.prepareRenderPasses(e),t]}doRender(e){this.visible&&e.drawPhase===r.MAP&&super.doRender(e)}}export{o as BitmapTileContainer};\n","const hostContext = (selector, el) => {\n  return el.closest(selector) !== null;\n};\n/**\n * Create the mode and color classes for the component based on the classes passed in\n */\nconst createColorClasses = (color, cssClassMap) => {\n  return (typeof color === 'string' && color.length > 0) ? Object.assign({ 'ion-color': true, [`ion-color-${color}`]: true }, cssClassMap) : cssClassMap;\n};\nconst getClassList = (classes) => {\n  if (classes !== undefined) {\n    const array = Array.isArray(classes) ? classes : classes.split(' ');\n    return array\n      .filter(c => c != null)\n      .map(c => c.trim())\n      .filter(c => c !== '');\n  }\n  return [];\n};\nconst getClassMap = (classes) => {\n  const map = {};\n  getClassList(classes).forEach(c => map[c] = true);\n  return map;\n};\nconst SCHEME = /^[a-z][a-z0-9+\\-.]*:/;\nconst openURL = async (url, ev, direction, animation) => {\n  if (url != null && url[0] !== '#' && !SCHEME.test(url)) {\n    const router = document.querySelector('ion-router');\n    if (router) {\n      if (ev != null) {\n        ev.preventDefault();\n      }\n      return router.push(url, direction, animation);\n    }\n  }\n  return false;\n};\n\nexport { createColorClasses as c, getClassMap as g, hostContext as h, openURL as o };\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t=Math.PI/180;function n(t,n,o){const{resolution:r,size:s}=o;return t[0]=r*(Math.round(n[0]/r)+s[0]%2*.5),t[1]=r*(Math.round(n[1]/r)+s[1]%2*.5),t}function o(n,o){const r=o.rotation*t;const s=Math.abs(Math.cos(r)),u=Math.abs(Math.sin(r)),[a,c]=o.size;return n[0]=Math.round(c*u+a*s),n[1]=Math.round(c*s+a*u),n}function r(t,n,o,r){const[s,u]=n,[a,c]=r,h=.5*o;return t[0]=s-h*a,t[1]=u-h*c,t[2]=s+h*a,t[3]=u+h*c,t}function s(t,n){const[o,r,s,u]=t,[a,c,h,i]=n;return!(o>h||s<a||r>i||u<c)}export{s as bboxIntersects,r as getBBox,o as getOuterSize,n as snapToPixel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{getJsonType as i}from\"../../geometry/support/jsonUtils.js\";const a=t.getLogger(\"esri.tasks.support.ProjectParameters\");let n=class extends s{constructor(r){super(r),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}get outSR(){return a.warn(\"ProjectParameters.outSR is deprecated. Use outSpatialReference instead.\"),this.outSpatialReference}set outSR(r){a.warn(\"ProjectParameters.outSR is deprecated. Use outSpatialReference instead.\"),this.outSpatialReference=r}toJSON(){const r=this.geometries.map((function(r){return r.toJSON()})),t=this.geometries[0],e={};return e.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),e.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),e.geometries=JSON.stringify({geometryType:i(t),geometries:r}),this.transformation&&(e.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(e.transformForward=this.transformForward),e}};r([e()],n.prototype,\"geometries\",void 0),r([e({json:{read:{source:\"outSR\"}}})],n.prototype,\"outSpatialReference\",void 0),r([e({json:{read:!1}})],n.prototype,\"outSR\",null),r([e()],n.prototype,\"transformation\",void 0),r([e()],n.prototype,\"transformForward\",void 0),n=r([o(\"esri.tasks.support.ProjectParameters\")],n);var p=n;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../core/global.js\";import{clamp as e}from\"../../core/mathUtils.js\";const r=(()=>{if(!(\"document\"in t))return()=>null;const e=document.createElement(\"canvas\"),r=e.getContext(\"2d\");return e.height=512,e.width=1,t=>{r.clearRect(0,0,1,e.height);const n=r.createLinearGradient(0,0,0,e.height);for(const{ratio:e,color:r}of t.colorStops)n.addColorStop(Math.max(e,.001),`rgba(${r[0]}, ${r[1]}, ${r[2]}, ${r[3]})`);return r.fillStyle=n,r.fillRect(0,0,1,e.height),r.getImageData(0,0,1,e.height).data}})();function n(t,e,r,n){const{blurRadius:o,fieldOffset:a,field:f}=e,u=new Float64Array(r*n),l=i(o),s=Math.round(3*o);let h,m=Number.NEGATIVE_INFINITY;const d=c(f,a);for(const{geometry:e,attributes:o}of t){const t=e.x-s,a=e.y-s,f=Math.max(0,t),i=Math.max(0,a),c=Math.min(n,e.y+s),g=Math.min(r,e.x+s),y=+d(o);for(let e=i;e<c;e++){const n=l[e-a];for(let o=f;o<g;o++){const a=l[o-t];h=u[e*r+o]+=n*a*y,h>m&&(m=h)}}}return{matrix:u.buffer,max:m}}function o(t,e,r,n){const{blurRadius:o,fieldOffset:a,field:f}=e,c=new Float64Array(r*n),l=i(o),s=Math.round(3*o);let h,m=Number.NEGATIVE_INFINITY;const d=u(f,a),g=new Set;for(const e of t){const t=e.getCursor();for(;t.next();){const e=t.getObjectId();if(g.has(e))continue;g.add(e);const o=t.readLegacyPointGeometry(),a=+d(t),f=o.x-s,i=o.y-s,u=Math.max(0,f),y=Math.max(0,i),b=Math.min(n,o.y+s),x=Math.min(r,o.x+s);for(let t=y;t<b;t++){const e=l[t-i];for(let n=u;n<x;n++){const o=l[n-f];h=c[t*r+n]+=e*o*a,h>m&&(m=h)}}}}return{matrix:c.buffer,max:m}}function a(t,e,r,n,o,a){t.canvas.width=t.canvas.height=e,t.clearRect(0,0,e,e);const i=t.getImageData(0,0,e,e);r&&n&&i.data.set(new Uint8ClampedArray(f(e,r,n,o,a))),t.putImageData(i,0,0)}function f(t,r,n,o,a){const f=new Uint32Array(t*t),i=\"buffer\"in r?r:new Float64Array(r),c=\"buffer\"in n?new Uint32Array(n.buffer):new Uint32Array(new Uint8Array(n).buffer),u=c.length/(a-o);for(let t=0;t<i.length;t++){const r=i[t],n=Math.floor((r-o)*u);f[t]=c[e(n,0,c.length-1)]}return f.buffer}function i(t){const e=Math.round(3*t),r=2*t*t,n=new Float64Array(2*e+1);for(let o=0;o<=n.length;o++)n[o]=Math.exp(-Math.pow(o-e,2)/r)/Math.sqrt(2*Math.PI)*(t/2);return n}function c(t,e){return\"function\"==typeof t?t:t?\"string\"==typeof e?e=>-1*+e[t]:r=>+r[t]+e:()=>1}function u(t,e){return null!=t?\"string\"==typeof e?e=>-1*+e.readAttribute(t):r=>+r.readAttribute(t)+e:t=>1}export{n as calculateHeatmapIntensityInfo,o as calculateHeatmapIntensityInfoReaders,f as createHeatmapImageData,i as createKernel,c as createValueFunction,u as createValueFunctionCursor,a as drawHeatmap,r as generateGradient};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../core/lang.js\";import o from\"../../config.js\";import{addQueryParameters as t}from\"../../core/urlUtils.js\";import r from\"../../geometry/SpatialReference.js\";import{getBoundsXYZ as s}from\"../../geometry/support/boundsUtils.js\";import n from\"../../PopupTemplate.js\";import{id as i}from\"../../kernel.js\";import a from\"../../request.js\";import{fromJSON as f}from\"../../renderers/support/jsonUtils.js\";import l from\"../../tasks/support/FeatureSet.js\";import{equals as u,NEGATIVE_INFINITY as p,create as m,expandWithAABB as y}from\"../../geometry/support/aaBoundingBox.js\";const c={esriGeometryPoint:\"points\",esriGeometryPolyline:\"polylines\",esriGeometryPolygon:\"polygons\"};function d(o){const t=o.folders||[],r=t.slice(),s=new Map,n=new Map,i=new Map,a=new Map,f=new Map,l={esriGeometryPoint:n,esriGeometryPolyline:i,esriGeometryPolygon:a};(o.featureCollection&&o.featureCollection.layers||[]).forEach((o=>{const t=e(o);t.featureSet.features=[];const r=o.featureSet.geometryType;s.set(r,t);const f=o.layerDefinition.objectIdField;\"esriGeometryPoint\"===r?G(n,f,o.featureSet.features):\"esriGeometryPolyline\"===r?G(i,f,o.featureSet.features):\"esriGeometryPolygon\"===r&&G(a,f,o.featureSet.features)})),o.groundOverlays&&o.groundOverlays.forEach((e=>{f.set(e.id,e)})),t.forEach((e=>{e.networkLinkIds.forEach((t=>{const s=function(e,o,t){const r=function(e,o){let t;return o.some((o=>o.id===e&&(t=o,!0))),t}(e,t);r&&(r.parentFolderId=o,r.networkLink=r);return r}(t,e.id,o.networkLinks);s&&r.push(s)}))})),r.forEach((o=>{o.featureInfos&&(o.points=e(s.get(\"esriGeometryPoint\")),o.polylines=e(s.get(\"esriGeometryPolyline\")),o.polygons=e(s.get(\"esriGeometryPolygon\")),o.mapImages=[],o.featureInfos.map((e=>{switch(e.type){case\"esriGeometryPoint\":case\"esriGeometryPolyline\":case\"esriGeometryPolygon\":{const t=l[e.type].get(e.id);t&&o[c[e.type]].featureSet.features.push(t);break}case\"GroundOverlay\":{const t=f.get(e.id);t&&o.mapImages.push(t);break}}})),o.fullExtent=P([o]))}));const u=P(r);return{folders:t,sublayers:r,extent:u}}function g(e,r,s,n){const f=i&&i.findCredential(e);e=t(e,{token:f&&f.token});const l=o.kmlServiceUrl;return a(l,{query:{url:e,model:\"simple\",folders:\"\",refresh:0!==s||void 0,outSR:JSON.stringify(r)},responseType:\"json\",signal:n})}function S(e,o,t=null,r=[]){const s=[],n={},i=o.sublayers,a=o.folders.map((e=>e.id));return i.forEach((o=>{const i=new e;if(t?i.read(o,t):i.read(o),r.length&&a.indexOf(i.id)>-1&&(i.visible=-1!==r.indexOf(i.id)),n[o.id]=i,null!=o.parentFolderId&&-1!==o.parentFolderId){const e=n[o.parentFolderId];e.sublayers||(e.sublayers=[]),e.sublayers.unshift(i)}else s.unshift(i)})),s}function G(e,o,t){t.forEach((t=>{e.set(t.attributes[o],t)}))}async function h(e){const o=l.fromJSON(e.featureSet).features,t=e.layerDefinition,r=f(t.drawingInfo.renderer),s=n.fromJSON(e.popupInfo),i=[];for(const e of o){const o=await r.getSymbolAsync(e);e.symbol=o,e.popupTemplate=s,e.visible=!0,i.push(e)}return i}function P(e){const o=m(),t=m(p);for(const r of e){if(r.polygons&&r.polygons.featureSet&&r.polygons.featureSet.features)for(const e of r.polygons.featureSet.features)s(o,e.geometry),y(t,o);if(r.polylines&&r.polylines.featureSet&&r.polylines.featureSet.features)for(const e of r.polylines.featureSet.features)s(o,e.geometry),y(t,o);if(r.points&&r.points.featureSet&&r.points.featureSet.features)for(const e of r.points.featureSet.features)s(o,e.geometry),y(t,o);if(r.mapImages)for(const e of r.mapImages)s(o,e.extent),y(t,o)}return u(t,p)?null:{xmin:t[0],ymin:t[1],zmin:t[2],xmax:t[3],ymax:t[4],zmax:t[5],spatialReference:r.WGS84}}export{P as computeExtent,g as fetchService,h as getGraphics,d as parseKML,S as sublayersFromJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport s from\"../../../core/has.js\";import{r as i}from\"../../../chunks/rbush.js\";const d={minX:0,minY:0,maxX:0,maxY:0};class n{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=i(9,s(\"csp-restrictions\")?s=>({minX:s[0],minY:s[1],maxX:s[2],maxY:s[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const s=new Array(this._idByBounds.size);let i=0;this._idByBounds.forEach(((d,n)=>{s[i++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(s)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((s=>this._idByBounds.has(s)))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(s){const i=this._boundsById.get(s);this._boundsById.delete(s),i&&(this._idByBounds.delete(i),this._indexInvalid||this._index.remove(i))}forEachInBounds(s,i){this._loadIndex();for(const n of function(s,i){return d.minX=i[0],d.minY=i[1],d.maxX=i[2],d.maxY=i[3],s.search(d)}(this._index,s))i(this._idByBounds.get(n))}get(s){return this._boundsById.get(s)}has(s){return this._boundsById.has(s)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(s,i){if(!this._indexInvalid){const i=this._boundsById.get(s);i&&(this._index.remove(i),this._idByBounds.delete(i))}this._boundsById.set(s,i),i&&(this._idByBounds.set(i,s),this._indexInvalid||(this._boundsToLoad.push(i),this._boundsToLoad.length>5e4&&this._loadIndex()))}}export{n as BoundsStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as t,f as s}from\"./vec3f64.js\";import{E as a,R as n}from\"./common.js\";import{d as o,c as r,j as c,n as e}from\"./vec3.js\";import{a as u}from\"./mat3f64.js\";import{a as i}from\"./quatf64.js\";import{c as h,s as M,a as f,b as l,d as m,l as p,e as q,f as j,n as d,g,h as v}from\"./vec4.js\";function x(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function A(t,s,a){a*=.5;const n=Math.sin(a);return t[0]=n*s[0],t[1]=n*s[1],t[2]=n*s[2],t[3]=Math.cos(a),t}function I(t,s){const n=2*Math.acos(s[3]),o=Math.sin(n/2);return o>a?(t[0]=s[0]/o,t[1]=s[1]/o,t[2]=s[2]/o):(t[0]=1,t[1]=0,t[2]=0),n}function P(t,s,a){const n=s[0],o=s[1],r=s[2],c=s[3],e=a[0],u=a[1],i=a[2],h=a[3];return t[0]=n*h+c*e+o*i-r*u,t[1]=o*h+c*u+r*e-n*i,t[2]=r*h+c*i+n*u-o*e,t[3]=c*h-n*e-o*u-r*i,t}function b(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],c=s[3],e=Math.sin(a),u=Math.cos(a);return t[0]=n*u+c*e,t[1]=o*u+r*e,t[2]=r*u-o*e,t[3]=c*u-n*e,t}function y(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],c=s[3],e=Math.sin(a),u=Math.cos(a);return t[0]=n*u-r*e,t[1]=o*u+c*e,t[2]=r*u+n*e,t[3]=c*u-o*e,t}function E(t,s,a){a*=.5;const n=s[0],o=s[1],r=s[2],c=s[3],e=Math.sin(a),u=Math.cos(a);return t[0]=n*u+o*e,t[1]=o*u-n*e,t[2]=r*u+c*e,t[3]=c*u-r*e,t}function _(t,s){const a=s[0],n=s[1],o=s[2];return t[0]=a,t[1]=n,t[2]=o,t[3]=Math.sqrt(Math.abs(1-a*a-n*n-o*o)),t}function z(t,s,n,o){const r=s[0],c=s[1],e=s[2],u=s[3];let i,h,M,f,l,m=n[0],p=n[1],q=n[2],j=n[3];return h=r*m+c*p+e*q+u*j,h<0&&(h=-h,m=-m,p=-p,q=-q,j=-j),1-h>a?(i=Math.acos(h),M=Math.sin(i),f=Math.sin((1-o)*i)/M,l=Math.sin(o*i)/M):(f=1-o,l=o),t[0]=f*r+l*m,t[1]=f*c+l*p,t[2]=f*e+l*q,t[3]=f*u+l*j,t}function L(t){const s=n(),a=n(),o=n(),r=Math.sqrt(1-s),c=Math.sqrt(s);return t[0]=r*Math.sin(2*Math.PI*a),t[1]=r*Math.cos(2*Math.PI*a),t[2]=c*Math.sin(2*Math.PI*o),t[3]=c*Math.cos(2*Math.PI*o),t}function k(t,s){const a=s[0],n=s[1],o=s[2],r=s[3],c=a*a+n*n+o*o+r*r,e=c?1/c:0;return t[0]=-a*e,t[1]=-n*e,t[2]=-o*e,t[3]=r*e,t}function w(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t}function B(t,s){const a=s[0]+s[4]+s[8];let n;if(a>0)n=Math.sqrt(a+1),t[3]=.5*n,n=.5/n,t[0]=(s[5]-s[7])*n,t[1]=(s[6]-s[2])*n,t[2]=(s[1]-s[3])*n;else{let a=0;s[4]>s[0]&&(a=1),s[8]>s[3*a+a]&&(a=2);const o=(a+1)%3,r=(a+2)%3;n=Math.sqrt(s[3*a+a]-s[3*o+o]-s[3*r+r]+1),t[a]=.5*n,n=.5/n,t[3]=(s[3*o+r]-s[3*r+o])*n,t[o]=(s[3*o+a]+s[3*a+o])*n,t[r]=(s[3*r+a]+s[3*a+r])*n}return t}function C(t,s,a,n){const o=.5*Math.PI/180;s*=o,a*=o,n*=o;const r=Math.sin(s),c=Math.cos(s),e=Math.sin(a),u=Math.cos(a),i=Math.sin(n),h=Math.cos(n);return t[0]=r*u*h-c*e*i,t[1]=c*e*h+r*u*i,t[2]=c*u*i-r*e*h,t[3]=c*u*h+r*e*i,t}function D(t){return\"quat(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}const F=h,G=M,O=f,R=P,T=l,W=m,X=p,Y=q,Z=Y,H=j,J=H,K=d,N=g,Q=v;function S(t,s,a){const n=o(s,a);return n<-.999999?(r(U,V,s),c(U)<1e-6&&r(U,$,s),e(U,U),A(t,U,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(r(U,s,a),t[0]=U[0],t[1]=U[1],t[2]=U[2],t[3]=1+n,K(t,t))}const U=t(),V=s(1,0,0),$=s(0,1,0);function tt(t,s,a,n,o,r){return z(st,s,o,r),z(at,a,n,r),z(t,st,at,2*r*(1-r)),t}const st=i(),at=i();function nt(t,s,a,n){const o=ot;return o[0]=a[0],o[3]=a[1],o[6]=a[2],o[1]=n[0],o[4]=n[1],o[7]=n[2],o[2]=-s[0],o[5]=-s[1],o[8]=-s[2],K(t,B(t,o))}const ot=u();var rt=Object.freeze({__proto__:null,identity:x,setAxisAngle:A,getAxisAngle:I,multiply:P,rotateX:b,rotateY:y,rotateZ:E,calculateW:_,slerp:z,random:L,invert:k,conjugate:w,fromMat3:B,fromEuler:C,str:D,copy:F,set:G,add:O,mul:R,scale:T,dot:W,lerp:X,length:Y,len:Z,squaredLength:H,sqrLen:J,normalize:K,exactEquals:N,equals:Q,rotationTo:S,sqlerp:tt,setAxes:nt});export{X as A,Z as B,J as C,K as D,Q as E,tt as F,nt as G,F as a,b,w as c,y as d,E as e,W as f,I as g,H as h,k as i,N as j,C as k,Y as l,P as m,x as n,_ as o,z as p,rt as q,S as r,A as s,L as t,B as u,D as v,G as w,O as x,R as y,T as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t,unwrap as e}from\"../../../../core/maybe.js\";import s from\"../../../../core/Evented.js\";import{fromRect as a}from\"../../../../geometry/support/aaBoundingBox.js\";import{r}from\"../../../../chunks/rbush.js\";import{Store2D as n}from\"./Store2D.js\";function o(t){return(4294901760&t)>>>16}function i(t){return 65535&t}const d={getObjectId:t=>t.getObjectId(),getAttributes:t=>t.readAttributes(),getAttribute:(t,e)=>t.readAttribute(e),cloneWithGeometry:(t,e)=>t,getGeometry:t=>t.readHydratedGeometry(),getCentroid:(t,e)=>t.readCentroid()};class u extends n{constructor(t,e){super(t,e),this.featureAdapter=d,this.events=new s,this._featureSetsByInstance=new Map,this._objectIdToDisplayId=new Map,this._spatialIndexInvalid=!0,this._index=r(9,(t=>({minX:this._storage.getXMin(t),minY:this._storage.getYMin(t),maxX:this._storage.getXMax(t),maxY:this._storage.getYMax(t)})))}get storeStatistics(){return{featureCount:0,vertexCount:0}}onTileData(e,s,a){if(t(s.addOrUpdate))return s;this._featureSetsByInstance.set(s.addOrUpdate.instance,s.addOrUpdate),this._storage=a,s.addOrUpdate._storage=a;const r=s.addOrUpdate.getCursor();for(;r.next();){const t=r.getObjectId(),s=(n=r.instance,o=r.getIndex(),n<<16|o);let i=this._objectIdToDisplayId.get(t);i||(i=a.createDisplayId(),this._objectIdToDisplayId.set(t,i),this._spatialIndexInvalid=!0),r.setDisplayId(i),a.setInstanceId(i,s),this.setComputedAttributes(a,r,i,e.scale)}var n,o;return\"update\"===s.type&&(this._spatialIndexInvalid=!0),this.events.emit(\"changed\"),s}forEach(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=this._lookupFeature(s);t(a)}))}forEachUnsafe(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=o(s),r=i(s),n=this._getFeatureSet(a);n.setIndex(r),t(n)}))}forEachInBounds(t,s){const a=this._searchIndex(t);for(const t of a){const a=this.lookupFeatureByDisplayId(t,this._storage);s(e(a))}}forEachBounds(t,e,s){this._rebuildIndex();const r=[0,0,0,0];for(const n of t){if(!n.readGeometry())continue;const t=n.getDisplayId();r[0]=this._storage.getXMin(t),r[1]=this._storage.getYMin(t),r[2]=this._storage.getXMax(t),r[3]=this._storage.getYMax(t),e(a(s,r))}}sweepFeatures(t,e,s){this._objectIdToDisplayId.forEach(((a,r)=>{t.has(a)||(e.releaseDisplayId(a),s.unsetAttributeData(a),this._objectIdToDisplayId.delete(r))})),this.events.emit(\"changed\")}sweepFeatureSets(t){this._featureSetsByInstance.forEach(((e,s)=>{t.has(s)||this._featureSetsByInstance.delete(s)}))}lookupObjectId(e,s){const a=this.lookupFeatureByDisplayId(e,s);return t(a)?null:a.getObjectId()}lookupDisplayId(t){return this._objectIdToDisplayId.get(t)}lookupFeatureByDisplayId(t,e){const s=e.getInstanceId(t);return this._lookupFeature(s)}lookupByDisplayIdUnsafe(t){const e=this._storage.getInstanceId(t),s=o(e),a=i(e),r=this._getFeatureSet(s);return r?(r.setIndex(a),r):null}hasInstance(t){return this._featureSetsByInstance.has(t)}_rebuildIndex(){if(!this._spatialIndexInvalid)return;this._index.clear();const t=[];this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e);this._storage.setBounds(e,this._lookupFeature(s))&&t.push(e)})),this._index.load(t),this._spatialIndexInvalid=!1}_lookupFeature(t){const e=o(t),s=i(t),a=this._getFeatureSet(e);if(!a)return null;const r=a.getCursor();return r.setIndex(s),r}_getFeatureSet(t){return this._featureSetsByInstance.get(t)}_searchIndex(t){this._rebuildIndex();const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this._index.search(e)}}export{u as FeatureStore2D,d as featureAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(e,n){if(!t(e,n)){const t=e.typeKeywords;t?t.push(n):e.typeKeywords=[n]}}function t(e,t){return!!e.typeKeywords&&e.typeKeywords.indexOf(t)>-1}function n(e,t){const n=e.typeKeywords;if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}export{e as addTypeKeyword,t as hasTypeKeyword,n as removeTypeKeyword};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import t from\"../Portal.js\";function o(o){return{origin:\"portal-item\",url:r(o.itemUrl),portal:o.portal||t.getDefault(),portalItem:o,readResourcePaths:[]}}export{o as createForItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{BitmapTileContainer as t}from\"../engine/BitmapTileContainer.js\";const i=i=>{let s=class extends i{attach(){this.view.timeline.record(`${this.layer.title} (BitmapTileLayer) Attach`),this._bitmapView=new t(this._tileInfoView),this.container.addChild(this._bitmapView)}detach(){this.container.removeChild(this._bitmapView),this._bitmapView.removeAllChildren()}};return s=e([r(\"esri.views.2d.layers.BitmapTileLayerView2D\")],s),s};export{i as BitmapTileLayerView2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isValid as t}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{sanitizeNullFieldValue as e,validateFieldValue as n,validationErrorToString as i,isNumericField as r,isStringField as s}from\"../../../support/fieldUtils.js\";class o{constructor(){this.code=null,this.description=null}}class l{constructor(t){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}}function u(t){return new l(t)}class a{constructor(t){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}}function c(t){return new a(t)}const f=new Set;function d(t,e,r,s,o=!1,l){f.clear();for(const e in s){const a=t.get(e);if(!a)continue;const c=s[e],d=m(a,c);if(d!==c&&l&&l.push({name:\"invalid-value-type\",message:\"attribute value was converted to match the field type\",details:{field:a,originalValue:c,sanitizedValue:d}}),f.add(a.name),a&&(o||a.editable)){const t=n(a,d);if(t)return u(i(t,a,d));r[a.name]=d}}for(const t of e)if(!f.has(t.name))return u(`missing required field \"${t.name}\"`);return null}function m(t,n){let i=n;return\"string\"==typeof n&&r(t)?i=parseFloat(n):null!=n&&s(t)&&\"string\"!=typeof n&&(i=String(n)),e(i)}let p;function h(e,n){if(!e||!t(n))return e;if(\"rings\"in e||\"paths\"in e){if(!p)throw new TypeError(\"geometry engine not loaded\");return p.simplify(n,e)}return e}async function g(){return p||(p=await import(\"../../../../geometry/geometryEngineJSON.js\"),p)}async function y(e,n){!t(e)||\"esriGeometryPolygon\"!==n&&\"esriGeometryPolyline\"!==n||await g()}export{u as createFeatureEditErrorResult,c as createFeatureEditSuccessResult,g as loadGeometryEngine,y as loadGeometryEngineForSimplify,d as mixAttributes,h as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isAbortError as e,resolve as t}from\"../../../../core/promiseUtils.js\";import{TilemapCache as l}from\"../../../../layers/support/TilemapCache.js\";import i from\"../../tiling/TileKey.js\";export default class{constructor(e){if(e instanceof l)this._tilemapCache=e;else{if(!e||!(\"index\"in e))throw new Error(\"Invalid tilemap!\");this._tilemap=e.index}}dataKey(t,l){if(this._tilemapCache){const{level:r,row:o,col:a}=t,h=new i(t);return this._tilemapCache.fetchAvailabilityUpsample(r,o,a,h,l).then((()=>(h.world=t.world,h))).catch((t=>{if(e(t))throw t;return null}))}return this._getIndexedDataKey(t)}forEach(e,t,l,i,r){this._callback=r,this._maxLevel=t+e,this._forEach(this._tilemap,t,l,i)}_forEach(e,t,l,i){0!==e&&(this._callback(t,l,i),t!==this._maxLevel&&\"object\"==typeof e&&(this._forEach(e[0],t+1,2*l,2*i),this._forEach(e[1],t+1,2*l,2*i+1),this._forEach(e[2],t+1,2*l+1,2*i),this._forEach(e[3],t+1,2*l+1,2*i+1)))}_getIndexedDataKey(e){const l=[e];if(e.level<0||e.row<0||e.col<0||e.row>>e.level>0||e.col>>e.level>0)return t(null);let r=e;for(;0!==r.level;)r=new i(r.level-1,r.row>>1,r.col>>1,r.world),l.push(r);let o,a,h=this._tilemap,s=l.pop();if(1===h)return t(s);for(;l.length;)if(o=l.pop(),a=(1&o.col)+((1&o.row)<<1),h){if(0===h[a]){s=null;break}if(1===h[a]){s=o;break}s=o,h=h[a]}return t(s)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"./webgl/enums.js\";import{brushes as r}from\"./brushes.js\";import s from\"./webgl/WGLContainer.js\";class t extends s{prepareRenderPasses(s){const t=s.registerRenderPass({name:\"bitmap\",brushes:[r.bitmap],target:()=>this.children,drawPhase:e.MAP});return[...super.prepareRenderPasses(s),t]}}export{t as BitmapContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";async function t(t,r){const{data:a}=await e(t,{responseType:\"image\",...r});return a}export{t as requestImage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction n(){return new Float32Array(3)}function r(n){const r=new Float32Array(3);return r[0]=n[0],r[1]=n[1],r[2]=n[2],r}function t(n,r,t){const a=new Float32Array(3);return a[0]=n,a[1]=r,a[2]=t,a}function a(n,r){return new Float32Array(n,r,3)}function e(){return n()}function o(){return t(1,1,1)}function u(){return t(1,0,0)}function s(){return t(0,1,0)}function c(){return t(0,0,1)}const i=e(),f=o(),l=u(),_=s(),w=c();var y=Object.freeze({__proto__:null,create:n,clone:r,fromValues:t,createView:a,zeros:e,ones:o,unitX:u,unitY:s,unitZ:c,ZEROS:i,ONES:f,UNIT_X:l,UNIT_Y:_,UNIT_Z:w});export{f as O,l as U,i as Z,r as a,a as b,n as c,s as d,c as e,t as f,_ as g,w as h,o,u,y as v,e as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../OptimizedFeature.js\";import e from\"../OptimizedGeometry.js\";import{getCentroidOptimizedGeometry as r}from\"../centroid.js\";const o={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(e,r)=>new t(r,e.attributes,null,e.objectId),getGeometry:t=>t.geometry,getCentroid:(t,o)=>(t.centroid||(t.centroid=r(new e,t.geometry,o.hasZ,o.hasM)),t.centroid)};export default o;export{o as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../core/maybe.js\";import r from\"../../core/Error.js\";import{resolve as t,reject as a}from\"../../core/promiseUtils.js\";import n from\"../../request.js\";import o from\"../PortalItem.js\";import{hasTypeKeyword as l}from\"./portalItemUtils.js\";import{layerLookupMap as s}from\"../../layers/support/lazyLayerLoader.js\";function i(e){return!e.portalItem||e.portalItem instanceof o||(e={...e,portalItem:new o(e.portalItem)}),(r=e.portalItem,r.load().then(c).then(u)).then((r=>{const a={portalItem:e.portalItem,...r.properties},n=r.constructor;return t(new n(a))}));var r}function c(e){switch(e.type){case\"Map Service\":return function(e){return function(e){return d(e.url).then((e=>e.tileInfo))}(e).then((e=>e?{className:\"TileLayer\"}:{className:\"MapImageLayer\"}))}(e);case\"Feature Service\":return function(e){return y(e).then((e=>{if(\"object\"==typeof e){const r={};return null!=e.id&&(r.layerId=e.id),{className:\"FeatureLayer\",properties:r}}return{className:\"GroupLayer\"}}))}(e);case\"Feature Collection\":return async function(e){await e.load();if(l(e,\"Map Notes\"))return{className:\"MapNotesLayer\"};if(l(e,\"Route Layer\"))return{className:\"RouteLayer\"};if(1===f(await e.fetchData()))return{className:\"FeatureLayer\"};return{className:\"GroupLayer\"}}(e);case\"Scene Service\":return function(e){return y(e).then((r=>{if(\"object\"==typeof r){const t={};let a;if(null!=r.id?(t.layerId=r.id,a=`${e.url}/layers/${r.id}`):a=e.url,Array.isArray(e.typeKeywords)&&e.typeKeywords.length>0){const r={IntegratedMesh:\"IntegratedMeshLayer\",\"3DObject\":\"SceneLayer\",Point:\"SceneLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};for(const t of Object.keys(r))if(-1!==e.typeKeywords.indexOf(t))return{className:r[t]}}return d(a).then((e=>{let r=\"SceneLayer\";const a={Point:\"SceneLayer\",\"3DObject\":\"SceneLayer\",IntegratedMesh:\"IntegratedMeshLayer\",PointCloud:\"PointCloudLayer\",Building:\"BuildingSceneLayer\"};return e&&e.layerType&&a[e.layerType]&&(r=a[e.layerType]),{className:r,properties:t}}))}return{className:\"GroupLayer\"}}))}(e);case\"Image Service\":return async function(e){var r,t,a;await e.load();const n=null!=(r=null==(t=e.typeKeywords)?void 0:t.map((e=>e.toLowerCase())))?r:[];if(n.indexOf(\"elevation 3d layer\")>-1)return{className:\"ElevationLayer\"};if(n.indexOf(\"tiled imagery\")>-1)return{className:\"ImageryTileLayer\"};const o=await e.fetchData(),l=null==o?void 0:o.layerType;if(\"ArcGISTiledImageServiceLayer\"===l)return{className:\"ImageryTileLayer\"};if(\"ArcGISImageServiceLayer\"===l)return{className:\"ImageryLayer\"};const s=await d(e.url);if(\"map\"===(null==(a=s.cacheType)?void 0:a.toLowerCase()))return{className:\"ImageryTileLayer\"};return{className:\"ImageryLayer\"}}(e);case\"Stream Service\":return{className:\"StreamLayer\"};case\"Vector Tile Service\":return{className:\"VectorTileLayer\"};case\"KML\":return{className:\"KMLLayer\"};case\"WMTS\":return{className:\"WMTSLayer\"};case\"WMS\":return{className:\"WMSLayer\"};default:return a(new r(\"portal:unknown-item-type\",\"Unknown item type '${type}'\",{type:e.type}))}}function u(e){return(0,s[e.className])().then((r=>({constructor:r,properties:e.properties})))}function y(e){return!e.url||e.url.match(/\\/\\d+$/)?t({}):e.load().then((()=>e.fetchData())).then((r=>f(r)>0?m(r):d(e.url).then(m)))}function m(r){return 1===f(r)&&{id:e(p(r))}}function p(e){const r=e.layers;if(r&&r.length)return r[0].id;const t=e.tables;return t&&t.length?t[0].id:null}function f(e){var r,t,a,n;return(null!=(r=null==e||null==(t=e.layers)?void 0:t.length)?r:0)+(null!=(a=null==e||null==(n=e.tables)?void 0:n.length)?a:0)}function d(e){return n(e,{responseType:\"json\",query:{f:\"json\"}}).then((e=>e.data))}export{i as fromItem,c as selectLayerClassPath};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import t from\"../../../core/Logger.js\";import r from\"../../../core/Error.js\";import s from\"../../../core/Evented.js\";import{create as o,NEGATIVE_INFINITY as i}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as a}from\"../featureConversionUtils.js\";import{fromRect as d}from\"../../../geometry/support/aaBoundingBox.js\";import{BoundsStore as n}from\"./BoundsStore.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"./optimizedFeatureQueryEngineAdapter.js\";export default class{constructor(e){this.geometryInfo=e,this._boundsStore=new n,this._featuresById=new Map,this._markedIds=new Set,this.events=new s,this.featureAdapter=h}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const e=o(i);return this._featuresById.forEach((t=>{const r=this._boundsStore.get(t.objectId);r&&(e[0]=Math.min(r[0],e[0]),e[1]=Math.min(r[1],e[1]),e[2]=Math.max(r[2],e[2]),e[3]=Math.max(r[3],e[3]))})),e}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t(d(r,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(s){if(!s)return;const i=s.objectId;if(null==i)return void t.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new r(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:s}));const d=this._featuresById.get(i);let n;if(this._markedIds.add(i),d?(s.displayId=d.displayId,n=this._boundsStore.get(i),this._boundsStore.delete(i)):e(this.onFeatureAdd)&&this.onFeatureAdd(s),!s.geometry||!s.geometry.coords||!s.geometry.coords.length)return this._boundsStore.set(i,null),void this._featuresById.set(i,s);n=a(n||o(),s.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),this._boundsStore.set(i,n),this._featuresById.set(i,s)}_remove(t){return e(this.onFeatureRemove)&&this.onFeatureRemove(t),this._markedIds.delete(t.objectId),this._boundsStore.delete(t.objectId),this._featuresById.delete(t.objectId),t}}\n","const attachComponent = async (delegate, container, component, cssClasses, componentProps) => {\n  if (delegate) {\n    return delegate.attachViewToDom(container, component, componentProps, cssClasses);\n  }\n  if (typeof component !== 'string' && !(component instanceof HTMLElement)) {\n    throw new Error('framework delegate is missing');\n  }\n  const el = (typeof component === 'string')\n    ? container.ownerDocument && container.ownerDocument.createElement(component)\n    : component;\n  if (cssClasses) {\n    cssClasses.forEach(c => el.classList.add(c));\n  }\n  if (componentProps) {\n    Object.assign(el, componentProps);\n  }\n  container.appendChild(el);\n  if (el.componentOnReady) {\n    await el.componentOnReady();\n  }\n  return el;\n};\nconst detachComponent = (delegate, element) => {\n  if (element) {\n    if (delegate) {\n      const container = element.parentElement;\n      return delegate.removeViewFromDom(container, element);\n    }\n    element.remove();\n  }\n  return Promise.resolve();\n};\n\nexport { attachComponent as a, detachComponent as d };\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{escapeRegExpString as e}from\"./string.js\";import{getLocale as n}from\"../intl/locale.js\";const t={ar:[\".\",\",\"],bs:[\",\",\".\"],ca:[\",\",\".\"],cs:[\",\",\" \"],da:[\",\",\".\"],de:[\",\",\".\"],\"de-ch\":[\".\",\"’\"],el:[\",\",\".\"],en:[\".\",\",\"],\"en-au\":[\".\",\",\"],es:[\",\",\".\"],\"es-mx\":[\".\",\",\"],et:[\",\",\" \"],fi:[\",\",\" \"],fr:[\",\",\" \"],\"fr-ch\":[\",\",\" \"],he:[\".\",\",\"],hi:[\".\",\",\",\"#,##,##0.###\"],hr:[\",\",\".\"],hu:[\",\",\" \"],id:[\",\",\".\"],it:[\",\",\".\"],\"it-ch\":[\".\",\"’\"],ja:[\".\",\",\"],ko:[\".\",\",\"],lt:[\",\",\" \"],lv:[\",\",\" \"],mk:[\",\",\".\"],nb:[\",\",\" \"],nl:[\",\",\".\"],pl:[\",\",\" \"],pt:[\",\",\".\"],\"pt-pt\":[\",\",\" \"],ro:[\",\",\".\"],ru:[\",\",\" \"],sk:[\",\",\" \"],sl:[\",\",\".\"],sr:[\",\",\".\"],sv:[\",\",\" \"],th:[\".\",\",\"],tr:[\",\",\".\"],uk:[\",\",\" \"],vi:[\",\",\".\"],zh:[\".\",\",\"]};function r(e){e||(e=n());let r=e in t;if(!r){const n=e.split(\"-\");n.length>1&&n[0]in t&&(e=n[0],r=!0),r||(e=\"en\")}const[o,i,s=\"#,##0.###\"]=t[e];return{decimal:o,group:i,pattern:s}}function o(e,n){const t=r((n={...n}).locale);n.customs=t;const o=n.pattern||t.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,n,t){const r=(t=t||{}).customs.group,o=t.customs.decimal,s=n.split(\";\"),l=s[0];if(-1!==(n=s[e<0?1:0]||\"-\"+l).indexOf(\"%\"))e*=100;else if(-1!==n.indexOf(\"‰\"))e*=1e3;else{if(-1!==n.indexOf(\"¤\"))throw new Error(\"currency notation not supported\");if(-1!==n.indexOf(\"E\"))throw new Error(\"exponential notation not supported\")}const c=i,a=l.match(c);if(!a)throw new Error(\"unable to find a number expression in pattern: \"+n);!1===t.fractional&&(t.places=0);return n.replace(c,function(e,n,t){!0===(t=t||{}).places&&(t.places=0);t.places===1/0&&(t.places=6);const r=n.split(\".\"),o=\"string\"==typeof t.places&&t.places.indexOf(\",\");let i=t.places;o?i=t.places.substring(o+1):i>=0||(i=(r[1]||[]).length);t.round<0||(e=Number(e.toFixed(Number(i))));const s=String(Math.abs(e)).split(\".\"),l=s[1]||\"\";if(r[1]||t.places){o&&(t.places=t.places.substring(0,o));const e=void 0!==t.places?t.places:r[1]&&r[1].lastIndexOf(\"0\")+1;e>l.length&&(s[1]=l.padEnd(Number(e),\"0\")),i<l.length&&(s[1]=l.substr(0,Number(i)))}else s[1]&&s.pop();const c=r[0].replace(\",\",\"\");let a=c.indexOf(\"0\");-1!==a&&(a=c.length-a,a>s[0].length&&(s[0]=s[0].padStart(a,\"0\")),-1===c.indexOf(\"#\")&&(s[0]=s[0].substr(s[0].length-a)));let p,u,f=r[0].lastIndexOf(\",\");if(-1!==f){p=r[0].length-f-1;const e=r[0].substr(0,f);f=e.lastIndexOf(\",\"),-1!==f&&(u=e.length-f-1)}const d=[];for(let e=s[0];e;){const n=e.length-p;d.push(n>0?e.substr(n):e),e=n>0?e.slice(0,n):\"\",u&&(p=u,u=void 0)}return s[0]=d.reverse().join(t.group||\",\"),s.join(t.decimal||\".\")}(e,a[0],{decimal:o,group:r,places:t.places,round:t.round}))}(e,o,n)}const i=/[#0,]*[#0](?:\\.0*#*)?/;function s(e){return l(e).regexp}function l(n){const t=r((n=n||{}).locale),o=n.pattern||t.pattern,s=t.group,l=t.decimal;let c=1;if(-1!==o.indexOf(\"%\"))c/=100;else if(-1!==o.indexOf(\"‰\"))c/=1e3;else if(-1!==o.indexOf(\"¤\"))throw new Error(\"currency notation not supported\");const u=o.split(\";\");1===u.length&&u.push(\"-\"+u[0]);return{regexp:p(u,(function(t){return(t=\"(?:\"+e(t,\".\")+\")\").replace(i,(function(e){const t={signed:!1,separator:n.strict?s:[s,\"\"],fractional:n.fractional,decimal:l,exponent:!1},r=e.split(\".\");let o=n.places;1===r.length&&1!==c&&(r[1]=\"###\"),1===r.length||0===o?t.fractional=!1:(void 0===o&&(o=n.pattern?r[1].lastIndexOf(\"0\")+1:1/0),o&&null==n.fractional&&(t.fractional=!0),!n.places&&o<r[1].length&&(o+=\",\"+r[1].length),t.places=o);const i=r[0].split(\",\");return i.length>1&&(t.groupSize=i.pop().length,i.length>1&&(t.groupSize2=i.pop().length)),\"(\"+function(e){\"places\"in(e=e||{})||(e.places=1/0);\"string\"!=typeof e.decimal&&(e.decimal=\".\");\"fractional\"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]);\"exponent\"in e||(e.exponent=[!0,!1]);\"eSigned\"in e||(e.eSigned=[!0,!1]);const n=a(e),t=p(e.fractional,(function(n){let t=\"\";return n&&0!==e.places&&(t=\"\\\\\"+e.decimal,e.places===1/0?t=\"(?:\"+t+\"\\\\d+)?\":t+=\"\\\\d{\"+e.places+\"}\"),t}),!0),r=p(e.exponent,(function(n){return n?\"([eE]\"+a({signed:e.eSigned})+\")\":\"\"}));let o=n+t;t&&(o=\"(?:(?:\"+o+\")|(?:\"+t+\"))\");return o+r}(t)+\")\"}))}),!0).replace(/[\\xa0 ]/g,\"[\\\\s\\\\xa0]\"),group:s,decimal:l,factor:c}}function c(e,n){const t=l(n),r=new RegExp(\"^\"+t.regexp+\"$\").exec(e);if(!r)return NaN;let o=r[1];if(!r[1]){if(!r[2])return NaN;o=r[2],t.factor*=-1}return o=o.replace(new RegExp(\"[\"+t.group+\"\\\\s\\\\xa0]\",\"g\"),\"\").replace(t.decimal,\".\"),Number(o)*t.factor}function a(n){\"signed\"in(n=n||{})||(n.signed=[!0,!1]),\"separator\"in n?\"groupSize\"in n||(n.groupSize=3):n.separator=\"\";return p(n.signed,(function(e){return e?\"[-+]\":\"\"}),!0)+p(n.separator,(function(t){if(!t)return\"(?:\\\\d+)\";\" \"===(t=e(t))?t=\"\\\\s\":\" \"===t&&(t=\"\\\\s\\\\xa0\");const r=n.groupSize,o=n.groupSize2;if(o){const e=\"(?:0|[1-9]\\\\d{0,\"+(o-1)+\"}(?:[\"+t+\"]\\\\d{\"+o+\"})*[\"+t+\"]\\\\d{\"+r+\"})\";return r-o>0?\"(?:\"+e+\"|(?:0|[1-9]\\\\d{0,\"+(r-1)+\"}))\":e}return\"(?:0|[1-9]\\\\d{0,\"+(r-1)+\"}(?:[\"+t+\"]\\\\d{\"+r+\"})*)\"}),!0)}const p=function(e,n,t){if(!(e instanceof Array))return n(e);const r=[];for(let t=0;t<e.length;t++)r.push(n(e[t]));return u(r.join(\"|\"),t)},u=function(e,n){return\"(\"+(n?\"?:\":\"\")+e+\")\"};export{l as _parseInfo,o as format,r as getCustoms,c as parse,s as regexp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../Point.js\";import n from\"../Extent.js\";import t from\"../Multipoint.js\";import o from\"../Polygon.js\";import i from\"../Polyline.js\";const r={convertToGEGeometry:function(e,n){if(null==n)return null;let t=\"cache\"in n?n.cache._geVersion:void 0;null==t&&(t=e.convertJSONToGeometry(n),\"cache\"in n&&(n.cache._geVersion=t));return t},exportPoint:function(n,t,o){const i=n.hasZ(t),r=n.hasM(t),s=new e({x:n.getPointX(t),y:n.getPointY(t),spatialReference:o});i&&(s.z=n.getPointZ(t));r&&(s.m=n.getPointM(t));return s.cache._geVersion=t,s},exportPolygon:function(e,n,t){const i=new o({rings:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return i.cache._geVersion=n,i},exportPolyline:function(e,n,t){const o=new i({paths:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return o.cache._geVersion=n,o},exportMultipoint:function(e,n,o){const i=new t({hasZ:e.hasZ(n),hasM:e.hasM(n),points:e.exportPoints(n),spatialReference:o});return i.cache._geVersion=n,i},exportExtent:function(e,t,o){const i=e.hasZ(t),r=e.hasM(t),s=new n({xmin:e.getXMin(t),ymin:e.getYMin(t),xmax:e.getXMax(t),ymax:e.getYMax(t),spatialReference:o});if(i){const n=e.getZExtent(t);s.zmin=n.vmin,s.zmax=n.vmax}if(r){const n=e.getMExtent(t);s.mmin=n.vmin,s.mmax=n.vmax}return s.cache._geVersion=t,s}};export{r as hydratedAdapter};\n","const spinners = {\n  'bubbles': {\n    dur: 1000,\n    circles: 9,\n    fn: (dur, index, total) => {\n      const animationDelay = `${(dur * index / total) - dur}ms`;\n      const angle = 2 * Math.PI * index / total;\n      return {\n        r: 5,\n        style: {\n          'top': `${9 * Math.sin(angle)}px`,\n          'left': `${9 * Math.cos(angle)}px`,\n          'animation-delay': animationDelay,\n        }\n      };\n    }\n  },\n  'circles': {\n    dur: 1000,\n    circles: 8,\n    fn: (dur, index, total) => {\n      const step = index / total;\n      const animationDelay = `${(dur * step) - dur}ms`;\n      const angle = 2 * Math.PI * step;\n      return {\n        r: 5,\n        style: {\n          'top': `${9 * Math.sin(angle)}px`,\n          'left': `${9 * Math.cos(angle)}px`,\n          'animation-delay': animationDelay,\n        }\n      };\n    }\n  },\n  'circular': {\n    dur: 1400,\n    elmDuration: true,\n    circles: 1,\n    fn: () => {\n      return {\n        r: 20,\n        cx: 48,\n        cy: 48,\n        fill: 'none',\n        viewBox: '24 24 48 48',\n        transform: 'translate(0,0)',\n        style: {}\n      };\n    }\n  },\n  'crescent': {\n    dur: 750,\n    circles: 1,\n    fn: () => {\n      return {\n        r: 26,\n        style: {}\n      };\n    }\n  },\n  'dots': {\n    dur: 750,\n    circles: 3,\n    fn: (_, index) => {\n      const animationDelay = -(110 * index) + 'ms';\n      return {\n        r: 6,\n        style: {\n          'left': `${9 - (9 * index)}px`,\n          'animation-delay': animationDelay,\n        }\n      };\n    }\n  },\n  'lines': {\n    dur: 1000,\n    lines: 12,\n    fn: (dur, index, total) => {\n      const transform = `rotate(${30 * index + (index < 6 ? 180 : -180)}deg)`;\n      const animationDelay = `${(dur * index / total) - dur}ms`;\n      return {\n        y1: 17,\n        y2: 29,\n        style: {\n          'transform': transform,\n          'animation-delay': animationDelay,\n        }\n      };\n    }\n  },\n  'lines-small': {\n    dur: 1000,\n    lines: 12,\n    fn: (dur, index, total) => {\n      const transform = `rotate(${30 * index + (index < 6 ? 180 : -180)}deg)`;\n      const animationDelay = `${(dur * index / total) - dur}ms`;\n      return {\n        y1: 12,\n        y2: 20,\n        style: {\n          'transform': transform,\n          'animation-delay': animationDelay,\n        }\n      };\n    }\n  }\n};\nconst SPINNERS = spinners;\n\nexport { SPINNERS as S };\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{isNone as s}from\"../../../../core/maybe.js\";import{all as t}from\"../../../../core/promiseUtils.js\";import{createRendererExpression as r}from\"../../../../support/arcadeOnDemand.js\";import{diff as i,hasDiff as a}from\"../../../../core/accessorSupport/diffUtils.js\";import o from\"../../arcade/callExpressionWithCursor.js\";const c=import(\"../../../../layers/support/labelFormatUtils.js\");class n{constructor(e,s){this._canCacheExpressionValue=!1,this._sourceInfo=e,this._bitsets={computed:s.getBitset(s.createBitset())}}async updateSchema(r,o){const c=i(this._schema,o);if(this._schema=o,!o||s(c)||!a(c,\"attributes\"))return;e(\"esri-2d-update-debug\")&&console.debug(\"Applying Update - Store:\",c),this._bitsets.computed.clear(),r.targets[o.name]=!0;const n=o.attributes,p=[],u=[];for(const e in n){const s=n[e];switch(s.type){case\"field\":break;case\"expression\":p.push(this._createArcadeComputedField(s));break;case\"label-expression\":p.push(this._createLabelArcadeComputedField(s));break;case\"statistic\":u.push(s)}}this._computedFields=await t(p),this._canCacheExpressionValue=!this._computedFields.some((e=>\"expression\"===e.type&&e.expression.referencesScale())),this._statisticFields=u}setComputedAttributes(e,s,t,r){const i=this._bitsets.computed;if(!this._canCacheExpressionValue||!i.has(t)){i.set(t);for(const i of this._computedFields){const a=this._evaluateField(s,i,r);switch(i.resultType){case\"numeric\":e.setComputedNumericAtIndex(t,i.fieldIndex,a);break;case\"string\":e.setComputedStringAtIndex(t,i.fieldIndex,a)}}}}async _createArcadeComputedField(e){const s=this._sourceInfo.spatialReference,t=this._sourceInfo.fieldsIndex;return{...e,expression:await r(e.valueExpression,s,t)}}async _createLabelArcadeComputedField(e){const s=this._sourceInfo.spatialReference,t=this._sourceInfo.fields,{createLabelFunction:r}=await c,i=await r(e.label,t,s);return{...e,builder:i}}_evaluateField(e,s,t){switch(s.type){case\"label-expression\":{const t=e.readArcadeFeature();return s.builder.evaluate(t)||\"\"}case\"expression\":{const{expression:r}=s;return o(r,e,{$view:{scale:t}})}}}}export{n as Store2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nexport default class{constructor(e,t,i){this.pixelBlock=e,this.extent=t,this.originalPixelBlock=i}get width(){return this.pixelBlock?this.pixelBlock.width:0}get height(){return this.pixelBlock?this.pixelBlock.height:0}render(e){const t=this.pixelBlock;if(!t)return;const i=this.filter({pixelBlock:t}),l=i.pixelBlock.getAsRGBA(),h=e.createImageData(i.pixelBlock.width,i.pixelBlock.height);h.data.set(l),e.putImageData(h,0,0)}getRenderedRasterPixels(){const e=this.filter({pixelBlock:this.pixelBlock});return{width:e.pixelBlock.width,height:e.pixelBlock.height,renderedRasterPixels:new Uint8Array(e.pixelBlock.getAsRGBA().buffer)}}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{createProgram as r}from\"./programUtils.js\";export default class{constructor(r){this._programCacheByTemplate=new Map,this._rctx=r}dispose(){this._programCacheByTemplate.forEach((r=>{r.programs.forEach((r=>{r.dispose()}))})),this._programCacheByTemplate=null}getProgram(t,a){return this._programCacheByTemplate.has(t)||this.addProgramTemplate(t,(a=>r(this._rctx,t,a))),this.getProgramTemplateInstance(t,a)}addProgramTemplate(r,t){this._programCacheByTemplate.set(r,{constructor:t,programs:new Map})}getProgramTemplateInstance(r,t){const a=this._programCacheByTemplate.get(r);if(a){const r=t?JSON.stringify(t):\"default\";if(!a.programs.has(r)){const e=a.constructor(t);a.programs.set(r,e)}return a.programs.get(r)}return null}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{a as e}from\"./geometryEngineBase.js\";import{jsonAdapter as n}from\"../geometry/geometryAdapters/json.js\";function r(n){return e.extendedSpatialReferenceInfo(n)}function t(r,t,i){return e.clip(n,r,t,i)}function i(r,t,i){return e.cut(n,r,t,i)}function s(r,t,i){return e.contains(n,r,t,i)}function u(r,t,i){return e.crosses(n,r,t,i)}function o(r,t,i,s){return e.distance(n,r,t,i,s)}function a(r,t,i){return e.equals(n,r,t,i)}function c(r,t,i){return e.intersects(n,r,t,i)}function f(r,t,i){return e.touches(n,r,t,i)}function l(r,t,i){return e.within(n,r,t,i)}function p(r,t,i){return e.disjoint(n,r,t,i)}function g(r,t,i){return e.overlaps(n,r,t,i)}function d(r,t,i,s){return e.relate(n,r,t,i,s)}function m(r,t){return e.isSimple(n,r,t)}function h(r,t){return e.simplify(n,r,t)}function y(r,t,i=!1){return e.convexHull(n,r,t,i)}function x(r,t,i){return e.difference(n,r,t,i)}function w(r,t,i){return e.symmetricDifference(n,r,t,i)}function A(r,t,i){return e.intersect(n,r,t,i)}function E(r,t,i=null){return e.union(n,r,t,i)}function j(r,t,i,s,u,o,a){return e.offset(n,r,t,i,s,u,o,a)}function v(r,t,i,s,u=!1){return e.buffer(n,r,t,i,s,u)}function z(r,t,i,s,u,o,a){return e.geodesicBuffer(n,r,t,i,s,u,o,a)}function I(r,t,i,s=!0){return e.nearestCoordinate(n,r,t,i,s)}function V(r,t,i){return e.nearestVertex(n,r,t,i)}function D(r,t,i,s,u){return e.nearestVertices(n,r,t,i,s,u)}function H(n,r,t,i){if(null==r||null==i)throw new Error(\"Illegal Argument Exception\");const s=e.rotate(r,t,i);return s.spatialReference=n,s}function R(n,r,t){if(null==r||null==t)throw new Error(\"Illegal Argument Exception\");const i=e.flipHorizontal(r,t);return i.spatialReference=n,i}function b(n,r,t){if(null==r||null==t)throw new Error(\"Illegal Argument Exception\");const i=e.flipVertical(r,t);return i.spatialReference=n,i}function B(r,t,i,s,u){return e.generalize(n,r,t,i,s,u)}function L(r,t,i,s){return e.densify(n,r,t,i,s)}function S(r,t,i,s,u=0){return e.geodesicDensify(n,r,t,i,s,u)}function _(r,t,i){return e.planarArea(n,r,t,i)}function q(r,t,i){return e.planarLength(n,r,t,i)}function C(r,t,i,s){return e.geodesicArea(n,r,t,i,s)}function k(r,t,i,s){return e.geodesicLength(n,r,t,i,s)}var F=Object.freeze({__proto__:null,extendedSpatialReferenceInfo:r,clip:t,cut:i,contains:s,crosses:u,distance:o,equals:a,intersects:c,touches:f,within:l,disjoint:p,overlaps:g,relate:d,isSimple:m,simplify:h,convexHull:y,difference:x,symmetricDifference:w,intersect:A,union:E,offset:j,buffer:v,geodesicBuffer:z,nearestCoordinate:I,nearestVertex:V,nearestVertices:D,rotate:H,flipHorizontal:R,flipVertical:b,generalize:B,densify:L,geodesicDensify:S,planarArea:_,planarLength:q,geodesicArea:C,geodesicLength:k});export{D as A,H as B,R as C,b as D,B as E,L as F,S as G,_ as H,q as I,C as J,k as K,i as a,s as b,t as c,u as d,r as e,o as f,F as g,a as h,c as i,p as j,m as k,y as l,x as m,w as n,g as o,A as p,j as q,d as r,h as s,f as t,E as u,v,l as w,z as x,I as y,V as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{TiledDisplayObject as e}from\"./webgl/TiledDisplayObject.js\";import{Bitmap as t}from\"./Bitmap.js\";class s extends e{constructor(e,s,r,i=null){super(e,s,r,r),this.bitmap=new t(i),this.bitmap.coordScale=r,this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy()}beforeRender(e){super.beforeRender(e),this.bitmap.beforeRender(e)}afterRender(e){super.afterRender(e),this.bitmap.afterRender(e)}set stencilRef(e){this.bitmap.stencilRef=e}get stencilRef(){return this.bitmap.stencilRef}setTransform(e,t){super.setTransform(e,t),this.bitmap.transforms.dvs=this.transforms.dvs}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}export{s as BitmapTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n","const HapticEngine = {\n  getEngine() {\n    const win = window;\n    return (win.TapticEngine) || (win.Capacitor && win.Capacitor.isPluginAvailable('Haptics') && win.Capacitor.Plugins.Haptics);\n  },\n  available() {\n    return !!this.getEngine();\n  },\n  isCordova() {\n    return !!window.TapticEngine;\n  },\n  isCapacitor() {\n    const win = window;\n    return !!win.Capacitor;\n  },\n  impact(options) {\n    const engine = this.getEngine();\n    if (!engine) {\n      return;\n    }\n    const style = this.isCapacitor() ? options.style.toUpperCase() : options.style;\n    engine.impact({ style });\n  },\n  notification(options) {\n    const engine = this.getEngine();\n    if (!engine) {\n      return;\n    }\n    const style = this.isCapacitor() ? options.style.toUpperCase() : options.style;\n    engine.notification({ style });\n  },\n  selection() {\n    this.impact({ style: 'light' });\n  },\n  selectionStart() {\n    const engine = this.getEngine();\n    if (!engine) {\n      return;\n    }\n    if (this.isCapacitor()) {\n      engine.selectionStart();\n    }\n    else {\n      engine.gestureSelectionStart();\n    }\n  },\n  selectionChanged() {\n    const engine = this.getEngine();\n    if (!engine) {\n      return;\n    }\n    if (this.isCapacitor()) {\n      engine.selectionChanged();\n    }\n    else {\n      engine.gestureSelectionChanged();\n    }\n  },\n  selectionEnd() {\n    const engine = this.getEngine();\n    if (!engine) {\n      return;\n    }\n    if (this.isCapacitor()) {\n      engine.selectionEnd();\n    }\n    else {\n      engine.gestureSelectionEnd();\n    }\n  }\n};\n/**\n * Trigger a selection changed haptic event. Good for one-time events\n * (not for gestures)\n */\nconst hapticSelection = () => {\n  HapticEngine.selection();\n};\n/**\n * Tell the haptic engine that a gesture for a selection change is starting.\n */\nconst hapticSelectionStart = () => {\n  HapticEngine.selectionStart();\n};\n/**\n * Tell the haptic engine that a selection changed during a gesture.\n */\nconst hapticSelectionChanged = () => {\n  HapticEngine.selectionChanged();\n};\n/**\n * Tell the haptic engine we are done with a gesture. This needs to be\n * called lest resources are not properly recycled.\n */\nconst hapticSelectionEnd = () => {\n  HapticEngine.selectionEnd();\n};\n/**\n * Use this to indicate success/failure/warning to the user.\n * options should be of the type `{ style: 'light' }` (or `medium`/`heavy`)\n */\nconst hapticImpact = (options) => {\n  HapticEngine.impact(options);\n};\n\nexport { hapticSelectionStart as a, hapticSelectionChanged as b, hapticSelection as c, hapticImpact as d, hapticSelectionEnd as h };\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(){return[0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function n(e,r,n,t){return[e,r,n,t]}function t(e,r){return new Float64Array(e,r,4)}const a=[0,0,0,1];var o=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t,IDENTITY:a});export{a as I,e as a,r as b,t as c,n as f,o as q};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../geometry/SpatialReference.js\";import\"../../geometry.js\";import{serviceTileInfoProperty as p}from\"../support/serviceTileInfoProperty.js\";import{TilemapCache as s}from\"../support/TilemapCache.js\";const a=a=>{let l=class extends a{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}readMinScale(e,r){return null!=r.minLOD&&null!=r.maxLOD?e:0}readMaxScale(e,r){return null!=r.minLOD&&null!=r.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,r){return r.capabilities&&r.capabilities.indexOf(\"Tilemap\")>-1?new s({layer:this}):null}};return e([r({json:{read:{source:\"copyrightText\"}}})],l.prototype,\"copyright\",void 0),e([r()],l.prototype,\"minScale\",void 0),e([o(\"service\",\"minScale\")],l.prototype,\"readMinScale\",null),e([r()],l.prototype,\"maxScale\",void 0),e([o(\"service\",\"maxScale\")],l.prototype,\"readMaxScale\",null),e([r({type:i})],l.prototype,\"spatialReference\",void 0),e([r({readOnly:!0,dependsOn:[\"version\"]})],l.prototype,\"supportsBlankTile\",null),e([r(p)],l.prototype,\"tileInfo\",void 0),e([r()],l.prototype,\"tilemapCache\",void 0),e([o(\"service\",\"tilemapCache\",[\"capabilities\"])],l.prototype,\"readTilemapCache\",null),e([r()],l.prototype,\"version\",void 0),l=e([t(\"esri.layers.mixins.ArcGISCachedService\")],l),l};export{a as ArcGISCachedService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{urlToObject as t}from\"../core/urlUtils.js\";function n(t,n){let e={query:t};return n&&(e={...n,...e}),e}function e(n){return\"string\"==typeof n?t(n):n}function r(t,n,e){const o={};for(const i in t){if(\"declaredClass\"===i)continue;const f=t[i];if(null!=f&&\"function\"!=typeof f)if(Array.isArray(f)){o[i]=[];for(let t=0;t<f.length;t++)o[i][t]=r(f[t])}else if(\"object\"==typeof f)if(f.toJSON){const t=f.toJSON(e&&e[i]);o[i]=n?t:JSON.stringify(t)}else o[i]=n?f:JSON.stringify(f);else o[i]=f}return o}export{n as asValidOptions,r as encode,e as parseUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{HandleOwner as o}from\"../../../../../core/HandleOwner.js\";let s=class extends o{initialize(){}destroy(){}get supportsTileUpdates(){return!1}get spatialReference(){const e=this.get(\"tileStore.tileScheme.spatialReference\");return e&&e.toJSON()||null}};e([r({readOnly:!0})],s.prototype,\"supportsTileUpdates\",null),e([r({constructOnly:!0})],s.prototype,\"remoteClient\",void 0),e([r({constructOnly:!0})],s.prototype,\"service\",void 0),e([r({dependsOn:[\"tileStore.tileScheme.spatialReference\"]})],s.prototype,\"spatialReference\",null),e([r({constructOnly:!0})],s.prototype,\"tileInfo\",void 0),e([r({constructOnly:!0})],s.prototype,\"tileStore\",void 0),s=e([t(\"esri.views.2d.layers.features.processors.BaseProcessor\")],s);var p=s;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import{debounce as i,resolve as r,all as s}from\"../../../../core/promiseUtils.js\";import a from\"../../../../core/Accessor.js\";import{getInfo as p}from\"../../../../geometry/support/spatialReferenceUtils.js\";import n from\"../../../../geometry/Extent.js\";import{create as m}from\"../../../../geometry/support/aaBoundingRect.js\";import l from\"../../../../layers/support/TileInfo.js\";import h from\"../../tiling/TileKey.js\";import c from\"../../tiling/TileInfoView.js\";import{getOuterSize as d,getBBox as u}from\"../../viewStateUtils.js\";import{Bitmap as g}from\"../../engine/Bitmap.js\";const f=m(),x=[0,0],y=new h(0,0,0,0),j=2048,v=2048,_=!1,S=!1,R=!1;let M=class extends a{constructor(t){super(t),this._imagePromise=null,this.hidpi=R,this.imageMaxWidth=j,this.imageMaxHeight=v,this.imageRotationSupported=_,this.imageNormalizationSupported=S,this.update=i((async(t,e)=>{const o=t.state,i=p(o.spatialReference),r=this.hidpi?t.pixelRatio:1;if(!t.stationary||this.destroyed)return;this.imageRotationSupported?(x[0]=o.size[0],x[1]=o.size[1]):d(x,o);const s=Math.floor(x[0]*r)>this.imageMaxWidth||Math.floor(x[1]*r)>this.imageMaxHeight,a=i&&(o.extent.xmin<i.valid[0]||o.extent.xmax>i.valid[1]),n=!this.imageNormalizationSupported&&a,m=!s&&!n,l=this.imageRotationSupported?o.rotation:0;if(m)this._imagePromise=this._singleExport(o,x,l,r,e);else{let t=Math.min(this.imageMaxWidth,this.imageMaxHeight);n&&(t=Math.min(o.worldScreenWidth,t)),this._imagePromise=this._tiledExport(o,t,l,r,e)}return this._imagePromise.then((async t=>{this._imagePromise=null,await Promise.all(t.map((t=>(this.container.addChild(t),t.fadeIn()))));for(const e of this.container.children)t.includes(e)||e.fadeOut().then((()=>{this.container.removeChild(e)}))})).catch((t=>{throw this._imagePromise=null,t}))}),5e3)}destroy(){}get updating(){return null!==this._imagePromise}updateExports(t){for(const e of this.container.children){if(!e.visible||!e.stage)return;t(e)?console.error(\"ExportStrategy.updateExports doesn't support promise yet\"):(e.invalidateTexture(),e.requestRender())}}_export(t,e,o,i,s,a){return r().then((()=>this.fetchSource(t,Math.floor(e*s),Math.floor(o*s),{rotation:i,pixelRatio:s,signal:a}))).then((o=>{const r=new g(o);return r.x=t.xmin,r.y=t.ymax,r.resolution=t.width/e,r.rotation=i,r.pixelRatio=s,r}))}_singleExport(t,e,o,i,r){u(f,t.center,t.resolution,e);const s=new n(f[0],f[1],f[2],f[3],t.spatialReference);return this._export(s,e[0],e[1],o,i,r).then((t=>[t]))}_tiledExport(t,e,o,i,r){const a=l.create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),p=new c(a),m=p.getTileCoverage(t);if(!m)return null;const h=[];return m.forEach(((s,a,m,l)=>{y.set(s,a,m,l),p.getTileBounds(f,y);const c=new n(f[0],f[1],f[2],f[3],t.spatialReference);h.push(this._export(c,e,e,o,i,r))})),s(h)}};t([e()],M.prototype,\"_imagePromise\",void 0),t([e()],M.prototype,\"container\",void 0),t([e()],M.prototype,\"fetchSource\",void 0),t([e()],M.prototype,\"hidpi\",void 0),t([e()],M.prototype,\"imageMaxWidth\",void 0),t([e()],M.prototype,\"imageMaxHeight\",void 0),t([e()],M.prototype,\"imageRotationSupported\",void 0),t([e()],M.prototype,\"imageNormalizationSupported\",void 0),t([e()],M.prototype,\"requestUpdate\",void 0),t([e({dependsOn:[\"_imagePromise\"]})],M.prototype,\"updating\",null),M=t([o(\"esri.views.2d.layers.support.ExportStrategy\")],M);var w=M;export default w;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";function r(r,a,t){r.referencesGeometry();const n=a.readArcadeFeature();try{return r.evaluate({...t,$feature:n})}catch(r){return e.getLogger(\"esri.views.2d.support.arcadeOnDemand\").warn(\"Feature arcade evaluation failed:\",r),null}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{i as t,a as e,r as i,j as s,m as r}from\"../../../chunks/mat3.js\";import{c as h}from\"../../../chunks/mat3f32.js\";import{f as n}from\"../../../chunks/vec2f32.js\";import\"../../../chunks/builtins.js\";import o from\"../../webgl/Texture.js\";import\"../../webgl/FramebufferObject.js\";import\"../../webgl/RenderingContext.js\";import{DisplayObject as u}from\"./DisplayObject.js\";import a from\"./ImageryBitmapSource.js\";function d(t,e,i){const s={target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071};return e&&i&&(s.width=e,s.height=i),new o(t,s)}class c extends u{constructor(t=null,e=!0){super(),this.requestRenderOnSourceChangedEnabled=e,this._textureInvalidated=!0,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.transforms={dvs:h()},this.source=t,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null)}get isSourceScaled(){return this.width!==this.sourceWidth||this.height!==this.sourceHeight}get height(){return void 0!==this._height?this._height:this.sourceHeight}set height(t){this._height=t}get source(){return this._source}set source(t){this._source=t,this.invalidateTexture()}get sourceHeight(){return this._source instanceof HTMLImageElement?this._source.naturalHeight:this._source.height}get sourceWidth(){return this._source instanceof HTMLImageElement?this._source.naturalWidth:this._source.width}get width(){return void 0!==this._width?this._width:this.sourceWidth}set width(t){this._width=t}beforeRender(t){super.beforeRender(t),this.updateTexture(t)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRenderOnSourceChangedEnabled&&this.requestRender())}setTransform(h){const o=t(this.transforms.dvs),[u,a]=h.toScreenNoRotation([0,0],this.x,this.y),d=this.resolution/this.pixelRatio/h.resolution,c=d*this.width,l=d*this.height,x=Math.PI*this.rotation/180;e(o,o,n(u,a)),e(o,o,n(c/2,l/2)),i(o,o,-x),e(o,o,n(-c/2,-l/2)),s(o,o,n(c,l)),r(this.transforms.dvs,h.displayViewMat3,o)}setSamplingProfile(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}bind({context:t},e){this._texture&&t.bindTexture(this._texture,e)}updateTexture({context:t}){var e;if(!this.stage)return null==(e=this._texture)||e.dispose(),void(this._texture=null);if(!this._textureInvalidated)return;this._textureInvalidated=!1,this._texture||(this.source?this._texture=d(t,this.sourceWidth,this.sourceHeight):this._texture=d(t));const i=this.source;if(i){if(this._texture.resize(this.sourceWidth,this.sourceHeight),function(t){return t&&\"render\"in t}(i))if(i instanceof a){const t=i.getRenderedRasterPixels();this._texture.setData(t.renderedRasterPixels)}else this._texture.setData(function(t){const e=document.createElement(\"canvas\");return e.width=t.width,e.height=t.height,t.render(e.getContext(\"2d\")),e}(i));else(function(t){return t&&!(\"render\"in t)})(i)&&this._texture.setData(i);this.ready()}else this._texture.setData(null)}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}}export{c as Bitmap};\n"],"sourceRoot":"webpack:///"}