{"version":3,"sources":["webpack:///node_modules/@arcgis/core/layers/support/imageUtils.js","webpack:///node_modules/@arcgis/core/layers/VectorTileLayer.js","webpack:///node_modules/@arcgis/core/views/2d/engine/vectorTiles/SchemaHelper.js","webpack:///node_modules/@arcgis/core/views/2d/engine/vectorTiles/tileInfoUtils.js","webpack:///node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/VectorTileSource.js","webpack:///node_modules/@arcgis/core/layers/mixins/ArcGISService.js","webpack:///node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js","webpack:///node_modules/@arcgis/core/layers/support/SpriteSource.js","webpack:///node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js","webpack:///node_modules/@arcgis/core/layers/mixins/BlendLayer.js","webpack:///node_modules/@arcgis/core/core/MemCache.js","webpack:///node_modules/@arcgis/core/layers/support/vectorTileLayerLoader.js","webpack:///node_modules/@arcgis/core/core/LRUCache.js"],"names":["A","o","lossy","lossless","alpha","animation","Promise","l","Q","Image","onload","onerror","width","height","src","e","_spriteSourceMap","Map","currentStyleInfo","style","isReference","operationalLayerType","type","url","t","clear","loadSpriteSource","devicePixelRatio","loadFromPortal","supportedTypes","supportsData","then","portalItem","id","itemUrl","query","f","data","read","_loadStyle","addResolvingPromise","serviceUrl","_getDefaultAttribution","path","_getPrimarySource","capabilities","operations","supportsExportTiles","supportsTileMap","exportTiles","fullExtent","tileInfo","spatialReference","styleUrl","tileMapURL","sourceNameToSource","push","r","length","tilemapCache","tileServers","version","parseFloat","currentVersion","create256x256CompatibleTileInfo","create512x512CompatibleTileInfo","has","styleRepository","sprite","maxTextureSize","spriteFormat","load","set","get","_loadingPromise","_abortController","abort","i","s","signal","_getSourceAndStyle","getStyleLayerId","getStyleLayerIndex","getPaintProperties","isPainterDataDriven","setPaintProperties","emit","layerName","paint","isDataDriven","getStyleLayer","setStyleLayer","layer","index","deleteStyleLayer","getLayoutProperties","setLayoutProperties","layout","setStyleLayerVisibility","visibility","getStyleLayerVisibility","replace","toString","origin","messages","title","Error","_set","primarySourceName","layerDefinition","match","toLowerCase","indexOf","loadStyle","readOnly","dependsOn","prototype","autoTracked","json","Boolean","write","enabled","overridePolicy","String","ignoreOrigin","origins","isRequired","service","value","source","B","lockedSchemaPixelSize","isGCS","size","isGeographic","lods","resolution","level","scale","dpi","format","compressionQuality","equals","Math","abs","x","y","n","toJSON","a","d","u","c","p","g","h","parsedUrl","tileIndex","name","sourceUrl","m","tiles","forEach","tileMap","split","map","trim","exportTilesAllowed","M","hasOwnProperty","maxExportTilesCount","ignoreMinMaxLOD","fromJSON","dataKey","round","min","_get","originOf","getLogger","declaredClass","arguments","minScale","maxScale","Number","nonNullable","baseURL","_spriteImageFormat","_isRetina","_spritesData","image","loadStatus","sort","_loadSprites","responseType","Object","keys","max","error","document","createElement","getContext","drawImage","getImageData","Uint8Array","v","w","b","j","k","metrics","left","top","advance","q","z","C","D","E","F","G","H","I","J","K","L","N","O","P","R","S","T","U","V","W","X","blendMode","effect","_namespace","_storage","_removeFunc","_hit","_miss","register","registerRemoveFunc","slice","maxSize","deregisterRemoveFunc","deregister","put","pop","updateSize","clearAll","getStats","resetStats","_maxSize","_db","_size","_removeFuncs","_users","removeUnordered","filter","_checkSizeLimit","entry","_notifyRemoved","console","warn","lifetime","lives","Size","_getHitRate","Entries","Array","forAll","namespace","startsWith","isNaN","hitRate","resetHitRate","defaults","io","corsEnabledServers","sourceBase","validatedSource","styleBase","jsonUrl","spriteUrl","glyphsUrl","glyphs","ssl","sources","esri","xmin","ymin","xmax","ymax","wkid","minzoom","maxzoom","initialExtent","rows","cols","isCompatibleWith","union","clone","defaultStyles"],"mappings":"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","file":"VectorTileLayer-js-es5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction A(A){const o={lossy:\"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA\",lossless:\"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==\",alpha:\"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==\",animation:\"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA\"};return new Promise((l=>{const Q=new Image;Q.onload=()=>{Q.onload=Q.onerror=null,l(Q.width>0&&Q.height>0)},Q.onerror=()=>{Q.onload=Q.onerror=null,l(!1)},Q.src=\"data:image/webp;base64,\"+o[A]}))}export{A as checkWebPSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/global.js\";import\"../core/has.js\";import{clone as r}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{reader as i}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as l}from\"../core/accessorSupport/decorators/writer.js\";import a from\"../core/Error.js\";import{urlToObject as n,isProtocolRelative as p,normalize as y}from\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as c,isAborted as u,createAbortController as m,create as d,onAbort as h}from\"../core/promiseUtils.js\";import S from\"../geometry/SpatialReference.js\";import f from\"../geometry/Extent.js\";import g from\"../request.js\";import v from\"./Layer.js\";import{MultiOriginJSONMixin as _}from\"../core/MultiOriginJSONSupport.js\";import{OperationalLayer as j}from\"./mixins/OperationalLayer.js\";import{ArcGISService as I}from\"./mixins/ArcGISService.js\";import{BlendLayer as O}from\"./mixins/BlendLayer.js\";import{PortalLayer as T}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as b}from\"./mixins/ScaleRangeLayer.js\";import L from\"./support/TileInfo.js\";import{TilemapCache as w}from\"./support/TilemapCache.js\";import{ArcGISCachedService as P}from\"./mixins/ArcGISCachedService.js\";import{checkWebPSupport as x}from\"./support/imageUtils.js\";import N from\"./support/SpriteSource.js\";import{loadMetadata as U}from\"./support/vectorTileLayerLoader.js\";import{createForItem as R}from\"../portal/support/jsonContext.js\";import C from\"../views/2d/engine/vectorTiles/SchemaHelper.js\";import{areSchemasOverlapping as M,unionTileInfos as V}from\"../views/2d/engine/vectorTiles/tileInfoUtils.js\";import D from\"../views/2d/engine/vectorTiles/style/StyleRepository.js\";import E from\"../views/webgl/capabilities.js\";let A=class extends(O(b(P(I(j(T(_(v)))))))){constructor(...e){super(...e),this._spriteSourceMap=new Map,this.currentStyleInfo=null,this.style=null,this.isReference=null,this.operationalLayerType=\"VectorTileLayer\",this.type=\"vector-tile\",this.url=null}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}destroy(){this._spriteSourceMap.clear()}async prefetchResources(e){await this.loadSpriteSource(t.devicePixelRatio||1,e)}load(e){const t=this.loadFromPortal({supportedTypes:[\"Vector Tile Service\"],supportsData:!1},e).then((async()=>{if(!this.portalItem||!this.portalItem.id)return;const t=`${this.portalItem.itemUrl}/resources/styles/root.json`;(await g(t,{...e,query:{f:\"json\"}})).data&&this.read({url:t},R(this.portalItem))})).then((()=>this._loadStyle(e)),(()=>this._loadStyle(e)));return this.addResolvingPromise(t),c(this)}get attributionDataUrl(){const e=this.currentStyleInfo,t=e&&e.serviceUrl&&n(e.serviceUrl);return t?this._getDefaultAttribution(t.path):null}get capabilities(){const e=this._getPrimarySource();return e?e.capabilities:{operations:{supportsExportTiles:!1,supportsTileMap:!1},exportTiles:null}}get fullExtent(){const e=this._getPrimarySource();return e?e.fullExtent:null}get parsedUrl(){return this.serviceUrl?n(this.serviceUrl):null}get serviceUrl(){return this.currentStyleInfo&&this.currentStyleInfo.serviceUrl||null}get spatialReference(){return this.tileInfo&&this.tileInfo.spatialReference||null}get styleUrl(){return this.currentStyleInfo&&this.currentStyleInfo.styleUrl||null}writeStyleUrl(e,t){e&&p(e)&&(e=`https:${e}`),t.styleUrl=e}get tileIndexType(){const e=this._getPrimarySource();return e?e.type:\"\"}get tileIndexUrl(){const e=this._getPrimarySource();return e?e.tileMapURL:\"\"}get tileInfo(){var e;const t=[];for(const e in this.sourceNameToSource)t.push(this.sourceNameToSource[e]);let r=(null==(e=this._getPrimarySource())?void 0:e.tileInfo)||new L;if(t.length>1)for(let e=0;e<t.length;e++)M(r,t[e].tileInfo)&&(r=V(r,t[e].tileInfo));return r}get tilemapCache(){const e=this._getPrimarySource();return e&&e.capabilities.operations.supportsTileMap?e.tilemapCache:null}get tileServers(){const e=this._getPrimarySource();return e?e.tileServers:[]}readVersion(e,t){return t.version?parseFloat(t.version):parseFloat(t.currentVersion)}get compatibleTileInfo256(){return C.create256x256CompatibleTileInfo(this.tileInfo)}get compatibleTileInfo512(){return C.create512x512CompatibleTileInfo(this.tileInfo)}async loadSpriteSource(e=1,t){if(!this._spriteSourceMap.has(e)){const r=E(),o=new N(this.styleRepository.sprite,e,r.maxTextureSize,this.currentStyleInfo.spriteFormat);await o.load(t),this._spriteSourceMap.set(e,o)}return c(this._spriteSourceMap.get(e))}async loadStyle(e,t){const r=e||this.style||this.url;if(this._loadingPromise&&\"string\"==typeof r&&this.url===r&&!u(this._abortController))return this._loadingPromise;const o=this._abortController;o&&o.abort();const i=m();return this._loadingPromise=d(((e,o)=>{const s={signal:i.signal};this._spriteSourceMap.clear(),this._getSourceAndStyle(r,s).then(e,o),h(t,(()=>{i.abort()}))})),this._abortController=i,this._loadingPromise}getStyleLayerId(e){return this.styleRepository.getStyleLayerId(e)}getStyleLayerIndex(e){return this.styleRepository.getStyleLayerIndex(e)}getPaintProperties(e){return r(this.styleRepository.getPaintProperties(e))}setPaintProperties(e,t){const r=this.styleRepository.isPainterDataDriven(e);this.styleRepository.setPaintProperties(e,t);const o=this.styleRepository.isPainterDataDriven(e);this.emit(\"paint-change\",{layerName:e,paint:t,isDataDriven:r||o})}getStyleLayer(e){return r(this.styleRepository.getStyleLayer(e))}setStyleLayer(e,t){this.styleRepository.setStyleLayer(e,t),this.emit(\"style-layer-change\",{layer:e,index:t})}deleteStyleLayer(e){this.styleRepository.deleteStyleLayer(e),this.emit(\"delete-style-layer\",{layerName:e})}getLayoutProperties(e){return r(this.styleRepository.getLayoutProperties(e))}setLayoutProperties(e,t){this.styleRepository.setLayoutProperties(e,t),this.emit(\"layout-change\",{layer:e,layout:t})}setStyleLayerVisibility(e,t){this.styleRepository.setStyleLayerVisibility(e,t),this.emit(\"style-layer-visibility-change\",{layer:e,visibility:t})}getStyleLayerVisibility(e){return this.styleRepository.getStyleLayerVisibility(e)}getTileUrl(e,t,r){let o=this.tileServers[t%this.tileServers.length];return o=o.replace(/\\{z\\}/gi,e.toString()).replace(/\\{y\\}/gi,t.toString()).replace(/\\{x\\}/gi,r.toString()),o}write(e,t){return t&&t.origin&&!this.styleUrl?(t.messages&&t.messages.push(new a(\"vectortilelayer:unsupported\",`VectorTileLayer (${this.title}, ${this.id}) with style defined by JSON only are not supported`,{layer:this})),null):super.write(e,t)}async _getSourceAndStyle(e,t){if(!e)throw new Error(\"invalid style!\");const r=await U(e,t);if(\"webp\"===r.spriteFormat){await x(\"lossy\")||(r.spriteFormat=\"png\")}this._set(\"currentStyleInfo\",{...r}),\"string\"==typeof e?(this.url=e,this.style=null):(this.url=null,this.style=e),this._set(\"sourceNameToSource\",r.sourceNameToSource),this._set(\"primarySourceName\",r.primarySourceName),this._set(\"styleRepository\",new D(r.style,r)),this.read(r.layerDefinition,{origin:\"service\"}),this.emit(\"load-style\",{})}_getDefaultAttribution(e){const t=e.match(/^https?:\\/\\/(?:basemaps|basemapsbeta|basemapsdev)(?:-api)?\\.arcgis\\.com(\\/[^\\/]+)?\\/arcgis\\/rest\\/services\\/([^\\/]+(\\/[^\\/]+)*)\\/vectortileserver/i),r=[\"OpenStreetMap_v2\",\"OpenStreetMap_Daylight_v2\",\"OpenStreetMap_Export_v2\",\"OpenStreetMap_FTS_v2\",\"OpenStreetMap_GCS_v2\",\"World_Basemap\",\"World_Basemap_v2\",\"World_Basemap_Export_v2\",\"World_Basemap_GCS_v2\",\"World_Basemap_WGS84\",\"World_Contours_v2\"];if(!t)return;const o=t[2]&&t[2].toLowerCase();if(!o)return;const i=t[1]||\"\";for(const e of r)if(e.toLowerCase().indexOf(o)>-1)return y(`//static.arcgis.com/attribution/Vector${i}/${e}`)}_getPrimarySource(){return this.sourceNameToSource&&this.primarySourceName in this.sourceNameToSource?this.sourceNameToSource[this.primarySourceName]:null}async _loadStyle(e){return this._loadingPromise?this._loadingPromise:this.loadStyle(null,e)}};e([o({readOnly:!0,dependsOn:[\"currentStyleInfo\"]})],A.prototype,\"attributionDataUrl\",null),e([o({type:[\"show\",\"hide\"]})],A.prototype,\"listMode\",void 0),e([o({readOnly:!0,dependsOn:[\"sourceNameToSource\",\"primarySourceName\"],autoTracked:!1,json:{read:!1}})],A.prototype,\"capabilities\",null),e([o({readOnly:!0})],A.prototype,\"currentStyleInfo\",void 0),e([o({json:{read:!1},readOnly:!0,type:f,dependsOn:[\"sourceNameToSource\",\"primarySourceName\"]})],A.prototype,\"fullExtent\",null),e([o()],A.prototype,\"style\",void 0),e([o({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],A.prototype,\"isReference\",void 0),e([o({type:[\"VectorTileLayer\"]})],A.prototype,\"operationalLayerType\",void 0),e([o({readOnly:!0,dependsOn:[\"serviceUrl\"]})],A.prototype,\"parsedUrl\",null),e([o({readOnly:!0,dependsOn:[\"currentStyleInfo\"]})],A.prototype,\"serviceUrl\",null),e([o({type:S,dependsOn:[\"tileInfo\"],readOnly:!0})],A.prototype,\"spatialReference\",null),e([o({readOnly:!0})],A.prototype,\"styleRepository\",void 0),e([o({readOnly:!0})],A.prototype,\"sourceNameToSource\",void 0),e([o({readOnly:!0})],A.prototype,\"primarySourceName\",void 0),e([o({type:String,readOnly:!0,dependsOn:[\"currentStyleInfo\"],json:{write:{ignoreOrigin:!0},origins:{\"web-document\":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],A.prototype,\"styleUrl\",null),e([l([\"portal-item\",\"web-document\"],\"styleUrl\")],A.prototype,\"writeStyleUrl\",null),e([o({json:{read:!1},readOnly:!0,dependsOn:[\"sourceNameToSource\",\"primarySourceName\"]})],A.prototype,\"tileIndexType\",null),e([o({json:{read:!1},readOnly:!0,dependsOn:[\"sourceNameToSource\",\"primarySourceName\"]})],A.prototype,\"tileIndexUrl\",null),e([o({json:{read:!1,origins:{service:{read:!1}}},readOnly:!0,type:L,dependsOn:[\"sourceNameToSource\",\"primarySourceName\"]})],A.prototype,\"tileInfo\",null),e([o({json:{read:!1},readOnly:!0,type:w,dependsOn:[\"sourceNameToSource\",\"primarySourceName\"]})],A.prototype,\"tilemapCache\",null),e([o({json:{read:!1},readOnly:!0,dependsOn:[\"sourceNameToSource\",\"primarySourceName\"]})],A.prototype,\"tileServers\",null),e([o({json:{read:!1},readOnly:!0,value:\"vector-tile\"})],A.prototype,\"type\",void 0),e([o({json:{origins:{\"web-document\":{read:{source:\"styleUrl\"}},\"portal-item\":{read:{source:\"url\"}}},write:!1,read:!1}})],A.prototype,\"url\",void 0),e([o({readOnly:!0})],A.prototype,\"version\",void 0),e([i(\"version\",[\"version\",\"currentVersion\"])],A.prototype,\"readVersion\",null),e([o({readOnly:!0,dependsOn:[\"tileInfo\"]})],A.prototype,\"compatibleTileInfo256\",null),e([o({readOnly:!0,dependsOn:[\"tileInfo\"]})],A.prototype,\"compatibleTileInfo512\",null),A=e([s(\"esri.layers.VectorTileLayer\")],A);var B=A;export default B;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../layers/support/LOD.js\";import i from\"../../../../layers/support/TileInfo.js\";export default class{constructor(e,i){this.lockedSchemaPixelSize=e,this.isGCS=i}getLevelRowColumn(e){return this.isGCS?[e[0],e[1]>>1,e[2]>>1]:256===this.lockedSchemaPixelSize&&e[0]>0?[e[0]-1,e[1]>>1,e[2]>>1]:e}adjustLevel(e){return this.isGCS?e:256===this.lockedSchemaPixelSize?e>0?e-1:0:e}getShift(e,i){let t=0,s=0;return(256===this.lockedSchemaPixelSize||this.isGCS)&&(e[2]%2&&(t=i),e[1]%2&&(s=i)),[t,s]}getScale(e){if(this.isGCS){if(512===this.lockedSchemaPixelSize)return 4}else if(256===this.lockedSchemaPixelSize&&0===e)return 1;return 2}static create256x256CompatibleTileInfo(t){if(!t)return null;if(256===t.size[0]&&256===t.size[1])return t;const s=t.spatialReference.isGeographic,l=[],r=t.lods.length;for(let i=0;i<r;i++){const r=t.lods[i],o=s?r.resolution:2*r.resolution;l.push(new e({level:r.level,scale:r.scale,resolution:o}))}return new i({size:[256,256],dpi:t.dpi,format:t.format,compressionQuality:t.compressionQuality,origin:t.origin,spatialReference:t.spatialReference,lods:l})}static create512x512CompatibleTileInfo(t){if(!t)return null;if(256===t.size[0]||256===t.size[1])return null;const s=[],l=t.lods.length;for(let i=0;i<l;i++){const l=t.lods[i],r=.5*l.resolution;s.push(new e({level:l.level,scale:l.scale,resolution:r}))}return new i({size:[512,512],dpi:t.dpi,format:t.format,compressionQuality:t.compressionQuality,origin:t.origin,spatialReference:t.spatialReference,lods:s})}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../layers/support/TileInfo.js\";function l(e,l){if(e===l)return!0;if(!e&&null!=l)return!1;if(null!=e&&!l)return!1;if(!e.spatialReference.equals(l.spatialReference)||e.dpi!==l.dpi)return!1;const s=e.origin,o=l.origin;if(Math.abs(s.x-o.x)>=1e-6||Math.abs(s.y-o.y)>=1e-6)return!1;let r,n;e.lods[0].scale>l.lods[0].scale?(r=e,n=l):(n=e,r=l);for(let e=r.lods[0].scale;e>=n.lods[n.lods.length-1].scale-1e-6;e/=2)if(Math.abs(e-n.lods[0].scale)<1e-6)return!0;return!1}function s(l,s){if(l===s)return l;if(!l&&null!=s)return s;if(null!=l&&!s)return l;const o=l.size[0],r=l.format,n=l.dpi,t={x:l.origin.x,y:l.origin.y},i=l.spatialReference.toJSON(),a=l.lods[0].scale>s.lods[0].scale?l.lods[0]:s.lods[0],d=l.lods[l.lods.length-1].scale<=s.lods[s.lods.length-1].scale?l.lods[l.lods.length-1]:s.lods[s.lods.length-1],f=a.scale,u=a.resolution,c=d.scale,p=[];let g=f,h=u,x=0;for(;g>c;)p.push({level:x,resolution:h,scale:g}),x++,g/=2,h/=2;return new e({size:[o,o],dpi:n,format:r||\"pbf\",origin:t,lods:p,spatialReference:i})}export{l as areSchemasOverlapping,s as unionTileInfos};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{urlToObject as t,objectToQuery as i,isAbsolute as l,join as r}from\"../../../../../core/urlUtils.js\";import{resolve as s}from\"../../../../../core/promiseUtils.js\";import o from\"../../../../../geometry/Extent.js\";import{readServiceTileInfo as a}from\"../../../../../layers/support/serviceTileInfoProperty.js\";import{TilemapCache as n}from\"../../../../../layers/support/TilemapCache.js\";import p from\"../TileIndex.js\";export default class{constructor(s,h,u){this.tileMapURL=\"\",this.tilemapCache=null,this.parsedUrl=null,this.tileInfo=null,this.capabilities=null,this.tileIndex=null,this.fullExtent=null,this.name=s,this.sourceUrl=h,h&&(this.parsedUrl=t(this.sourceUrl));const c=this.parsedUrl.path,m=this.parsedUrl.query?\"?\"+i(this.parsedUrl.query):\"\",f=e(u),d=f.tiles;h&&d.forEach(((e,t)=>{l(e)||(d[t]=r(c,e)+m)})),this.tileServers=d,u.tileMap&&(this.tileMapURL=r(h,u.tileMap));const x=u.capabilities&&u.capabilities.split(\",\").map((e=>e.toLowerCase().trim())),g=!!u.exportTilesAllowed,y=!!x&&-1!==x.indexOf(\"tilemap\"),M=g&&u.hasOwnProperty(\"maxExportTilesCount\")?u.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:g,supportsTileMap:y},exportTiles:g?{maxExportTilesCount:+M}:null},this.tileInfo=a(f.tileInfo,f,null,{ignoreMinMaxLOD:!0}),y&&(this.type=\"vector-tile\",this.tilemapCache=new n({layer:this}),this.tilemapCache&&(this.tileIndex=new p(this.tilemapCache))),this.fullExtent=o.fromJSON(u.fullExtent)}getRefKey(e,t){return this.tileIndex?this.tileIndex.dataKey(e,t):s(e)}getSourceTileUrl(e,t,i){let l=this.tileServers[t%this.tileServers.length];return l=l.replace(/\\{z\\}/gi,e.toString()).replace(/\\{y\\}/gi,t.toString()).replace(/\\{x\\}/gi,i.toString()),l}isCompatibleWith(e){const t=this.tileInfo,i=e.tileInfo;if(!t.spatialReference.equals(i.spatialReference))return!1;if(!t.origin.equals(i.origin))return!1;if(Math.round(t.dpi)!==Math.round(i.dpi))return!1;const l=t.lods,r=i.lods,s=Math.min(l.length,r.length);for(let e=0;e<s;e++){const t=l[e],i=r[e];if(t.level!==i.level||Math.round(t.scale)!==Math.round(i.scale))return!1}return!0}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{isSome as r}from\"../../core/maybe.js\";import e from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{parse as i,sanitizeUrl as l}from\"../support/arcgisLayerUrl.js\";const p=p=>{let c=class extends p{get title(){if(this._get(\"title\")&&\"defaults\"!==this.originOf(\"title\"))return this._get(\"title\");if(this.url){const t=i(this.url);if(r(t)&&t.title)return t.title}return this._get(\"title\")||\"\"}set title(t){this._set(\"title\",t)}set url(t){this._set(\"url\",l(t,e.getLogger(this.declaredClass)))}};return t([s({dependsOn:[\"url\"]})],c.prototype,\"title\",null),t([s({type:String})],c.prototype,\"url\",null),c=t([o(\"esri.layers.mixins.ArcGISService\")],c),c};export{p as ArcGISService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";const s=s=>{let t=class extends s{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get scaleRangeId(){return`${this.minScale},${this.maxScale}`}};return e([r({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,\"minScale\",void 0),e([r({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,\"maxScale\",void 0),e([r({readOnly:!0,dependsOn:[\"minScale\",\"maxScale\"]})],t.prototype,\"scaleRangeId\",null),t=e([o(\"esri.layers.mixins.ScaleRangeLayer\")],t),t};export{s as ScaleRangeLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Logger.js\";import e from\"../../core/Error.js\";import{urlToObject as i,objectToQuery as s}from\"../../core/urlUtils.js\";import{all as a,resolve as r}from\"../../core/promiseUtils.js\";import h from\"../../request.js\";const o=t.getLogger(\"esri.layers.support.SpriteSource\");export default class{constructor(t,e,i,s){this.baseURL=t,this.devicePixelRatio=e,this.maxTextureSize=i,this._spriteImageFormat=s,this._isRetina=!1,this._spritesData={},this.image=null,this.width=null,this.height=null,this.loadStatus=\"not-loaded\"}get spriteNames(){const t=[];for(const e in this._spritesData)t.push(e);return t.sort(),t}getSpriteInfo(t){return this._spritesData[t]}async load(t){if(this.baseURL){this.loadStatus=\"loading\";try{await this._loadSprites(t),this.loadStatus=\"loaded\"}catch{this.loadStatus=\"failed\"}}else this.loadStatus=\"failed\"}_loadSprites(t){this._isRetina=this.devicePixelRatio>1.15;const l=i(this.baseURL),n=l.query?\"?\"+s(l.query):\"\",d=this._isRetina?\"@2x\":\"\",g=`${l.path}${d}.${this._spriteImageFormat}${n}`,m=`${l.path}${d}.json${n}`;return a([h(m,t),h(g,{responseType:\"image\",...t})]).then((([t,i])=>{const s=Object.keys(t.data);if(!s||0===s.length||1===s.length&&\"_ssl\"===s[0]||!i||!i.data)return this._spritesData=this.image=null,this.width=this.height=0,r(null);this._spritesData=t.data;const a=i.data,h=Math.max(this.maxTextureSize,4096);if(a.width>h||a.height>h){const t=`Sprite resource for style ${l.path} is bigger than the maximum allowed of ${h} pixels}`;throw o.error(t),new e(\"SpriteSource\",t)}this.width=a.width,this.height=a.height;const n=document.createElement(\"canvas\"),d=n.getContext(\"2d\");n.width=a.width,n.height=a.height,d.drawImage(a,0,0,a.width,a.height);const g=d.getImageData(0,0,a.width,a.height),m=new Uint8Array(g.data);let p;for(let t=0;t<m.length;t+=4)p=m[t+3]/255,m[t]=m[t]*p,m[t+1]=m[t+1]*p,m[t+2]=m[t+2]*p;this.image=m}))}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t=8,e=6,c=1e-30,h=64,i=4294967295,o=512,a=256,d=256/360,n=!1,p=128,r=8,s=29,f=1,g=16,l=16,m=4,v=8,w=50,x=10,b=24,j=8,k={metrics:{width:15,height:17,left:0,top:-7,advance:14}},q=1024,u=0,y=0,z=0,A=1,B=2,C=3,D=4,E=5,F=6,G=5,H=6,I=0,J=1,K=2,L=3,M=3,N=2,O=1,P=2,Q=4,R=2.5,S=6,T=5,U=6,V=1.15,W=2,X=2;export{d as ANGLE_FACTOR_256,J as ATTRIBUTE_DATA_ANIMATION,L as ATTRIBUTE_DATA_DD0,M as ATTRIBUTE_DATA_DD1,I as ATTRIBUTE_DATA_FILTER_FLAGS,K as ATTRIBUTE_DATA_VV,q as ATTRIBUTE_STORE_TEXTURE_SIZE,k as AVERAGE_GLYPH_MOSAIC_ITEM,l as COLLISION_BOX_PADDING,p as COLLISION_BUCKET_SIZE,g as COLLISION_EARLY_REJECT_BUCKET_SIZE,f as COLLISION_MAX_ZOOM_DELTA,v as COLLISION_PLACEMENT_PADDING,m as COLLISION_TILE_BOX_SIZE,n as DEBUG_LABELS,r as DOT_DENSITY_MAX_FIELDS,Q as EFFECT_FLAG_0,h as EXTRUDE_SCALE,P as FILTER_FLAG_0,b as GLYPH_SIZE,x as HEURISTIC_GLYPHS_PER_FEATURE,w as HEURISTIC_GLYPHS_PER_LINE,O as HIGHLIGHT_FLAG,S as HITTEST_SEARCH_SIZE,s as MAGIC_LABEL_LINE_HEIGHT,N as MAX_FILTERS,W as MAX_GPU_UPLOADS_PER_FRAME,c as NAN_MAGIC_NUMBER,i as PICTURE_FILL_COLOR,a as RASTER_TILE_SIZE,X as SPRITE_PADDING,A as TEXTURE_BINDING_ATTRIBUTE_DATA_0,B as TEXTURE_BINDING_ATTRIBUTE_DATA_1,C as TEXTURE_BINDING_ATTRIBUTE_DATA_2,D as TEXTURE_BINDING_ATTRIBUTE_DATA_3,z as TEXTURE_BINDING_BITMAP,y as TEXTURE_BINDING_GLYPH_ATLAS,E as TEXTURE_BINDING_HIGHLIGHT_0,F as TEXTURE_BINDING_HIGHLIGHT_1,G as TEXTURE_BINDING_RENDERER_0,H as TEXTURE_BINDING_RENDERER_1,u as TEXTURE_BINDING_SPRITE_ATLAS,j as TEXT_PLACEMENT_PADDING,R as THIN_LINE_THRESHOLD,o as TILE_SIZE,V as VTL_HIGH_RES_CUTOFF,U as VTL_TEXTURE_BINDING_UNIT_GLYPHS,T as VTL_TEXTURE_BINDING_UNIT_SPRITES,e as WEBGL_MAX_INNER_STOPS,t as WEBGL_MAX_STOPS};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";const t=t=>{let s=class extends t{constructor(){super(...arguments),this.blendMode=\"normal\",this.effect=null}};return o([r({type:[\"average\",\"color-burn\",\"color-dodge\",\"color\",\"darken\",\"destination-atop\",\"destination-in\",\"destination-out\",\"destination-over\",\"difference\",\"exclusion\",\"hard-light\",\"hue\",\"invert\",\"lighten\",\"lighter\",\"luminosity\",\"minus\",\"multiply\",\"normal\",\"overlay\",\"plus\",\"reflect\",\"saturation\",\"screen\",\"soft-light\",\"source-atop\",\"source-in\",\"source-out\",\"vivid-light\",\"xor\"],nonNullable:!0,json:{read:!1,write:!1,origins:{\"web-map\":{default:\"normal\",read:!0,write:!0}}}})],s.prototype,\"blendMode\",void 0),o([r()],s.prototype,\"effect\",void 0),s=o([e(\"esri.layers.mixins.BlendLayer\")],s),s};export{t as BlendLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"./PooledArray.js\";const e=-3;class s{constructor(t,e,s){this._namespace=t,this._storage=e,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=\":\",s&&(this._storage.registerRemoveFunc(this._namespace,s),this._removeFunc=!0)}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this)}put(t,e,s,i=0){this._storage.put(this._namespace+t,e,s,i)}get(t){const e=this._storage.get(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}pop(t){const e=this._storage.pop(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}updateSize(t,e,s){this._storage.updateSize(this._namespace+t,e,s)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class i{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=[],this._users=new t}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,e){this._removeFuncs.push([t,e])}deregisterRemoveFunc(t){this._removeFuncs=this._removeFuncs.filter((e=>e[0]!==t))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,e,s,i){const h=this._db.get(t);if(h&&(this._size-=h.size,this._db.delete(t),h.entry!==e&&this._notifyRemoved(t,h.entry)),s>this._maxSize)return void this._notifyRemoved(t,e);if(void 0===e)return void console.warn(\"Refusing to cache undefined entry \");if(!s||s<0)return void console.warn(\"Refusing to cache entry with invalid size \"+s);const r=1+Math.max(i,-3)- -3;this._db.set(t,{entry:e,size:s,lifetime:r,lives:r}),this._size+=s,this._checkSizeLimit()}updateSize(t,e,s){const i=this._db.get(t);i&&i.entry===e&&(this._size-=i.size,s>this._maxSize?this._notifyRemoved(t,e):(i.size=s,this._size+=s,this._checkSizeLimit()))}pop(t){const e=this._db.get(t);if(e)return this._size-=e.size,this._db.delete(t),++this._hit,e.entry;++this._miss}get(t){const e=this._db.get(t);if(void 0!==e)return this._db.delete(t),e.lives=e.lifetime,this._db.set(t,e),++this._hit,e.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+\"/\"+Math.round(this._maxSize/1048576)+\"MB\",\"Hit rate\":Math.round(100*this._getHitRate())+\"%\",Entries:this._db.size.toString()},e={},s=new Array;this._db.forEach(((t,i)=>{const h=t.lifetime;s[h]=(s[h]||0)+t.size,this._users.forAll((s=>{const h=s.namespace;if(i.startsWith(h)){const s=e[h]||0;e[h]=s+t.size}}))}));const i={};this._users.forAll((t=>{const s=t.namespace;if(!isNaN(t.hitRate)&&t.hitRate>0){const h=e[s]||0;e[s]=h,i[s]=Math.round(100*t.hitRate)+\"%\"}else i[s]=\"0%\"}));const h=Object.keys(e);h.forEach((t=>e[t]=e[t]/this._size*100)),h.sort(((t,s)=>e[s]-e[t])),h.forEach((s=>t[s]=Math.round(e[s])+\"% / \"+i[s]));for(let e=s.length-1;e>=0;--e){const i=s[e];i&&(t[\"Priority \"+(e+-3-1)]=Math.round(i/this.size*100)+\"%\")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll((t=>t.resetHitRate()))}clear(t){this._db.forEach(((e,s)=>{s.startsWith(t)&&(this._size-=e.size,this._db.delete(s),this._notifyRemoved(s,e.entry))}))}clearAll(){this._db.forEach(((t,e)=>this._notifyRemoved(e,t.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(t,e){this._removeFuncs.forEach((s=>{t.startsWith(s[0])&&s[1](e)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,e]of this._db)if(this._db.delete(t),e.lives<=1?(this._size-=e.size,this._notifyRemoved(t,e.entry)):(--e.lives,this._db.set(t,e)),this._size<=.9*this.maxSize)return}}export{e as MIN_PRIORITY,s as MemCache,i as MemCacheStorage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../config.js\";import{urlToObject as r,removeTrailingSlash as t,getOrigin as s,isProtocolRelative as o,isAbsolute as l,join as n,normalize as i,removeFile as u,appBaseUrl as a}from\"../../core/urlUtils.js\";import{throwIfAborted as c,reject as f,all as p,resolve as y}from\"../../core/promiseUtils.js\";import m from\"../../request.js\";import d from\"../../views/2d/engine/vectorTiles/style/VectorTileSource.js\";const S=e.defaults&&e.defaults.io.corsEnabledServers;async function h(e,t){const s={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null,sourceNameToSource:{},primarySourceName:\"\",spriteFormat:\"png\"},[o,l]=\"string\"==typeof e?[e,null]:[null,e.jsonUrl],n=o?r(o):null;await w(s,\"esri\",e,l,t);const i={layerDefinition:s.validatedSource,url:o,parsedUrl:n,serviceUrl:s.sourceUrl,style:s.style,styleUrl:s.styleUrl,spriteUrl:s.style.sprite&&x(s.styleBase,s.style.sprite),spriteFormat:s.spriteFormat,glyphsUrl:s.style.glyphs&&x(s.styleBase,s.style.glyphs),sourceNameToSource:s.sourceNameToSource,primarySourceName:s.primarySourceName};return U(i.spriteUrl),U(i.glyphsUrl),i}function U(e){if(!e)return;const r=s(e);S&&-1===S.indexOf(r)&&S.push(r)}function x(...e){let r;for(let t=0;t<e.length;++t)if(o(e[t])){if(r){const s=r.split(\"://\")[0];r=s+\":\"+e[t].trim()}}else r=l(e[t])?e[t]:n(r,e[t]);return t(r)}async function w(e,t,s,o,l){let n,y,d;if(c(l),\"string\"==typeof s){const e=i(s);U(e);const t=r(e);d=await m(t.path,{query:{f:\"json\"},responseType:\"json\",...l}),n=e,y=e}else d={data:s},n=s.jsonUrl||null,y=o;const S=d.data;return d.ssl&&(n&&(n=n.replace(/^http:/i,\"https:\")),y&&(y=y.replace(/^http:/i,\"https:\"))),g(S)?(e.styleUrl=n||null,async function(e,r,t,s){const o=t?u(t):a;e.styleBase=o,e.style=r,e.styleUrl&&U(e.styleUrl);r[\"sprite-format\"]&&\"webp\"===r[\"sprite-format\"].toLowerCase()&&(e.spriteFormat=\"webp\");const l=[];if(r.sources&&r.sources.esri){const t=r.sources.esri;t.url?await w(e,\"esri\",x(o,t.url),void 0,s):l.push(w(e,\"esri\",t,o,s))}for(const t of Object.keys(r.sources))\"esri\"!==t&&\"vector\"===r.sources[t].type&&(r.sources[t].url?l.push(w(e,t,x(o,r.sources[t].url),void 0,s)):l.push(w(e,t,r.sources[t],o,s)));await p(l)}(e,S,y,l)):g(S)?f(\"You must specify the URL or the JSON for a service or for a style.\"):e.sourceUrl?v(e,S,y,!1,t,l):(e.sourceUrl=n||null,v(e,S,y,!0,t,l))}function g(e){return!!e.sources}async function v(e,r,s,o,l,n){const i=s?t(s)+\"/\":a,u=function(e,r){if(e.hasOwnProperty(\"tileInfo\"))return e;const t={xmin:-20037507.067161843,ymin:-20037507.067161843,xmax:20037507.067161843,ymax:20037507.067161843,spatialReference:{wkid:102100}},s=512;let o=78271.51696400007,l=295828763.7957775;const n=[],i=e.hasOwnProperty(\"minzoom\")?parseFloat(e.minzoom):0,u=e.hasOwnProperty(\"maxzoom\")?parseFloat(e.maxzoom):22;for(let e=0;e<=u;e++)e>=i&&n.push({level:e,scale:l,resolution:o}),o/=2,l/=2;for(const t of e.tiles)U(x(r,t));return{capabilities:\"TilesOnly\",initialExtent:t,fullExtent:t,minScale:0,maxScale:0,tiles:e.tiles,tileInfo:{rows:s,cols:s,dpi:96,format:\"pbf\",origin:{x:-20037508.342787,y:20037508.342787},lods:n,spatialReference:{wkid:102100}}}}(r,i),c=new d(l,i,u);if(!o&&e.primarySourceName in e.sourceNameToSource){const r=e.sourceNameToSource[e.primarySourceName];if(!r.isCompatibleWith(c))return y();null!=c.fullExtent&&(null!=r.fullExtent?r.fullExtent.union(c.fullExtent):r.fullExtent=c.fullExtent.clone()),r.tileInfo.lods.length<c.tileInfo.lods.length&&(r.tileInfo=c.tileInfo)}if(o?(e.sourceBase=i,e.source=r,e.validatedSource=u,e.primarySourceName=l,e.sourceUrl&&U(e.sourceUrl)):U(i),e.sourceNameToSource[l]=c,!e.style)return null==r.defaultStyles?f():\"string\"==typeof r.defaultStyles?w(e,\"\",x(i,r.defaultStyles,\"root.json\"),void 0,n):w(e,\"\",r.defaultStyles,x(i,\"root.json\"),n)}export{h as loadMetadata};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";export default class{constructor(e,r){this._storage=new t,this._storage.maxSize=e,r&&this._storage.registerRemoveFunc(\"\",r)}put(t,e,r){this._storage.put(t,e,r,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}\n"]}