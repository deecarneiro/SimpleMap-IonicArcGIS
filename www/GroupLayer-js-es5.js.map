{"version":3,"sources":["webpack:///node_modules/@arcgis/core/layers/mixins/PortalLayer.js","webpack:///node_modules/@arcgis/core/layers/GroupLayer.js","webpack:///node_modules/@arcgis/core/renderers/support/lengthUtils.js","webpack:///node_modules/@arcgis/core/layers/mixins/BlendLayer.js"],"names":["n","getLogger","d","r","arguments","resourceReferences","portalItem","paths","t","destroy","_get","removeOrigin","_set","e","itemId","id","portal","load","instance","supportedTypes","validateItem","supportsData","warn","title","layer","o","getDefault","restUrl","messages","push","type","prototype","String","b","i","_visibilityHandles","fullExtent","operationalLayerType","spatialReference","_visibilityWatcher","bind","_enforceVisibility","visibilityMode","visible","watch","_visibleWatcher","s","forEach","webmap","getLayerJSONFromResourceInfo","layerType","layers","addResolvingPromise","loadFromPortal","_turnOffOtherLayers","uid","remove","initialized","find","length","getItemAt","_isAnyLayerVisible","some","json","read","write","ignoreOrigin","origins","readOnly","value","v","m","inches","feet","yards","miles","millimeters","centimeters","decimeters","meters","kilometers","radius","blendMode","effect","nonNullable"],"mappings":"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","file":"GroupLayer-js-es5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import i from\"../../core/Error.js\";import{hasSamePortal as p}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{throwIfAborted as l}from\"../../core/promiseUtils.js\";import m from\"../../portal/Portal.js\";import c from\"../../portal/PortalItem.js\";const n=r.getLogger(\"esri.layers.mixins.PortalLayer\"),d=r=>{let d=class extends r{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]}}destroy(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,r,e){if(r.itemId)return new c({id:r.itemId,portal:e&&e.portal})}writePortalItem(t,r){t&&t.id&&(r.itemId=t.id)}async loadFromPortal(t,r){if(this.portalItem&&this.portalItem.id)try{const e=await import(\"../../portal/support/layersLoader.js\");return l(r),await e.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},r)}catch(t){throw n.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${t}`),t}}read(t,r){r&&(r.layer=this),super.read(t,r)}write(t,r){const e=r&&r.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||m.getDefault());return e&&o&&!p(o.restUrl,e.restUrl)?(r.messages&&r.messages.push(new i(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...r,layer:this})}};return t([e({type:c})],d.prototype,\"portalItem\",null),t([o(\"web-document\",\"portalItem\",[\"itemId\"])],d.prototype,\"readPortalItem\",null),t([a(\"web-document\",\"portalItem\",{itemId:{type:String}})],d.prototype,\"writePortalItem\",null),t([e()],d.prototype,\"resourceReferences\",void 0),d=t([s(\"esri.layers.mixins.PortalLayer\")],d),d};export{d as PortalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as e}from\"../core/maybe.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{getProperties as t}from\"../core/accessorSupport/utils.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as o}from\"../core/accessorSupport/decorators/writer.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as l}from\"../core/promiseUtils.js\";import{loadAll as a}from\"../core/loadAll.js\";import{getLayerJSON as p}from\"../webdoc/support/writeUtils.js\";import n from\"./Layer.js\";import{LayersMixin as y}from\"../support/LayersMixin.js\";import{TablesMixin as c}from\"../support/TablesMixin.js\";import{MultiOriginJSONMixin as h}from\"../core/MultiOriginJSONSupport.js\";import{OperationalLayer as d}from\"./mixins/OperationalLayer.js\";import{BlendLayer as m}from\"./mixins/BlendLayer.js\";import{PortalLayer as u}from\"./mixins/PortalLayer.js\";let b=class extends(m(d(u(c(y(h(n))))))){constructor(i){super(i),this._visibilityHandles={},this.fullExtent=void 0,this.operationalLayerType=\"GroupLayer\",this.spatialReference=void 0,this.type=\"group\",this._visibilityWatcher=this._visibilityWatcher.bind(this)}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch(\"visible\",this._visibleWatcher.bind(this),!0)}_writeLayers(i,t,s,r){const o=[];if(!i)return o;i.forEach((i=>{const t=p(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);e(t)&&t.layerType&&o.push(t)})),t.layers=o}set portalItem(i){this._set(\"portalItem\",i)}set visibilityMode(i){const e=this._get(\"visibilityMode\")!==i;this._set(\"visibilityMode\",i),e&&this._enforceVisibility(i,this.visible)}load(i){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\",\"Scene Service\"]},i)),l(this)}loadAll(){return a(this,(i=>{i(this.layers)}))}layerAdded(i){i.visible&&\"exclusive\"===this.visibilityMode?this._turnOffOtherLayers(i):\"inherited\"===this.visibilityMode&&(i.visible=this.visible),this._visibilityHandles[i.uid]=i.watch(\"visible\",this._visibilityWatcher,!0)}layerRemoved(i){const e=this._visibilityHandles[i.uid];e&&(e.remove(),delete this._visibilityHandles[i.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(i){this.layers.forEach((e=>{e!==i&&(e.visible=!1)}))}_enforceVisibility(i,e){if(!t(this).initialized)return;const s=this.layers;let r=s.find((i=>i.visible));switch(i){case\"exclusive\":s.length&&!r&&(r=s.getItemAt(0),r.visible=!0),this._turnOffOtherLayers(r);break;case\"inherited\":s.forEach((i=>{i.visible=e}))}}_visibleWatcher(i){\"inherited\"===this.visibilityMode&&this.layers.forEach((e=>{e.visible=i}))}_visibilityWatcher(i,e,t,s){const r=s;switch(this.visibilityMode){case\"exclusive\":i?this._turnOffOtherLayers(r):this._isAnyLayerVisible()||(r.visible=!0);break;case\"inherited\":r.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((i=>i.visible))}};i([s()],b.prototype,\"fullExtent\",void 0),i([s({json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,\"layers\",void 0),i([o(\"layers\")],b.prototype,\"_writeLayers\",null),i([s({type:[\"GroupLayer\"]})],b.prototype,\"operationalLayerType\",void 0),i([s({json:{origins:{\"web-document\":{read:!1,write:!1}}}})],b.prototype,\"portalItem\",null),i([s()],b.prototype,\"spatialReference\",void 0),i([s({json:{read:!1},readOnly:!0,value:\"group\"})],b.prototype,\"type\",void 0),i([s({type:[\"independent\",\"inherited\",\"exclusive\"],value:\"independent\",json:{write:!0,origins:{\"web-map\":{read:!1,write:!1}}}})],b.prototype,\"visibilityMode\",null),b=i([r(\"esri.layers.GroupLayer\")],b);var v=b;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{earth as e}from\"../../geometry/support/Ellipsoid.js\";import{convertUnit as s,lengthToDegrees as t}from\"../../core/unitUtils.js\";const m={inches:s(1,\"meters\",\"inches\"),feet:s(1,\"meters\",\"feet\"),\"us-feet\":s(1,\"meters\",\"us-feet\"),yards:s(1,\"meters\",\"yards\"),miles:s(1,\"meters\",\"miles\"),\"nautical-miles\":s(1,\"meters\",\"nautical-miles\"),millimeters:s(1,\"meters\",\"millimeters\"),centimeters:s(1,\"meters\",\"centimeters\"),decimeters:s(1,\"meters\",\"decimeters\"),meters:s(1,\"meters\",\"meters\"),kilometers:s(1,\"meters\",\"kilometers\"),\"decimal-degrees\":1/t(1,\"meters\",e.radius)};export{m as meterIn};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";const t=t=>{let s=class extends t{constructor(){super(...arguments),this.blendMode=\"normal\",this.effect=null}};return o([r({type:[\"average\",\"color-burn\",\"color-dodge\",\"color\",\"darken\",\"destination-atop\",\"destination-in\",\"destination-out\",\"destination-over\",\"difference\",\"exclusion\",\"hard-light\",\"hue\",\"invert\",\"lighten\",\"lighter\",\"luminosity\",\"minus\",\"multiply\",\"normal\",\"overlay\",\"plus\",\"reflect\",\"saturation\",\"screen\",\"soft-light\",\"source-atop\",\"source-in\",\"source-out\",\"vivid-light\",\"xor\"],nonNullable:!0,json:{read:!1,write:!1,origins:{\"web-map\":{default:\"normal\",read:!0,write:!0}}}})],s.prototype,\"blendMode\",void 0),o([r()],s.prototype,\"effect\",void 0),s=o([e(\"esri.layers.mixins.BlendLayer\")],s),s};export{t as BlendLayer};\n"]}