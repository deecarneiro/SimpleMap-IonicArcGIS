{"version":3,"sources":["webpack:///node_modules/@arcgis/core/layers/support/ElevationQuery.js","webpack:///node_modules/@arcgis/core/layers/support/ElevationSampler.js","webpack:///node_modules/@arcgis/core/layers/support/ElevationTile.js"],"names":["v","e","i","o","ignoreInvisibleLayers","filter","visible","slice","length","s","x","fromGeometry","l","returnSampleInfo","n","R","query","a","_queryAllContinue","r","geometry","sampleInfo","type","w","spatialReference","signal","load","_createGeometryDescriptor","_selectTiles","_populateElevationTiles","_sampleGeometryWithElevation","_createQueryResult","_createSampler","_createSamplerAllContinue","t","tileInfo","equals","source","dest","_","elevationTiles","layer","options","noDataValue","pop","samplers","map","extent","concat","coordinates","demResolution","push","clone","forEach","z","project","outSpatialReference","_extractSampleInfo","tile","elevationTile","wkid","_preselectOutsideLayerExtent","_selectTilesClosestResolution","_selectTilesFinestContiguous","_selectTilesAuto","sample","outsideExtentTile","fullExtent","y","xmin","xmax","ymin","ymax","_findNearestDemResolutionLODIndex","selectTilesAtLOD","lods","Math","abs","resolution","E","minDemResolution","_selectTilesFinestContiguousAt","tilemapCache","c","getTilesToFetch","fetchAvailability","level","row","col","allElevationTilesFetched","clearElevationTiles","cache","uid","id","get","fetchTile","put","populateElevationTiles","_selectTilesAutoFinest","_reduceTilesForMaximumRequests","_selectTilesAutoPrefetchUpsample","fetchAvailabilityUpsample","ok","error","remapTiles","forEachTileToFetch","maximumAutoTileRequests","upsampleTile","lodAt","_exporter","_cloneCoordinate","points","m","hasZ","hasM","spatiaReference","paths","g","tileAt","some","candidateTiles","fetchedCandidates","Set","intersection","maskExtents","_maximumLodForRequests","min","_selectCandidateTilesCoveringExtentAt","size","ceil","width","height","clear","add","_uniqueNonOverlappingTiles","has","sort","updateTileInfo","_tileIsMasked","findIndex","getLogger","u","h","max","projectIfRequired","contains","warn","p","union","elevationAt","f","remove","samplerData","pixelData","values","safeWidth","dx","dy","x0","y1","d","floor","D"],"mappings":"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","file":"support-ElevationQuery-js-es5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../core/maybe.js\";import t from\"../../core/Error.js\";import{whenOrAbort as i,all as o,throwIfAbortError as s,eachAlways as l}from\"../../core/promiseUtils.js\";import n from\"../../geometry/Point.js\";import a from\"../../geometry/Multipoint.js\";import r from\"../../geometry/Polyline.js\";import{result as c}from\"../../core/asyncUtils.js\";import{getMetersPerUnitForSR as u}from\"../../core/unitUtils.js\";import{fromExtent as h,create as p,contains as m}from\"../../geometry/support/aaBoundingRect.js\";import{initializeProjection as f,project as d}from\"../../geometry/projection.js\";import{MultiTileElevationSampler as y}from\"./ElevationSampler.js\";import{ElevationTile as T}from\"./ElevationTile.js\";class v{async queryAll(e,i,o){if(!(e=o&&o.ignoreInvisibleLayers?e.filter((e=>e.visible)):e.slice()).length)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require at least one elevation layer to fetch tiles from\");const s=x.fromGeometry(i);let l=!1;o&&o.returnSampleInfo||(l=!0);const n={...R,...o,returnSampleInfo:!0},a=await this.query(e[e.length-1],s,n),r=await this._queryAllContinue(e,a,n);return r.geometry=r.geometry.export(),l&&delete r.sampleInfo,r}async query(e,i,o){if(!e)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require an elevation layer to fetch tiles from\");if(!i||!(i instanceof x)&&\"point\"!==i.type&&\"multipoint\"!==i.type&&\"polyline\"!==i.type)throw new t(\"elevation-query:invalid-geometry\",\"Only point, polyline and multipoint geometries can be used to query elevation\");const s={...R,...o},l=new w(e,i.spatialReference,s),n=s.signal;return await e.load({signal:n}),await this._createGeometryDescriptor(l,i,n),await this._selectTiles(l,n),await this._populateElevationTiles(l,n),this._sampleGeometryWithElevation(l),this._createQueryResult(l,n)}async createSampler(e,i,o){if(!e)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require an elevation layer to fetch tiles from\");if(!i||\"extent\"!==i.type)throw new t(\"elevation-query:invalid-extent\",\"Invalid or undefined extent\");const s={...R,...o};return this._createSampler(e,i,s)}async createSamplerAll(e,i,o){if(!(e=o&&o.ignoreInvisibleLayers?e.filter((e=>e.visible)):e.slice()).length)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require at least one elevation layer to fetch tiles from\");if(!i||\"extent\"!==i.type)throw new t(\"elevation-query:invalid-extent\",\"Invalid or undefined extent\");const s={...R,...o,returnSampleInfo:!0},l=await this._createSampler(e[e.length-1],i,s);return this._createSamplerAllContinue(e,i,l,s)}async _createSampler(e,t,i,o){const s=i.signal;await e.load({signal:s});const l=t.spatialReference,n=e.tileInfo.spatialReference;l.equals(n)||(await f([{source:l,dest:n}],{signal:s}),t=d(t,n));const a=new _(e,t,i,o);return await this._selectTiles(a,s),await this._populateElevationTiles(a,s),new y(a.elevationTiles,a.layer.tileInfo,a.options.noDataValue)}async _createSamplerAllContinue(e,t,i,o){if(e.pop(),!e.length)return i;const s=i.samplers.map((e=>h(e.extent))),l=await this._createSampler(e[e.length-1],t,o,s);if(0===l.samplers.length)return i;const n=i.samplers.concat(l.samplers),a=new y(n,o.noDataValue);return this._createSamplerAllContinue(e,t,a,o)}async _queryAllContinue(e,t,i){const o=e.pop(),s=t.geometry.coordinates,l=[],n=[];for(let i=0;i<s.length;i++){const a=t.sampleInfo[i];a.demResolution>=0?a.source||(a.source=o):e.length&&(l.push(s[i]),n.push(i))}if(!e.length||0===l.length)return t;const a=t.geometry.clone(l),r=await this.query(e[e.length-1],a,i);return n.forEach(((e,i)=>{s[e].z=r.geometry.coordinates[i].z,t.sampleInfo[e].demResolution=r.sampleInfo[i].demResolution})),this._queryAllContinue(e,t,i)}async _createQueryResult(e,t){const i={geometry:(await e.geometry.project(e.outSpatialReference,t)).export(),noDataValue:e.options.noDataValue};return e.options.returnSampleInfo&&(i.sampleInfo=this._extractSampleInfo(e)),e.geometry.coordinates.forEach((e=>{e.tile=null,e.elevationTile=null})),i}async _createGeometryDescriptor(e,i,o){let s;const l=e.layer.tileInfo.spatialReference;if(i instanceof x?s=await i.project(l,o):(await f([{source:i.spatialReference,dest:l}],{signal:o}),s=d(i,l)),!s)throw new t(\"elevation-query:spatial-reference-mismatch\",`Cannot query elevation in '${i.spatialReference.wkid}' on an elevation service in '${l.wkid}'`);e.geometry=x.fromGeometry(s)}async _selectTiles(e,i){const o=e.options.demResolution;if(\"geometry\"===e.type&&this._preselectOutsideLayerExtent(e),\"number\"==typeof o)this._selectTilesClosestResolution(e);else if(\"finest-contiguous\"===o)await this._selectTilesFinestContiguous(e,i);else{if(\"auto\"!==o)throw new t(\"elevation-query:invalid-dem-resolution\",`Invalid dem resolution value '${o}', expected a number, \"finest-contiguous\" or \"auto\"`);await this._selectTilesAuto(e,i)}}_preselectOutsideLayerExtent(e){const t=new T(null);t.sample=()=>e.options.noDataValue,e.outsideExtentTile=t;const i=e.layer.fullExtent;e.geometry.coordinates.forEach((e=>{const o=e.x,s=e.y;(o<i.xmin||o>i.xmax||s<i.ymin||s>i.ymax)&&(e.elevationTile=t)}))}_selectTilesClosestResolution(e){const t=e.layer.tileInfo,i=this._findNearestDemResolutionLODIndex(t,e.options.demResolution);e.selectTilesAtLOD(i)}_findNearestDemResolutionLODIndex(e,t){const i=t/u(e.spatialReference);let o=e.lods[0],s=0;for(let t=1;t<e.lods.length;t++){const l=e.lods[t];Math.abs(l.resolution-i)<Math.abs(o.resolution-i)&&(o=l,s=t)}return s}async _selectTilesFinestContiguous(e,t){const i=E(e.layer.tileInfo,e.options.minDemResolution);await this._selectTilesFinestContiguousAt(e,i,t)}async _selectTilesFinestContiguousAt(e,l,n){const a=e.layer;if(e.selectTilesAtLOD(l),l<0)return;const r=a.tilemapCache,c=e.getTilesToFetch();try{if(r)await i(o(c.map((e=>r.fetchAvailability(e.level,e.row,e.col,{signal:n})))),n);else if(await this._populateElevationTiles(e,n),!e.allElevationTilesFetched())throw e.clearElevationTiles(),new t(\"elevation-query:has-unavailable-tiles\")}catch(t){s(t),await this._selectTilesFinestContiguousAt(e,l-1,n)}}async _populateElevationTiles(t,o){const s=t.getTilesToFetch(),n={},a=t.options.cache,r=t.options.noDataValue,c=s.map((async i=>{const s=`${t.layer.uid}:${i.id}:${r}`,l=e(a)?a.get(s):null,c=e(l)?l:await t.layer.fetchTile(i.level,i.row,i.col,{noDataValue:r,signal:o});e(a)&&a.put(s,c),n[i.id]=new T(i,c)}));await i(l(c),o),t.populateElevationTiles(n)}async _selectTilesAuto(e,t){this._selectTilesAutoFinest(e),this._reduceTilesForMaximumRequests(e);const l=e.layer.tilemapCache;if(!l)return this._selectTilesAutoPrefetchUpsample(e,t);const n=e.getTilesToFetch(),a={},r=n.map((async e=>{const i={id:null,level:0,row:0,col:0,extent:p()},o=await c(l.fetchAvailabilityUpsample(e.level,e.row,e.col,i,{signal:t}));!1===o.ok?s(o.error):a[e.id]=i}));await i(o(r),t),e.remapTiles(a)}_reduceTilesForMaximumRequests(e){const t=e.layer.tileInfo;let i=0;const o={},s=e=>{e.id in o?o[e.id]++:(o[e.id]=1,i++)},l=e=>{const t=o[e.id];1===t?(delete o[e.id],i--):o[e.id]=t-1};e.forEachTileToFetch(s,l);let n=!0;for(;n&&(n=!1,e.forEachTileToFetch((o=>{i<=e.options.maximumAutoTileRequests||(l(o),t.upsampleTile(o)&&(n=!0),s(o))}),l),n););}_selectTilesAutoFinest(e){const t=E(e.layer.tileInfo,e.options.minDemResolution);e.selectTilesAtLOD(t,e.options.maximumAutoTileRequests)}async _selectTilesAutoPrefetchUpsample(e,t){const i=e.layer.tileInfo;await this._populateElevationTiles(e,t);let o=!1;e.forEachTileToFetch(((e,t)=>{i.upsampleTile(e)?o=!0:t()})),o&&await this._selectTilesAutoPrefetchUpsample(e,t)}_sampleGeometryWithElevation(e){e.geometry.coordinates.forEach((t=>{const i=t.elevationTile;let o=e.options.noDataValue;if(i){const e=i.sample(t.x,t.y);void 0!==e?o=e:t.elevationTile=null}t.z=o}))}_extractSampleInfo(e){const t=e.layer.tileInfo,i=u(t.spatialReference);return e.geometry.coordinates.map((o=>{let s=-1;if(o.elevationTile&&o.elevationTile!==e.outsideExtentTile){s=t.lodAt(o.elevationTile.tile.level).resolution*i}return{demResolution:s}}))}}class x{export(){return this._exporter(this.coordinates,this.spatialReference)}clone(e){const t=new x;return t.geometry=this.geometry,t.spatialReference=this.spatialReference,t.coordinates=e||this.coordinates.map((e=>this._cloneCoordinate(e))),t._exporter=this._exporter,t}async project(e,t){if(this.spatialReference.equals(e))return this.clone();await f([{source:this.spatialReference,dest:e}],{signal:t});const i=new a({spatialReference:this.spatialReference,points:this.coordinates.map((e=>[e.x,e.y]))}),o=d(i,e);if(!o)return null;const s=this.coordinates.map(((e,t)=>{const i=this._cloneCoordinate(e),s=o.points[t];return i.x=s[0],i.y=s[1],i})),l=this.clone(s);return l.spatialReference=e,l}_cloneCoordinate(e){return{x:e.x,y:e.y,z:e.z,m:e.m,tile:null,elevationTile:null}}static fromGeometry(e){const t=new x;if(t.geometry=e,t.spatialReference=e.spatialReference,e instanceof x)t.coordinates=e.coordinates.map((e=>t._cloneCoordinate(e))),t._exporter=(t,i)=>{const o=e.clone(t);return o.spatialReference=i,o};else switch(e.type){case\"point\":{const i=e,{hasZ:o,hasM:s}=i;t.coordinates=o&&s?[{x:i.x,y:i.y,z:i.z,m:i.m}]:o?[{x:i.x,y:i.y,z:i.z}]:s?[{x:i.x,y:i.y,m:i.m}]:[{x:i.x,y:i.y}],t._exporter=(t,i)=>e.hasM?new n(t[0].x,t[0].y,t[0].z,t[0].m,i):new n(t[0].x,t[0].y,t[0].z,i);break}case\"multipoint\":{const i=e,{hasZ:o,hasM:s}=i;t.coordinates=o&&s?i.points.map((e=>({x:e[0],y:e[1],z:e[2],m:e[3]}))):o?i.points.map((e=>({x:e[0],y:e[1],z:e[2]}))):s?i.points.map((e=>({x:e[0],y:e[1],m:e[2]}))):i.points.map((e=>({x:e[0],y:e[1]}))),t._exporter=(t,i)=>e.hasM?new a({points:t.map((e=>[e.x,e.y,e.z,e.m])),hasZ:!0,hasM:!0,spatiaReference:i}):new a(t.map((e=>[e.x,e.y,e.z])),i);break}case\"polyline\":{const i=e,o=[],s=[],{hasZ:l,hasM:n}=e;let a=0;for(const e of i.paths)if(s.push([a,a+e.length]),a+=e.length,l&&n)for(const t of e)o.push({x:t[0],y:t[1],z:t[2],m:t[3]});else if(l)for(const t of e)o.push({x:t[0],y:t[1],z:t[2]});else if(n)for(const t of e)o.push({x:t[0],y:t[1],m:t[2]});else for(const t of e)o.push({x:t[0],y:t[1]});t.coordinates=o,t._exporter=(t,i)=>{const o=e.hasM?t.map((e=>[e.x,e.y,e.z,e.m])):t.map((e=>[e.x,e.y,e.z])),l=s.map((e=>o.slice(e[0],e[1])));return new r({paths:l,hasM:e.hasM,hasZ:!0,spatialReference:i})};break}}return t}}class g{constructor(e,t){this.layer=e,this.options=t}}class w extends g{constructor(e,t,i){super(e,i),this.type=\"geometry\",this.outSpatialReference=t}selectTilesAtLOD(e){if(e<0)this.geometry.coordinates.forEach((e=>e.tile=null));else{const t=this.layer.tileInfo,i=t.lods[e].level;this.geometry.coordinates.forEach((e=>{e.tile=t.tileAt(i,e.x,e.y)}))}}allElevationTilesFetched(){return!this.geometry.coordinates.some((e=>!e.elevationTile))}clearElevationTiles(){for(const e of this.geometry.coordinates)e.elevationTile!==this.outsideExtentTile&&(e.elevationTile=null)}populateElevationTiles(e){for(const t of this.geometry.coordinates)!t.elevationTile&&t.tile&&(t.elevationTile=e[t.tile.id])}remapTiles(e){for(const t of this.geometry.coordinates)t.tile=e[t.tile.id]}getTilesToFetch(){const e={},t=[];for(const i of this.geometry.coordinates){const o=i.tile;i.elevationTile||!i.tile||e[o.id]||(e[o.id]=o,t.push(o))}return t}forEachTileToFetch(e){for(const t of this.geometry.coordinates)t.tile&&!t.elevationTile&&e(t.tile,(()=>t.tile=null))}}class _ extends g{constructor(e,t,i,o){super(e,i),this.type=\"extent\",this.elevationTiles=[],this.candidateTiles=[],this.fetchedCandidates=new Set,this.extent=t.intersection(e.fullExtent),this.maskExtents=o}selectTilesAtLOD(e,t){const i=this._maximumLodForRequests(t),o=Math.min(i,e);o<0?this.candidateTiles.length=0:this._selectCandidateTilesCoveringExtentAt(o)}_maximumLodForRequests(e){const t=this.layer.tileInfo;if(!e)return t.lods.length-1;const i=this.extent;for(let o=t.lods.length-1;o>=0;o--){const s=t.lods[o],l=s.resolution*t.size[0],n=s.resolution*t.size[1];if(Math.ceil(i.width/l)*Math.ceil(i.height/n)<=e)return o}return-1}allElevationTilesFetched(){return this.candidateTiles.length===this.elevationTiles.length}clearElevationTiles(){this.elevationTiles.length=0,this.fetchedCandidates.clear()}populateElevationTiles(e){for(const t of this.candidateTiles){const i=e[t.id];i&&(this.fetchedCandidates.add(t),this.elevationTiles.push(i))}}remapTiles(e){this.candidateTiles=this._uniqueNonOverlappingTiles(this.candidateTiles.map((t=>e[t.id])))}getTilesToFetch(){return this.candidateTiles}forEachTileToFetch(e,t){const i=this.candidateTiles;this.candidateTiles=[],i.forEach((i=>{if(this.fetchedCandidates.has(i))return void(t&&t(i));let o=!1;e(i,(()=>o=!0)),o?t&&t(i):this.candidateTiles.push(i)})),this.candidateTiles=this._uniqueNonOverlappingTiles(this.candidateTiles,t)}_uniqueNonOverlappingTiles(e,t){const i={},o=[];for(const s of e)i[s.id]?t&&t(s):(i[s.id]=s,o.push(s));const s=o.sort(((e,t)=>e.level-t.level));return s.filter(((e,i)=>{for(let o=0;o<i;o++)if(m(s[o].extent,e.extent))return t&&t(e),!1;return!0}))}_selectCandidateTilesCoveringExtentAt(e){this.candidateTiles.length=0;const t=this.layer.tileInfo,i=t.lods[e],o=this.extent,s=t.tileAt(i.level,o.xmin,o.ymin),l=i.resolution*t.size[0],n=i.resolution*t.size[1],a=Math.ceil((o.xmax-s.extent[0])/l),r=Math.ceil((o.ymax-s.extent[1])/n);for(let e=0;e<r;e++)for(let i=0;i<a;i++){const o={id:null,level:s.level,row:s.row-e,col:s.col+i};t.updateTileInfo(o),this._tileIsMasked(o)||this.candidateTiles.push(o)}}_tileIsMasked(e){return!!this.maskExtents&&this.maskExtents.some((t=>m(t,e.extent)))}}function E(e,t){let i=e.lods.length-1;if(t>0){const o=e.lods.findIndex((e=>e.resolution<t));0===o?i=0:o>0&&(i=o-1)}return i}const R={maximumAutoTileRequests:20,noDataValue:0,returnSampleInfo:!1,demResolution:\"auto\",minDemResolution:0};export default v;export{v as ElevationQuery,x as GeometryDescriptor,E as getFinestLodIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import e from\"../../core/Logger.js\";import{canProject as t,project as n}from\"../../geometry/support/webMercatorUtils.js\";import s from\"../../geometry/Point.js\";import{extentContainsPoint as i}from\"../../geometry/support/contains.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as o}from\"../../core/unitUtils.js\";import{toExtent as r,create as a}from\"../../geometry/support/aaBoundingRect.js\";const l=e.getLogger(\"esri.layers.support.ElevationSampler\");class c{queryElevation(e){return u(e.clone(),this)}on(){return x}projectIfRequired(e,t){return h(e,t)}}class m extends c{constructor(e,t,n){super(),this.tile=e,this.noDataValue=n,this.extent=r(e.tile.extent,t.spatialReference);const s=o(t.spatialReference),i=t.lodAt(e.tile.level).resolution*s;this.demResolution={min:i,max:i}}get spatialReference(){return this.extent.spatialReference}contains(e){const t=this.projectIfRequired(e,this.spatialReference);return i(this.extent,t)}elevationAt(e){const t=this.projectIfRequired(e,this.spatialReference);if(!t)return null;if(!this.contains(e)){const t=this.extent,n=`${t.xmin}, ${t.ymin}, ${t.xmax}, ${t.ymax}`;l.warn(\"#elevationAt()\",`Point used to sample elevation (${e.x}, ${e.y}) is outside of the sampler extent (${n})`)}return this.tile.sample(t.x,t.y)}}class p extends c{constructor(e,t,n){let s;super(),\"number\"==typeof t?(this.noDataValue=t,s=null):(s=t,this.noDataValue=n),this.samplers=s?e.map((e=>new m(e,s,this.noDataValue))):e;const i=this.samplers[0];if(i){this.extent=i.extent.clone();const{min:e,max:t}=i.demResolution;this.demResolution={min:e,max:t};for(let e=1;e<this.samplers.length;e++){const t=this.samplers[e];this.extent.union(t.extent),this.demResolution.min=Math.min(this.demResolution.min,t.demResolution.min),this.demResolution.max=Math.max(this.demResolution.max,t.demResolution.max)}}else this.extent=r(a(),s.spatialReference),this.demResolution={min:0,max:0}}get spatialReference(){return this.extent.spatialReference}elevationAt(e){const t=this.projectIfRequired(e,this.spatialReference);if(!t)return null;for(const e of this.samplers)if(e.contains(t))return e.elevationAt(t);return l.warn(\"#elevationAt()\",`Point used to sample elevation (${e.x}, ${e.y}) is outside of the sampler`),null}}function u(e,t){const n=h(e,t.spatialReference);if(!n)return null;switch(e.type){case\"point\":!function(e,t,n){e.z=n.elevationAt(t)||0}(e,n,t);break;case\"polyline\":!function(e,t,n){f.spatialReference=t.spatialReference;const s=e.hasM&&!e.hasZ;for(let i=0;i<e.paths.length;i++){const o=e.paths[i],r=t.paths[i];for(let e=0;e<o.length;e++){const t=o[e],i=r[e];f.x=i[0],f.y=i[1];const a=n.elevationAt(f)||0;s&&(t[3]=t[2]),t[2]=a}}e.hasZ=!0}(e,n,t);break;case\"multipoint\":!function(e,t,n){f.spatialReference=t.spatialReference;const s=e.hasM&&!e.hasZ;for(let i=0;i<e.points.length;i++){const o=e.points[i],r=t.points[i];f.x=r[0],f.y=r[1];const a=n.elevationAt(f)||0;s&&(o[3]=o[2]),o[2]=a}e.hasZ=!0}(e,n,t)}return e}function h(e,s){const i=e.spatialReference;return i.equals(s)?e:t(i,s)?n(e,s):(l.error(`Cannot project geometry spatial reference (wkid:${i.wkid}) to elevation sampler spatial reference (wkid:${s.wkid})`),null)}const f=new s,x={remove(){}};export{c as ElevationSamplerBase,p as MultiTileElevationSampler,m as TileElevationSampler,u as updateGeometryElevation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t,a){if(this.tile=t,!a)return void(this.samplerData=null);const e=this.tile.extent;this.samplerData={pixelData:a.values,width:a.width,height:a.height,safeWidth:.99999999*(a.width-1),noDataValue:a.noDataValue,dx:(a.width-1)/(e[2]-e[0]),dy:(a.width-1)/(e[3]-e[1]),x0:e[0],y1:e[3]}}sample(t,e){if(this.samplerData)return function(t,e,i){const{safeWidth:h,width:r,pixelData:s,noDataValue:l}=t,n=a(t.dy*(t.y1-i),0,h),o=a(t.dx*(e-t.x0),0,h),d=Math.floor(n),u=Math.floor(o),f=d*r+u,p=f+r,x=s[f],D=s[p],c=s[f+1],w=s[p+1];if(x!==l&&D!==l&&c!==l&&w!==l){const t=o-u,a=x+(c-x)*t;return a+(D+(w-D)*t-a)*(n-d)}return}(this.samplerData,t,e)}}function a(t,a,e){return t<a?a:t>e?e:t}export default t;export{t as ElevationTile};\n"]}