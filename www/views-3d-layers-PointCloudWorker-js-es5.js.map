{"version":3,"sources":["webpack:///node_modules/@arcgis/core/views/3d/layers/i3s/LEPCC.js","webpack:///node_modules/@arcgis/core/chunks/quatf32.js","webpack:///node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudWorkerUtil.js","webpack:///node_modules/@arcgis/core/chunks/vec4.js","webpack:///node_modules/@arcgis/core/views/3d/layers/i3s/I3SBinaryReader.js","webpack:///node_modules/@arcgis/core/views/3d/layers/PointCloudWorker.js"],"names":["t","o","r","n","i","c","e","identifier","String","fromCharCode","apply","Uint8Array","version","getUint16","checksum","getUint32","s","l","d","a","u","w","h","f","g","p","U","m","M","y","z","DataView","B","sizeLo","sizeHi","minX","getFloat64","minY","minZ","maxX","maxY","maxZ","errorX","errorY","errorZ","count","reserved","Math","pow","byteLength","F","Float64Array","b","C","A","k","L","v","X","length","min","result","push","getUint8","ceil","Y","colorMapCount","lookupMethod","compressionMethod","slice","Z","x","P","H","D","V","E","j","scaleFactor","bitsPerPoint","Uint16Array","Float32Array","Object","freeze","__proto__","create","clone","fromValues","createView","rendererJSON","isRGBRenderer","type","fromJSON","colorUniqueValueInfos","fieldTransformType","values","indexOf","color","stops","value","colorClassBreakInfos","minValue","maxValue","colorModulation","encoding","vertexAttributes","position","header","fields","offsetX","offsetY","offsetZ","scaleX","scaleY","scaleZ","attributeInfo","useElevation","storageInfo","buffer","filterJSON","mode","requiredSetBits","requiredClearBits","includedReturns","abs","floor","max","round","sqrt","q","_","G","I","copy","set","add","subtract","multiply","divide","scale","scaleAndAdd","distance","squaredDistance","squaredLength","negate","inverse","normalize","dot","lerp","random","transformMat4","transformQuat","str","exactEquals","equals","sub","mul","div","dist","sqrDist","len","sqrLen","getLogger","byteOffset","byteCount","valueType","property","BYTES_PER_ELEMENT","valuesPerElement","entries","ordering","error","expectedSize","actualSize","isDraco","isLegacy","normal","uv0","uvRegion","featureIndex","faceRange","featureId","vertexCount","faceCount","faces","featureCount","featureAttributes","featureAttributeOrder","compressedAttributes","attributes","region","attributeByteCounts","warn","hasOwnProperty","attributeValues","objectIds","Float32","Float64","UInt8","Int8","Int8Array","UInt16","Int16","Int16Array","UInt32","Uint32Array","Int32","Int32Array","getFloat32","getInt8","getInt16","getInt32","_transform","points","rgb","pointIdFilterMap","transferList","schema","geometryBuffer","primaryAttributeData","modulationAttributeData","rendererInfo","filterInfo","filterAttributesData","map","userAttributesData","_applyElevationOffsetInPlace","elevationOffset","_transformCoordinates","obb","inSR","outSR","Error","center","quaternion","halfSize"],"mappings":"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","file":"views-3d-layers-PointCloudWorker-js-es5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";const t=0,o=10,r=10,n=12,i=16;function c(e,i,c){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,c+t,o)),version:i.getUint16(c+r,true),checksum:i.getUint32(c+n,true)}}const s=0,l=4,d=8,a=16,u=24,w=32,h=40,f=48,g=56,p=64,U=72,m=80,M=84,y=88;function z(t){const o=new DataView(t,0);let r=0;const{identifier:n,version:z}=c(t,o,r);if(r+=i,\"LEPCC     \"!==n)throw new e(\"lepcc-decode-error\",\"Bad identifier\");if(z>1)throw new e(\"lepcc-decode-error\",\"Unknown version\");const B=function(e,t){return{sizeLo:e.getUint32(t+s,!0),sizeHi:e.getUint32(t+l,!0),minX:e.getFloat64(t+d,!0),minY:e.getFloat64(t+a,!0),minZ:e.getFloat64(t+u,!0),maxX:e.getFloat64(t+w,!0),maxY:e.getFloat64(t+h,!0),maxZ:e.getFloat64(t+f,!0),errorX:e.getFloat64(t+g,!0),errorY:e.getFloat64(t+p,!0),errorZ:e.getFloat64(t+U,!0),count:e.getUint32(t+m,!0),reserved:e.getUint32(t+M,!0)}}(o,r);r+=y;if(B.sizeHi*Math.pow(2,32)+B.sizeLo!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const F=new Float64Array(3*B.count),b=[],C=[],A=[],k=[];if(r=L(t,r,b),r=L(t,r,C),r=L(t,r,A),r=L(t,r,k),r!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad length\");let v=0,X=0;for(let e=0;e<b.length;e++){X+=b[e];let t=0;for(let o=0;o<C[e];o++){t+=A[v];const e=k[v];F[3*v]=Math.min(B.maxX,B.minX+2*B.errorX*t),F[3*v+1]=Math.min(B.maxY,B.minY+2*B.errorY*X),F[3*v+2]=Math.min(B.maxZ,B.minZ+2*B.errorZ*e),v++}}return{errorX:B.errorX,errorY:B.errorY,errorZ:B.errorZ,result:F}}function L(e,t,o){const r=[];t=B(e,t,r);const n=[];for(let i=0;i<r.length;i++){n.length=0,t=B(e,t,n);for(let e=0;e<n.length;e++)o.push(n[e]+r[i])}return t}function B(t,o,r){const n=new DataView(t,o),i=n.getUint8(0),c=31&i,s=!!(32&i),l=(192&i)>>6;let d=0;if(0===l)d=n.getUint32(1,true),o+=5;else if(1===l)d=n.getUint16(1,true),o+=3;else{if(2!==l)throw new e(\"lepcc-decode-error\",\"Bad count type\");d=n.getUint8(1),o+=2}if(s)throw new e(\"lepcc-decode-error\",\"LUT not implemented\");const a=Math.ceil(d*c/8),u=new Uint8Array(t,o,a);let w=0,h=0,f=0;const g=-1>>>32-c;for(let e=0;e<d;e++){for(;h<c;)w|=u[f]<<h,h+=8,f+=1;r[e]=w&g,w>>>=c,h-=c,h+c>32&&(w|=u[f-1]>>8-h)}return o+f}const F=0,b=4,C=8,A=12,k=14,v=15,X=16;function Y(t){const o=new DataView(t,0);let r=0;const{identifier:n,version:s}=c(t,o,r);if(r+=i,\"ClusterRGB\"!==n)throw new e(\"lepcc-decode-error\",\"Bad identifier\");if(s>1)throw new e(\"lepcc-decode-error\",\"Unknown version\");const l=function(e,t){return{sizeLo:e.getUint32(t+F,!0),sizeHi:e.getUint32(t+b,!0),count:e.getUint32(t+C,!0),colorMapCount:e.getUint16(t+A,!0),lookupMethod:e.getUint8(t+k),compressionMethod:e.getUint8(t+v)}}(o,r);r+=X;if(l.sizeHi*Math.pow(2,32)+l.sizeLo!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");if((2===l.lookupMethod||1===l.lookupMethod)&&0===l.compressionMethod){if(3*l.colorMapCount+l.count+r!==t.byteLength||l.colorMapCount>256)throw new e(\"lepcc-decode-error\",\"Bad count\");const o=new Uint8Array(t,r,3*l.colorMapCount),n=new Uint8Array(t,r+3*l.colorMapCount,l.count),i=new Uint8Array(3*l.count);for(let e=0;e<l.count;e++){const t=n[e];i[3*e]=o[3*t],i[3*e+1]=o[3*t+1],i[3*e+2]=o[3*t+2]}return i}if(0===l.lookupMethod&&0===l.compressionMethod){if(3*l.count+r!==t.byteLength||0!==l.colorMapCount)throw new e(\"lepcc-decode-error\",\"Bad count\");return new Uint8Array(t,r).slice()}if(l.lookupMethod<=2&&1===l.compressionMethod){if(r+3!==t.byteLength||1!==l.colorMapCount)throw new e(\"lepcc-decode-error\",\"Bad count\");const n=o.getUint8(r),i=o.getUint8(r+1),c=o.getUint8(r+2),s=new Uint8Array(3*l.count);for(let e=0;e<l.count;e++)s[3*e]=n,s[3*e+1]=i,s[3*e+2]=c;return s}throw new e(\"lepcc-decode-error\",\"Bad method \"+l.lookupMethod+\",\"+l.compressionMethod)}const Z=0,x=4,P=8,H=12,D=14,V=15,E=16;function j(t){const o=new DataView(t,0);let r=0;const{identifier:n,version:s}=c(t,o,r);if(r+=i,\"Intensity \"!==n)throw new e(\"lepcc-decode-error\",\"Bad identifier\");if(s>1)throw new e(\"lepcc-decode-error\",\"Unknown version\");const l=function(e,t){return{sizeLo:e.getUint32(t+Z,!0),sizeHi:e.getUint32(t+x,!0),count:e.getUint32(t+P,!0),scaleFactor:e.getUint16(t+H,!0),bitsPerPoint:e.getUint8(t+D),reserved:e.getUint8(t+V)}}(o,r);r+=E;if(l.sizeHi*Math.pow(2,32)+l.sizeLo!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const d=new Uint16Array(l.count);if(8===l.bitsPerPoint){if(l.count+r!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const o=new Uint8Array(t,r,l.count);for(let e=0;e<l.count;e++)d[e]=o[e]*l.scaleFactor}else if(16===l.bitsPerPoint){if(2*l.count+r!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");const o=new Uint16Array(t,r,l.count);for(let e=0;e<l.count;e++)d[e]=o[e]*l.scaleFactor}else{const o=[];if(B(t,r,o)!==t.byteLength)throw new e(\"lepcc-decode-error\",\"Bad size\");for(let e=0;e<l.count;e++)d[e]=o[e]*l.scaleFactor}return d}export{j as decodeIntensity,Y as decodeRGB,z as decodeXYZ};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction r(){const r=new Float32Array(4);return r[3]=1,r}function n(r){const n=new Float32Array(4);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n}function e(r,n,e,t){const a=new Float32Array(4);return a[0]=r,a[1]=n,a[2]=e,a[3]=t,a}function t(r,n){return new Float32Array(r,n,4)}var a=Object.freeze({__proto__:null,create:r,clone:n,fromValues:e,createView:t});export{n as a,r as b,t as c,e as f,a as q};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import r from\"../../../../renderers/PointCloudClassBreaksRenderer.js\";import t from\"../../../../renderers/PointCloudStretchRenderer.js\";import n from\"../../../../renderers/PointCloudUniqueValueRenderer.js\";import{decodeXYZ as l}from\"./LEPCC.js\";import{createGeometryIndexFromSchema as i,createTypedView as s,readBinaryAttribute as f}from\"./I3SBinaryReader.js\";function u(e,o,l,i){const{rendererJSON:s,isRGBRenderer:f}=e;let u=null,c=null;if(o&&f)u=o;else if(o&&\"pointCloudUniqueValueRenderer\"===s.type){c=n.fromJSON(s);const e=c.colorUniqueValueInfos;u=new Uint8Array(3*i);const r=p(c.fieldTransformType);for(let t=0;t<i;t++){const n=(r?r(o[t]):o[t])+\"\";for(let o=0;o<e.length;o++)if(e[o].values.indexOf(n)>=0){u[3*t]=e[o].color.r,u[3*t+1]=e[o].color.g,u[3*t+2]=e[o].color.b;break}}}else if(o&&\"pointCloudStretchRenderer\"===s.type){c=t.fromJSON(s);const e=c.stops;u=new Uint8Array(3*i);const r=p(c.fieldTransformType);for(let t=0;t<i;t++){const n=r?r(o[t]):o[t],l=e.length-1;if(n<e[0].value)u[3*t]=e[0].color.r,u[3*t+1]=e[0].color.g,u[3*t+2]=e[0].color.b;else if(n>=e[l].value)u[3*t]=e[l].color.r,u[3*t+1]=e[l].color.g,u[3*t+2]=e[l].color.b;else for(let o=1;o<e.length;o++)if(n<e[o].value){const r=(n-e[o-1].value)/(e[o].value-e[o-1].value);u[3*t]=e[o].color.r*r+e[o-1].color.r*(1-r),u[3*t+1]=e[o].color.g*r+e[o-1].color.g*(1-r),u[3*t+2]=e[o].color.b*r+e[o-1].color.b*(1-r);break}}}else if(o&&\"pointCloudClassBreaksRenderer\"===s.type){c=r.fromJSON(s);const e=c.colorClassBreakInfos;u=new Uint8Array(3*i);const t=p(c.fieldTransformType);for(let r=0;r<i;r++){const n=t?t(o[r]):o[r];for(let o=0;o<e.length;o++)if(n>=e[o].minValue&&n<=e[o].maxValue){u[3*r]=e[o].color.r,u[3*r+1]=e[o].color.g,u[3*r+2]=e[o].color.b;break}}}else{u=new Uint8Array(3*i);for(let e=0;e<u.length;e++)u[e]=255}if(l&&c&&c.colorModulation){const e=c.colorModulation.minValue,o=c.colorModulation.maxValue,r=.3;for(let t=0;t<i;t++){const n=l[t],i=n>=o?1:n<=e?r:r+(1-r)*(n-e)/(o-e);u[3*t]=i*u[3*t],u[3*t+1]=i*u[3*t+1],u[3*t+2]=i*u[3*t+2]}}return u}function c(o,r){if(null==o.encoding||\"\"===o.encoding){const t=i(r,o);if(e(t.vertexAttributes.position))return;const n=s(r,t.vertexAttributes.position),l=t.header.fields,f=[l.offsetX,l.offsetY,l.offsetZ],u=[l.scaleX,l.scaleY,l.scaleZ],c=n.length/3,a=new Float64Array(3*c);for(let e=0;e<c;e++)a[3*e]=n[3*e]*u[0]+f[0],a[3*e+1]=n[3*e+1]*u[1]+f[1],a[3*e+2]=n[3*e+2]*u[2]+f[2];return a}if(\"lepcc-xyz\"===o.encoding)return l(r).result}function a(e,r,t){return o(e)&&e.attributeInfo.useElevation?d(r,t):o(e)?f(e.attributeInfo.storageInfo,e.buffer,t):null}function d(e,o){const r=new Float64Array(o);for(let t=0;t<o;t++)r[t]=e[3*t+2];return r}function m(e,o,r,t,n){const l=e.length/3;let i=0;for(let s=0;s<l;s++){let l=!0;for(let e=0;e<t.length&&l;e++){const{filterJSON:o}=t[e],r=n[e].values[s];switch(o.type){case\"pointCloudValueFilter\":{const e=\"exclude\"===o.mode;-1!==o.values.indexOf(r)===e&&(l=!1);break}case\"pointCloudBitfieldFilter\":{const e=b(o.requiredSetBits),t=b(o.requiredClearBits);(r&e)===e&&0==(r&t)||(l=!1);break}case\"pointCloudReturnFilter\":{const e=15&r,t=r>>>4&15,n=t>1,i=1===e,s=e===t;let f=!1;for(const e of o.includedReturns)if(\"last\"===e&&s||\"firstOfMany\"===e&&i&&n||\"lastOfMany\"===e&&s&&n||\"single\"===e&&!n){f=!0;break}f||(l=!1);break}}}l&&(r[i]=s,e[3*i]=e[3*s],e[3*i+1]=e[3*s+1],e[3*i+2]=e[3*s+2],o[3*i]=o[3*s],o[3*i+1]=o[3*s+1],o[3*i+2]=o[3*s+2],i++)}return i}function p(e){return null==e||\"none\"===e?null:\"low-four-bit\"===e?e=>15&e:\"high-four-bit\"===e?e=>(240&e)>>4:\"absolute-value\"===e?e=>Math.abs(e):\"modulo-ten\"===e?e=>e%10:null}function b(e){let o=0;for(const r of e||[])o|=1<<r;return o}export{d as elevationFromPositions,u as evaluateRenderer,m as filterInPlace,a as getAttributeValues,c as readGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{E as t,R as n}from\"./common.js\";function a(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function r(t,n,a,r,s){return t[0]=n,t[1]=a,t[2]=r,t[3]=s,t}function s(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function u(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function o(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t[2]=n[2]*a[2],t[3]=n[3]*a[3],t}function e(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t[2]=n[2]/a[2],t[3]=n[3]/a[3],t}function c(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t}function i(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t}function h(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t[2]=Math.min(n[2],a[2]),t[3]=Math.min(n[3],a[3]),t}function M(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t[2]=Math.max(n[2],a[2]),t[3]=Math.max(n[3],a[3]),t}function f(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t}function l(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function m(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t}function d(t,n){const a=n[0]-t[0],r=n[1]-t[1],s=n[2]-t[2],u=n[3]-t[3];return Math.sqrt(a*a+r*r+s*s+u*u)}function b(t,n){const a=n[0]-t[0],r=n[1]-t[1],s=n[2]-t[2],u=n[3]-t[3];return a*a+r*r+s*s+u*u}function x(t){const n=t[0],a=t[1],r=t[2],s=t[3];return Math.sqrt(n*n+a*a+r*r+s*s)}function q(t){const n=t[0],a=t[1],r=t[2],s=t[3];return n*n+a*a+r*r+s*s}function p(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function v(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t}function g(t,n){const a=n[0],r=n[1],s=n[2],u=n[3];let o=a*a+r*r+s*s+u*u;return o>0&&(o=1/Math.sqrt(o),t[0]=a*o,t[1]=r*o,t[2]=s*o,t[3]=u*o),t}function _(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function j(t,n,a,r){const s=n[0],u=n[1],o=n[2],e=n[3];return t[0]=s+r*(a[0]-s),t[1]=u+r*(a[1]-u),t[2]=o+r*(a[2]-o),t[3]=e+r*(a[3]-e),t}function w(t,a){let r,s,u,o,e,c;a=a||1;do{r=2*n()-1,s=2*n()-1,e=r*r+s*s}while(e>=1);do{u=2*n()-1,o=2*n()-1,c=u*u+o*o}while(c>=1);const i=Math.sqrt((1-e)/c);return t[0]=a*r,t[1]=a*s,t[2]=a*u*i,t[3]=a*o*i,t}function y(t,n,a){const r=n[0],s=n[1],u=n[2],o=n[3];return t[0]=a[0]*r+a[4]*s+a[8]*u+a[12]*o,t[1]=a[1]*r+a[5]*s+a[9]*u+a[13]*o,t[2]=a[2]*r+a[6]*s+a[10]*u+a[14]*o,t[3]=a[3]*r+a[7]*s+a[11]*u+a[15]*o,t}function z(t,n,a){const r=n[0],s=n[1],u=n[2],o=a[0],e=a[1],c=a[2],i=a[3],h=i*r+e*u-c*s,M=i*s+c*r-o*u,f=i*u+o*s-e*r,l=-o*r-e*s-c*u;return t[0]=h*i+l*-o+M*-c-f*-e,t[1]=M*i+l*-e+f*-o-h*-c,t[2]=f*i+l*-c+h*-e-M*-o,t[3]=n[3],t}function A(t){return\"vec4(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}function D(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function E(n,a){const r=n[0],s=n[1],u=n[2],o=n[3],e=a[0],c=a[1],i=a[2],h=a[3];return Math.abs(r-e)<=t*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(s-c)<=t*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(u-i)<=t*Math.max(1,Math.abs(u),Math.abs(i))&&Math.abs(o-h)<=t*Math.max(1,Math.abs(o),Math.abs(h))}let L=u,k=o,B=e,C=d,F=b,G=x,H=q;var I=Object.freeze({__proto__:null,copy:a,set:r,add:s,subtract:u,multiply:o,divide:e,ceil:c,floor:i,min:h,max:M,round:f,scale:l,scaleAndAdd:m,distance:d,squaredDistance:b,length:x,squaredLength:q,negate:p,inverse:v,normalize:g,dot:_,lerp:j,random:w,transformMat4:y,transformQuat:z,str:A,exactEquals:D,equals:E,sub:L,mul:k,div:B,dist:C,sqrDist:F,len:G,sqrLen:H});export{w as A,z as B,A as C,L as D,k as E,B as F,C as G,F as H,G as I,H as J,s as a,l as b,a as c,_ as d,x as e,q as f,D as g,E as h,b as i,u as j,e as k,j as l,o as m,g as n,c as o,i as p,h as q,M as r,r as s,y as t,f as u,I as v,m as w,d as x,p as y,v as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../core/lang.js\";import t from\"../../../../core/Logger.js\";import n from\"../../../../core/Error.js\";import{decodeRGB as r,decodeIntensity as o}from\"./LEPCC.js\";const i=t.getLogger(\"esri.views.3d.layers.i3s.I3SBinaryReader\");function u(e,t,r){let o=\"\",i=0;for(;i<r;){const u=e[t+i];if(u<128)o+=String.fromCharCode(u),i++;else if(u>=192&&u<224){if(i+1>=r)throw new n(\"utf8-decode-error\",\"UTF-8 Decode failed. Two byte character was truncated.\");const a=(31&u)<<6|63&e[t+i+1];o+=String.fromCharCode(a),i+=2}else if(u>=224&&u<240){if(i+2>=r)throw new n(\"utf8-decode-error\",\"UTF-8 Decode failed. Multi byte character was truncated.\");const a=(15&u)<<12|(63&e[t+i+1])<<6|63&e[t+i+2];o+=String.fromCharCode(a),i+=3}else{if(!(u>=240&&u<248))throw new n(\"utf8-decode-error\",\"UTF-8 Decode failed. Invalid multi byte sequence.\");{if(i+3>=r)throw new n(\"utf8-decode-error\",\"UTF-8 Decode failed. Multi byte character was truncated.\");const a=(7&u)<<18|(63&e[t+i+1])<<12|(63&e[t+i+2])<<6|63&e[t+i+3];if(a>=65536){const e=55296+(a-65536>>10),t=56320+(1023&a);o+=String.fromCharCode(e,t)}else o+=String.fromCharCode(a);i+=4}}}return o}function a(e,t){const n={byteOffset:0,byteCount:0,fields:Object.create(null)};let r=0;for(let o=0;o<t.length;o++){const i=t[o],u=i.valueType||i.type,a=I[u];n.fields[i.property]=a(e,r),r+=m[u].BYTES_PER_ELEMENT}return n.byteCount=r,n}function s(e,t,r){const o=[];let i,a,s=0;for(a=0;a<e;a+=1){if(i=t[a],i>0){if(o.push(u(r,s,i-1)),0!==r[s+i-1])throw new n(\"string-array-error\",\"Invalid string array: missing null termination.\")}else o.push(null);s+=i}return o}function c(e,t){return new(0,m[t.valueType])(e,t.byteOffset,t.count*t.valuesPerElement)}function f(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}function l(t,r,o){const i=null!=r.header?a(t,r.header):{byteOffset:0,byteCount:0,fields:{count:o}},u={header:i,byteOffset:i.byteCount,byteCount:0,entries:Object.create(null)};let s=i.byteCount;for(let t=0;t<r.ordering.length;t++){const o=r.ordering[t],a=e(r[o]);if(a.count=i.fields.count,\"String\"===a.valueType){if(a.byteOffset=s,a.byteCount=i.fields[o+\"ByteCount\"],\"UTF-8\"!==a.encoding)throw new n(\"unsupported-encoding\",\"Unsupported String encoding.\",{encoding:a.encoding})}else{if(!h(a.valueType))throw new n(\"unsupported-value-type\",\"Unsupported binary valueType\",{valueType:a.valueType});{const e=A(a.valueType);s+=s%e!=0?e-s%e:0,a.byteOffset=s,a.byteCount=e*a.valuesPerElement*a.count}}s+=a.byteCount,u.entries[o]=a}return u.byteCount=s-u.byteOffset,u}function b(e,t,r){if(t!==e&&i.error(`Invalid ${r} buffer size\\n expected: ${e}, actual: ${t})`),t<e)throw new n(\"buffer-too-small\",\"Binary buffer is too small\",{expectedSize:e,actualSize:t})}function d(e){return{isDraco:!1,isLegacy:!1,color:null!=e.color,normal:null!=e.normal,uv0:null!=e.uv0,uvRegion:null!=e.uvRegion,featureIndex:null!=e.faceRange&&null!=e.featureId}}function y(e,t){const n=a(e,t&&t.header);let r=n.byteCount;const o={isDraco:!1,header:n,byteOffset:n.byteCount,byteCount:0,vertexAttributes:{}},i=n.fields,u=null!=i.vertexCount?i.vertexCount:i.count;for(const e of t.ordering){if(!t.vertexAttributes[e])continue;const n={...t.vertexAttributes[e],byteOffset:r,count:u},i=p[e]?p[e]:\"_\"+e;o.vertexAttributes[i]=n,r+=A(n.valueType)*n.valuesPerElement*u}const s=i.faceCount;if(t.faces&&s){o.faces={};for(const e of t.ordering){if(!t.faces[e])continue;const n={...t.faces[e],byteOffset:r,count:s};o.faces[e]=n,r+=A(n.valueType)*n.valuesPerElement*s}}const c=i.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&c){o.featureAttributes={};for(const e of t.featureAttributeOrder){if(!t.featureAttributes[e])continue;const n={...t.featureAttributes[e],byteOffset:r,count:c};o.featureAttributes[e]=n;r+=(\"UInt64\"===n.valueType?8:A(n.valueType))*n.valuesPerElement*c}}return b(r,e.byteLength,\"geometry\"),o.byteCount=r-o.byteOffset,o}function g(e,t){return!(!e||!e.compressedAttributes||\"draco\"!==e.compressedAttributes.encoding)?v(e.compressedAttributes.attributes):e?d(e):w(t)}function w(e){const t={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const n of e.ordering)if(e.vertexAttributes[n])switch(n){case\"position\":break;case\"normal\":t.normal=!0;break;case\"color\":t.color=!0;break;case\"uv0\":t.uv0=!0;break;case\"region\":t.uvRegion=!0}return e.featureAttributes&&e.featureAttributeOrder&&(t.featureIndex=!0),t}function v(e){const t={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const n of e)switch(n){case\"position\":break;case\"normal\":t.normal=!0;break;case\"uv0\":t.uv0=!0;break;case\"color\":t.color=!0;break;case\"uv-region\":t.uvRegion=!0;break;case\"feature-index\":t.featureIndex=!0}return t}const p={position:\"position\",normal:\"normal\",color:\"color\",uv0:\"uv0\",region:\"uvRegion\"};function C(e,t,u){if(\"lepcc-rgb\"===e.encoding)return r(t);if(\"lepcc-intensity\"===e.encoding)return o(t);if(null!=e.encoding&&\"\"!==e.encoding)throw new n(\"unknown-attribute-storage-info-encoding\",\"Unknown Attribute Storage Info Encoding\");e[\"attributeByteCounts \"]&&!e.attributeByteCounts&&(i.warn(\"Warning: Trailing space in 'attributeByteCounts '.\"),e.attributeByteCounts=e[\"attributeByteCounts \"]),\"ObjectIds\"===e.ordering[0]&&e.hasOwnProperty(\"objectIds\")&&(i.warn(\"Warning: Case error in objectIds\"),e.ordering[0]=\"objectIds\");const a=l(t,e,u);b(a.byteOffset+a.byteCount,t.byteLength,\"attribute\");const d=a.entries.attributeValues||a.entries.objectIds;if(d){if(\"String\"===d.valueType){const e=a.entries.attributeByteCounts,n=c(t,e),r=f(t,d);return s(e.count,n,r)}return c(t,d)}throw new n(\"bad-attribute-storage-info\",\"Bad attributeStorageInfo specification.\")}const m={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},I={Float32:(e,t)=>new DataView(e,0).getFloat32(t,!0),Float64:(e,t)=>new DataView(e,0).getFloat64(t,!0),UInt8:(e,t)=>new DataView(e,0).getUint8(t),Int8:(e,t)=>new DataView(e,0).getInt8(t),UInt16:(e,t)=>new DataView(e,0).getUint16(t,!0),Int16:(e,t)=>new DataView(e,0).getInt16(t,!0),UInt32:(e,t)=>new DataView(e,0).getUint32(t,!0),Int32:(e,t)=>new DataView(e,0).getInt32(t,!0)};function h(e){return m.hasOwnProperty(e)}function A(e){return h(e)?m[e].BYTES_PER_ELEMENT:0}export{l as createAttributeDataIndex,g as createGeometryDescriptor,v as createGeometryDescriptorForDraco,d as createGeometryDescriptorFromDefinition,w as createGeometryDescriptorFromSchema,y as createGeometryIndexFromSchema,f as createRawView,c as createTypedView,A as getBytesPerValue,h as isValueType,C as readBinaryAttribute,a as readHeader,s as readStringArray,I as valueType2ArrayBufferReader,m as valueType2TypedArrayClassMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isArrayBuffer as t}from\"../../../core/typedArrayUtil.js\";import{isSome as r}from\"../../../core/maybe.js\";import{resolve as e}from\"../../../core/promiseUtils.js\";import a from\"../../../geometry/SpatialReference.js\";import{q as o}from\"../../../chunks/vec3.js\";import{projectBuffer as f}from\"../../../geometry/projection.js\";import{c as i}from\"../../../chunks/quat.js\";import{f as s,c as n}from\"../../../chunks/vec3f32.js\";import{b as u}from\"../../../chunks/quatf32.js\";import{readGeometry as l,getAttributeValues as m,evaluateRenderer as b,filterInPlace as p}from\"./i3s/PointCloudWorkerUtil.js\";class c{transform(a){const o=this._transform(a),f=[o.points.buffer,o.rgb.buffer];r(o.pointIdFilterMap)&&f.push(o.pointIdFilterMap.buffer);for(const r of o.attributes)\"buffer\"in r.values&&t(r.values.buffer)&&r.values.buffer!==o.rgb.buffer&&f.push(r.values.buffer);return e({result:o,transferList:f})}_transform(t){const e=l(t.schema,t.geometryBuffer);let o=e.length/3,f=null;const i=[],s=m(t.primaryAttributeData,e,o);r(t.primaryAttributeData)&&s&&i.push({attributeInfo:t.primaryAttributeData.attributeInfo,values:s});const n=m(t.modulationAttributeData,e,o);r(t.modulationAttributeData)&&n&&i.push({attributeInfo:t.modulationAttributeData.attributeInfo,values:n});let u=b(t.rendererInfo,s,n,o);if(t.filterInfo&&t.filterInfo.length>0&&r(t.filterAttributesData)){const r=t.filterAttributesData.map((t=>{const r=m(t,e,o),a={attributeInfo:t.attributeInfo,values:r};return i.push(a),a}));f=new Uint32Array(o),o=p(e,u,f,t.filterInfo,r)}for(const r of t.userAttributesData){const t=m(r,e,o);i.push({attributeInfo:r.attributeInfo,values:t})}3*o<u.length&&(u=new Uint8Array(u.buffer.slice(0,3*o))),this._applyElevationOffsetInPlace(e,o,t.elevationOffset);const c=this._transformCoordinates(e,o,t.obb,a.fromJSON(t.inSR),a.fromJSON(t.outSR));return{obb:t.obb,points:c,rgb:u,attributes:i,pointIdFilterMap:f}}_transformCoordinates(t,r,e,a,u){if(!f(t,a,0,t,u,0,r))throw Error(\"Can't reproject\");const l=s(e.center[0],e.center[1],e.center[2]),m=n(),b=n();i(h,e.quaternion);const p=new Float32Array(3*r);for(let a=0;a<r;a++)m[0]=t[3*a]-l[0],m[1]=t[3*a+1]-l[1],m[2]=t[3*a+2]-l[2],o(b,m,h),e.halfSize[0]=Math.max(e.halfSize[0],Math.abs(b[0])),e.halfSize[1]=Math.max(e.halfSize[1],Math.abs(b[1])),e.halfSize[2]=Math.max(e.halfSize[2],Math.abs(b[2])),p[3*a]=m[0],p[3*a+1]=m[1],p[3*a+2]=m[2];return p}_applyElevationOffsetInPlace(t,r,e){if(0!==e)for(let a=0;a<r;a++)t[3*a+2]+=e}}const h=u();function I(){return new c}export default I;\n"]}