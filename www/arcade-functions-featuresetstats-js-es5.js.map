{"version":3,"sources":["webpack:///node_modules/@arcgis/core/arcade/functions/featuresetstats.js","webpack:///node_modules/@arcgis/core/chunks/_commonjsHelpers.js"],"names":["l","t","r","e","o","m","length","toArray","load","then","n","d","create","getFieldsIndex","calculateStatistic","abortSignal","u","i","getVariables","name","push","evaluateIdentifier","parameters","mode","functions","stdev","standardFunctionAsync","variance","average","mean","sum","min","max","count","Error","globalThis","window","global","self","__esModule","Object","prototype","hasOwnProperty","call","path","exports","require"],"mappings":"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","file":"arcade-functions-featuresetstats-js-es5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{resolve as n,all as t,reject as r}from\"../../core/promiseUtils.js\";import{p as e,z as u,h as i,b as o,o as a,C as c}from\"../../chunks/languageUtils.js\";import{calculateStat as s}from\"./fieldStats.js\";import{WhereClause as f}from\"../../core/sql/WhereClause.js\";function l(t,r,e,o,l,m){if(1===o.length){if(i(o[0]))return n(s(t,o[0],c(o[1],-1)));if(a(o[0]))return n(s(t,o[0].toArray(),c(o[1],-1)))}else if(2===o.length){if(i(o[0]))return n(s(t,o[0],c(o[1],-1)));if(a(o[0]))return n(s(t,o[0].toArray(),c(o[1],-1)));if(u(o[0]))return o[0].load().then((n=>d(f.create(o[1],n.getFieldsIndex()),m,l).then((n=>o[0].calculateStatistic(t,n,c(o[2],1e3),r.abortSignal)))))}else if(3===o.length&&u(o[0]))return o[0].load().then((n=>d(f.create(o[1],n.getFieldsIndex()),m,l).then((n=>o[0].calculateStatistic(t,n,c(o[2],1e3),r.abortSignal)))));return n(s(t,o,-1))}function d(e,u,i){try{const r=e.getVariables();if(r.length>0){const n=[];for(let t=0;t<r.length;t++){const e={name:r[t]};n.push(u.evaluateIdentifier(i,e))}return t(n).then((n=>{const t={};for(let e=0;e<r.length;e++)t[r[e]]=n[e];return e.parameters=t,e}))}return n(e)}catch(n){return r(n)}}function m(n){\"async\"===n.mode&&(n.functions.stdev=function(t,r){return n.standardFunctionAsync(t,r,(function(r,e,u){return l(\"stdev\",r,0,u,t,n)}))},n.functions.variance=function(t,r){return n.standardFunctionAsync(t,r,(function(r,e,u){return l(\"variance\",r,0,u,t,n)}))},n.functions.average=function(t,r){return n.standardFunctionAsync(t,r,(function(r,e,u){return l(\"mean\",r,0,u,t,n)}))},n.functions.mean=function(t,r){return n.standardFunctionAsync(t,r,(function(r,e,u){return l(\"mean\",r,0,u,t,n)}))},n.functions.sum=function(t,r){return n.standardFunctionAsync(t,r,(function(r,e,u){return l(\"sum\",r,0,u,t,n)}))},n.functions.min=function(t,r){return n.standardFunctionAsync(t,r,(function(r,e,u){return l(\"min\",r,0,u,t,n)}))},n.functions.max=function(t,r){return n.standardFunctionAsync(t,r,(function(r,e,u){return l(\"max\",r,0,u,t,n)}))},n.functions.count=function(t,r){return n.standardFunctionAsync(t,r,(function(n,t,r){if(e(r,1,1),u(r[0]))return r[0].count(n.abortSignal);if(i(r[0])||o(r[0]))return r[0].length;if(a(r[0]))return r[0].length();throw new Error(\"Invalid Parameters for Count\")}))})}export{m as registerFunctions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nvar e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function o(e,n,o){return e(o={path:n,exports:{},require:function(e,n){return r(null==n&&o.path)}},o.exports),o.exports}function r(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}export{e as a,r as b,o as c,n as g};\n"]}