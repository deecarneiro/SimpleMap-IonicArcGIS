(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["default~layers-GeoRSSLayerView2D-js~layers-GraphicsLayerView2D-js~layers-ImageryLayerView2D-js~layer~87e04381"],{

/***/ "0u2h":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/GraphicsReader.js ***!
  \**************************************************************************************/
/*! exports provided: GraphicsReader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphicsReader", function() { return s; });
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry/support/jsonUtils.js */ "qatw");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "ZlUD");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FeatureSetReader.js */ "8NDJ");
/* harmony import */ var _FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FeatureSetReaderJSON.js */ "Q0oN");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
class s extends _FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_3__["FeatureSetReaderJSON"]{constructor(e,r){super(e,r,null)}static from(o){const n=_FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_2__["FeatureSetReader"].createInstance(),c=[],i=o.filter((e=>!!e.geometry));for(const t of i){const o=Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__["getJsonType"])(t.geometry);Object(_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_1__["convertFromGraphics"])(c,[t],o,!1,!1,"uid")}return new s(n,c)}get geometryType(){const e=this._current;return e?e.geometryType:null}readGraphic(){return this._current}getCursor(){return this.copy()}copy(){const e=new s(this.instance,this._features);return this.copyInto(e),e}}


/***/ }),

/***/ "7+sN":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStore.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "wSAH");
/* harmony import */ var _geometry_support_contains_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/contains.js */ "IXLn");
/* harmony import */ var _geometry_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/extentUtils.js */ "+NQI");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/jsonUtils.js */ "qatw");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "qRWG");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/unitUtils.js */ "gEht");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "kYAx");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/normalizeUtils.js */ "qNUd");
/* harmony import */ var _chunks_rbush_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/rbush.js */ "kB+0");
/* harmony import */ var _graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./graphicsUtils.js */ "M08Z");
/* harmony import */ var _GraphicStoreItem_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./GraphicStoreItem.js */ "t0Xj");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
const b={minX:0,minY:0,maxX:0,maxY:0},x=Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__["create"])(),G=[];function z(e,t,i,r,s){return b.minX=t,b.minY=i,b.maxX=r,b.maxY=s,e.search(b)}/* harmony default export */ __webpack_exports__["default"] = (class{constructor(t,i,r,s,n,a){this._graphics=s,this._onAdd=n,this._onRemove=a,this._index=Object(_chunks_rbush_js__WEBPACK_IMPORTED_MODULE_8__["r"])(9,Object(_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("csp-restrictions")?e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this._itemByGraphic=new Map,this._currentLevel=-1/0,this._tileInfoView=t,this._uidFieldName=r;const u=t.getClosestInfoForScale(i);u&&(this._currentLevel=u.level,this._resolution=this._tileInfoView.getTileResolution(u.level)),this._metersPerUnit=Object(_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__["getMetersPerUnit"])(t.spatialReference)}hitTest(e,o,u,h,l){e=Object(_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_7__["normalizeMapX"])(e,this._tileInfoView.spatialReference);const m=.5*h*u;x[0]=e-m,x[1]=o-m,x[2]=e+m,x[3]=o+m;const f=.5*h*(u+50),b=z(this._index,e-f,o-f,e+f,o+f);if(!b||0===b.length)return[];const G={x:e,y:o},I=[];let B;for(const u of b)if(u.graphic.visible)switch(Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__["getJsonType"])(u.geometry)){case"esriGeometryPoint":{const e=u.symbol;if(!e)continue;const i=u.geometry,{x:r,y:s}=i,o=h*this._metersPerUnit;let n;switch(e.type){case"esriTS":n=Object(_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__["getTextSymbolBounds"])(r,s,e,u.size,h,l);break;case"expanded-cim":n=Object(_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__["getCIMMarkerBounds"])(r,s,e,h,o,l);break;case"esriSMS":case"esriPMS":n=Object(_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__["getMarkerSymbolBounds"])(r,s,e,h,o,l)}Object(_geometry_support_contains_js__WEBPACK_IMPORTED_MODULE_1__["polygonContainsPoint"])(n,G)&&I.push(u)}break;case"esriGeometryPolyline":{const t=u.symbol;if(!t||!t.layers.length)continue;const i=t.layers[0];B=1.5*h*window.devicePixelRatio*Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__["pt2px"])(i.width),Object(_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__["isPointOnPolyline"])(u.geometry,e,o,B)&&I.push(u)}break;case"esriGeometryEnvelope":{const e=u.geometry,t=Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__["fromValues"])(e.xmin,e.ymin,e.xmax,e.ymax);Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__["intersects"])(t,x)&&I.push(u);break}case"esriGeometryPolygon":{if(Object(_geometry_support_contains_js__WEBPACK_IMPORTED_MODULE_1__["polygonContainsPoint"])(u.geometry,G)){I.push(u);break}const e=Object(_geometry_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_2__["getPolygonExtent"])(u.geometry);if(Math.abs(e.ymax-e.ymin)<5*h||Math.abs(e.xmax-e.xmin)<5*h){const t=Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__["fromValues"])(e.xmin,e.ymin,e.xmax,e.ymax);Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__["intersects"])(t,x)&&I.push(u)}break}case"esriGeometryMultipoint":{const e=u.symbol;if(!e)continue;const i=u.geometry.points;let r;for(let s=0;s<i.length;s++)if(r="esriTS"===e.type?Object(_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__["getTextSymbolBounds"])(i[s][0],i[s][1],e,u.size,h,l):Object(_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__["getMarkerSymbolBounds"])(i[s][0],i[s][1],e,h,h*this._metersPerUnit,l),Object(_geometry_support_contains_js__WEBPACK_IMPORTED_MODULE_1__["polygonContainsPoint"])(r,G)){I.push(u);break}break}}return I.sort(((e,t)=>{const i=Object(_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__["graphicGeometryToNumber"])(e.graphic),r=Object(_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__["graphicGeometryToNumber"])(t.graphic);return i===r?t.zorder-e.zorder:i-r})),I.map((e=>e.graphic))}getGraphicsData(e,t,i){const r=z(this._index,t.bounds[0],t.bounds[1],t.bounds[2],t.bounds[3]);if(0===r.length||0===i.length)return[];r.sort(((e,t)=>e.zorder-t.zorder)),r[0].insertAfter=-1;for(let e=1;e<r.length;e++)r[e].insertAfter=r[e-1].graphic.uid;r.sort(((e,t)=>e.graphic.uid-t.graphic.uid)),i.sort(((e,t)=>e.uid-t.uid));let s,o=0,n=0;const a=[],u={originPosition:"upperLeft",scale:[t.resolution,t.resolution],translate:[t.bounds[0],t.bounds[3]]};for(const t of i){for(n=-2;o<r.length;)if(s=r[o],o++,t.uid===s.graphic.uid){n=s.insertAfter;break}if(!s.geometry||-2===n)continue;const i=s.getGeometryQuantized(u),h={...s.graphic.attributes};h[this._uidFieldName]=t.uid,null==s.groupId&&(s.groupId=e.createTemplateGroup(s.symbol,null)),a.push({centroid:_GraphicStoreItem_js__WEBPACK_IMPORTED_MODULE_10__["default"].getCentroidQuantized(s,u),geometry:i,attributes:h,symbol:s.symbol,groupId:s.groupId,insertAfter:n,zorder:s.zorder})}return a.sort(((e,t)=>e.zorder-t.zorder)),a}queryTileData(e,t){const i=50*t.resolution,r=Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__["pad"])(t.bounds,i,Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__["create"])()),s=z(this._index,r[0],r[1],r[2],r[3]),o=[];return this._createTileGraphics(o,e,s,{originPosition:"upperLeft",scale:[t.resolution,t.resolution],translate:[t.bounds[0],t.bounds[3]]}),o}has(e){return this._itemByGraphic.has(e)}getBounds(e){return this._itemByGraphic.has(e)?this._itemByGraphic.get(e).bounds:null}addOrModify(e,t,i){if(!e)return;this.has(e)&&this.remove(e),this._onAdd(e);const r=_GraphicStoreItem_js__WEBPACK_IMPORTED_MODULE_10__["default"].acquire(e,t,i,this._resolution,this._resolution*this._metersPerUnit,this._tileInfoView.spatialReference);return this._itemByGraphic.set(e,r),i&&this._index.insert(r),r.bounds}remove(e){if(!this._itemByGraphic.has(e))return;this._onRemove(e);const t=this._itemByGraphic.get(e);this._index.remove(t),this._itemByGraphic.delete(e)}updateZ(){const e=this._graphics.items;let t,i;for(let r=0;r<e.length;r++)i=e[r],t=this._itemByGraphic.get(i),t&&(t.zorder=r)}update(e,t,i){const r=this._itemByGraphic.get(e);r.groupId=null;const s=Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__["clone"])(r.bounds);return r.size[0]=r.size[1]=0,this._index.remove(r),r.set(e,t,i,this._resolution,this._resolution*this._metersPerUnit,this._tileInfoView.spatialReference),i&&this._index.insert(r),{oldBounds:s,newBounds:r.bounds}}updateLevel(e){if(this._currentLevel===e)return;this._currentLevel=e;const t=this._tileInfoView.getTileResolution(e);this._resolution=t,this._index.clear(),G.length=0,this._itemByGraphic.forEach((e=>{e.updateBounds(this._resolution,this._resolution*this._metersPerUnit,this._tileInfoView.spatialReference),e.geometry&&G.push(e)})),this._index.load(G)}clear(){this._itemByGraphic.clear(),this._index.clear()}_createTileGraphics(e,t,i,r){const s=this._uidFieldName;let o,n,a,u;i.sort(((e,t)=>e.zorder-t.zorder));for(let h=0;h<i.length;h++){a=i[h],o=a.graphic,n=a.getGeometryQuantized(r),u=0===h?-1:i[h-1].graphic.uid;const l={...a.graphic.attributes};l[s]=o.uid,null==a.groupId&&(a.groupId=t.createTemplateGroup(a.symbol,null)),e.push({centroid:_GraphicStoreItem_js__WEBPACK_IMPORTED_MODULE_10__["default"].getCentroidQuantized(a,r),geometry:n,attributes:l,symbol:a.symbol,groupId:a.groupId,insertAfter:u,zorder:a.zorder})}}});


/***/ }),

/***/ "BA+2":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/layers/GraphicsView.js ***!
  \****************************************************************/
/*! exports provided: GraphicsView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphicsView", function() { return t; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/has.js */ "wSAH");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Logger.js */ "6S2I");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "zqDF");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "WbKI");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "04ZG");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/urlUtils.js */ "4EHJ");
/* harmony import */ var _core_uuid_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/uuid.js */ "ju1D");
/* harmony import */ var _portal_support_resourceExtension_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../portal/support/resourceExtension.js */ "9AIY");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/Identifiable.js */ "pdg3");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
const t=t=>{let p=class extends(Object(_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_9__["IdentifiableMixin"])(t)){constructor(){super(...arguments),this.graphics=null,this.renderer=null,this.view=null}};return Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__["property"])()],p.prototype,"graphics",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__["property"])()],p.prototype,"renderer",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__["property"])()],p.prototype,"updating",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__["property"])()],p.prototype,"view",void 0),p=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__["subclass"])("esri.views.layers.GraphicsView")],p),p};


/***/ }),

/***/ "M08Z":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js ***!
  \*****************************************************************************/
/*! exports provided: getBounds, getCIMMarkerBounds, getMarkerSymbolBounds, getTextSymbolBounds, getTextSymbolSize, graphicGeometryToNumber, isMarkerSymbol, isPointOnPolyline, normalizeCentralMeridian */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getBounds", function() { return X; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCIMMarkerBounds", function() { return G; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getMarkerSymbolBounds", function() { return F; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTextSymbolBounds", function() { return D; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTextSymbolSize", function() { return V; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "graphicGeometryToNumber", function() { return O; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isMarkerSymbol", function() { return z; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isPointOnPolyline", function() { return E; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeCentralMeridian", function() { return K; });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "wSAH");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "f4Nx");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/SpatialReference.js */ "WZb1");
/* harmony import */ var _geometry_support_intersects_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/intersects.js */ "PNY3");
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/boundsUtils.js */ "KLE9");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/jsonUtils.js */ "qatw");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "qRWG");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "kYAx");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/normalizeUtils.js */ "qNUd");
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/vec2.js */ "M0lq");
/* harmony import */ var _chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/mat2d.js */ "opr1");
/* harmony import */ var _chunks_mat2df32_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../chunks/mat2df32.js */ "LGNZ");
/* harmony import */ var _chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../chunks/vec2f32.js */ "c46T");
/* harmony import */ var _engine_webgl_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../engine/webgl/alignmentUtils.js */ "Mt1D");
/* harmony import */ var _engine_webgl_mesh_templates_shapingUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../engine/webgl/mesh/templates/shapingUtils.js */ "G0q+");
/* harmony import */ var _engine_webgl_util_BidiText_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../engine/webgl/util/BidiText.js */ "t7mB");
/* harmony import */ var _symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../symbols/cim/CIMSymbolHelper.js */ "eT81");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
const P=Math.PI/180,W=Object(_chunks_mat2df32_js__WEBPACK_IMPORTED_MODULE_12__["c"])(),U=Object(_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_13__["c"])(),A=Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__["create"])();function X(t,n,s,o,a,m,c){if(!o||!s.symbol)return t[0]=t[1]=t[2]=t[3]=0,n[0]=n[1]=n[2]=n[3]=0,t;const l=o;if(!Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__["isPoint"])(l)){Object(_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_5__["getBoundsXY"])(t,l);let e=n[0];0===e&&(e=Q(s),n[0]=e);const r=a*e/2;return t[0]-=r,t[1]-=r,t[2]+=r,t[3]+=r,t}{const i=l.x,r=l.y;"esriTS"===s.symbol.type&&0===n[2]&&0===n[3]&&V(n,s.symbol,s.mosaicItem),function(t,n,s,i,r,o,a,m){let c;switch(i.type){case"esriSMS":case"esriPMS":c=F(n,s,i,o,a,0);break;case"esriTS":c=D(n,s,i,r,o,0);break;case"cim":case"CIMSymbolReference":case"expanded-cim":c=G(n,s,i,o,a,0)}let l,f,u=0;for(let t=0;t<c.rings[0].length-1;t++)f=c.rings[0][t],l=(n-f[0])*(n-f[0])+(s-f[1])*(s-f[1]),u=Math.max(u,l);u=Math.sqrt(u);let h=Object(_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_9__["normalizeMapX"])(n-u,m),p=Object(_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_9__["normalizeMapX"])(n+u,m);if(h>p){const t=Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__["getInfo"])(m);if(t){const[e,n]=t.valid;h=e,p=n}}t[0]=h,t[1]=s-u,t[2]=p,t[3]=s+u}(t,i,r,s.symbol,n,a,m,c)}return t}function z(t){return"simple-marker"===t||"picture-marker"===t||"text"===t}function O(e){switch(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["unwrap"])(e.geometry).type){case"point":case"multipoint":return 0;case"polyline":return 1;case"polygon":case"extent":return 2}return 0}const H=Object(_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_13__["c"])(),T=Object(_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_13__["c"])(),q=Object(_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_13__["c"])(),C=Object(_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_13__["c"])(),J=Object(_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_13__["c"])(),N=Object(_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_13__["c"])(),B=Object(_chunks_vec2f32_js__WEBPACK_IMPORTED_MODULE_13__["c"])();function E(t,e,n,s){Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(q,e,n);const i=t.paths;let r,o,a,m,c,l,f,x,g,d=1/0;for(let t=0;t<i.length;t++){const b=i[t];if(!(b.length<2))for(let t=1;t<b.length;t++)r=b[t-1][0],a=b[t-1][1],o=b[t][0],m=b[t][1],c=Math.min(r,o)-s,l=Math.min(a,m)-s,f=Math.max(r,o)+s,x=Math.max(a,m)+s,e<c||e>f||n<l||n>x||(Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(H,r,a),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(T,o,m),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["d"])(C,T,H),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["d"])(J,H,q),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["a"])(N,C,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["g"])(C,J)/Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["g"])(C,C)),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["d"])(B,J,N),g=Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["g"])(B,B),d>g&&(d=g))}return Math.sqrt(d)<=s}function F(t,e,n,s,i,r){let o,a;const m=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(n.xoffset),c=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(n.yoffset),f=P*n.angle,x=P*r;switch(n.type){case"esriSMS":o=a=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(n.size);break;case"esriPMS":o=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(n.width),a=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(n.height)}i<.04&&(s=.04*s/i);const h=Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["i"])(W);Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["t"])(h,h,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,t,e)),Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["r"])(h,h,x-f),Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["s"])(h,h,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,s,-s)),Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["t"])(h,h,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,m,-c));const p=[0,0];Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["t"])(p,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,-.5*o,-.5*a),h);const y=[0,0];Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["t"])(y,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,-.5*o,.5*a),h);const j=[0,0];Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["t"])(j,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,.5*o,-.5*a),h);const I=[0,0];return Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["t"])(I,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,.5*o,.5*a),h),{rings:[[p,j,I,y,p]]}}function G(t,e,n,s,i,r){const o=_symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_17__["CIMSymbolHelper"].getEnvelope(n.data);if(!o)return null;i<.04&&(s=.04*s/i);const a=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(o.width),m=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(o.height),c=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(o.x),f=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(o.y),x=0*P,h=P*r,p=Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["i"])(W);Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["t"])(p,p,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,t,e)),Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["r"])(p,p,h-x),Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["s"])(p,p,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,s,s));const y=[0,0];Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["t"])(y,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,c,f+m),p);const j=[0,0];Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["t"])(j,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,c,f),p);const I=[0,0];Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["t"])(I,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,c+a,f+m),p);const w=[0,0];return Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["t"])(w,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,c+a,f),p),{rings:[[y,I,w,j,y]]}}function D(t,e,n,s,i,r){const o=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(n.xoffset),a=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(n.yoffset),m=P*n.angle,c=P*r,f=Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["i"])(W);Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["t"])(f,f,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,t,e)),Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["r"])(f,f,c),Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["s"])(f,f,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,i,-i));const x=s[0]+s[2]/2,h=s[1]+s[3]/2;Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["t"])(f,f,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,o,-a)),Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["t"])(f,f,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,x,h)),Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["r"])(f,f,m),Object(_chunks_mat2d_js__WEBPACK_IMPORTED_MODULE_11__["t"])(f,f,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,-x,-h));const p=[0,0];Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["t"])(p,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,s[0],s[1]),f);const y=[0,0];Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["t"])(y,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,s[0],s[1]+s[3]),f);const j=[0,0];Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["t"])(j,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,s[0]+s[2],s[1]),f);const I=[0,0];return Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["t"])(I,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_10__["s"])(U,s[0]+s[2],s[1]+s[3]),f),{rings:[[p,j,I,y,p]]}}function K(t){let n,l,f,x,u,h,p,y,g,d=null;if(!t)return null;if("mesh"===t.type)return t.toJSON();if(n=t.spatialReference,l=Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__["getInfo"])(n),!l)return t.toJSON();f=n.isWebMercator,h=f?102100:4326,x=Y[h].maxX,u=Y[h].minX,p=Y[h].plus180Line,y=Y[h].minus180Line;const b=t.toJSON();if(Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__["isPoint"])(b))g=et(b,x,u);else if(Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__["isMultipoint"])(b))b.points=b.points.map((t=>et(t,x,u))),g=b;else if(Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__["isExtent"])(b))g=function(t,e){if(!e)return t;const n=function(t,e){const n=[],{ymin:s,ymax:i}=t,r=t.xmax-t.xmin,o=t.xmin,a=t.xmax;let m;const[c,l]=e.valid;m=$(t.xmin,e);const f=m.x,x=m.frameId;m=$(t.xmax,e);const u=m.x,h=m.frameId,p=f===u&&r>0;if(r>2*l){const t={xmin:o<a?f:u,ymin:s,xmax:l,ymax:i},e={xmin:c,ymin:s,xmax:o<a?u:f,ymax:i},r={xmin:0,ymin:s,xmax:l,ymax:i},m={xmin:c,ymin:s,xmax:0,ymax:i},p=[],y=[];_(t,r)&&p.push(x),_(t,m)&&y.push(x),_(e,r)&&p.push(h),_(e,m)&&y.push(h);for(let t=x+1;t<h;t++)p.push(t),y.push(t);n.push({extent:t,frameIds:[x]},{extent:e,frameIds:[h]},{extent:r,frameIds:p},{extent:m,frameIds:y})}else f>u||p?n.push({extent:{xmin:f,ymin:s,xmax:l,ymax:i},frameIds:[x]},{extent:{xmin:c,ymin:s,xmax:u,ymax:i},frameIds:[h]}):n.push({extent:{xmin:f,ymin:s,xmax:u,ymax:i},frameIds:[x]});return n}(t,e).map((t=>t.extent));if(n.length<2)return n[0]||t;if(n.length>2)return t.xmin=e.valid[0],t.xmax=e.valid[1],t;return{rings:n.map((t=>[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]))}}(b,l);else if(Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__["isPolygon"])(b)||Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__["isPolyline"])(b)){const t=A;Object(_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_5__["getBoundsXY"])(t,b);const e={xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3]},n=Z(e.xmin,u)*(2*x),r=0===n?b:function(t,e){const n=function(t){if(Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__["isPolygon"])(t))return t.rings;return t.paths}(t);for(const t of n)for(const n of t)n[0]+=e;return t}(b,n);e.xmin+=n,e.xmax+=n,Object(_geometry_support_intersects_js__WEBPACK_IMPORTED_MODULE_4__["extentIntersectsPolyline"])(e,p)&&e.xmax!==x||Object(_geometry_support_intersects_js__WEBPACK_IMPORTED_MODULE_4__["extentIntersectsPolyline"])(e,y)&&e.xmin!==u?d=r:g=r}else g=t.clone();if(null!==d){return(new nt).cut(d,x)}return g}function Q(t){switch(t.symbol.type){case"esriSFS":case"esriPFS":{const e=t.symbol.outline;return e?e.width:0}case"esriSLS":return Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(t.symbol.width);case"esriSMS":return Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(t.symbol.size);case"esriPMS":return Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(Math.max(t.symbol.width,t.symbol.height));case"esriTS":{const e=[0,0,0,0];V(e,t.symbol,t.mosaicItem);const n=Math.max(Math.abs(e[0]),Math.abs(e[1]));return Math.max(e[2],e[3])+n}case"expanded-cim":{const e=_symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_17__["CIMSymbolHelper"].getEnvelope(t.symbol.data);return Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(Math.sqrt(e.width*e.width+e.height*e.height))}case"composite-symbol":{if(!t.symbol.layers.length)return 0;const e=t.symbol.layers.length-1;return Q({symbol:t.symbol.layers[e],mosaicItem:null})}case"label":default:return 0}}function V(t,e,n){if(!n||0===n.glyphMosaicItems.length)return t;const s=Object(_engine_webgl_util_BidiText_js__WEBPACK_IMPORTED_MODULE_16__["bidiText"])(e.text)[1],i=n.glyphMosaicItems,r=Object(_engine_webgl_mesh_templates_shapingUtils_js__WEBPACK_IMPORTED_MODULE_15__["shapeGlyphs"])(i,s,{scale:Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(e.font.size)/24,angle:e.angle,xOffset:e.xoffset,yOffset:e.yoffset,hAlign:Object(_engine_webgl_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_14__["getXAnchorDirection"])(e.horizontalAlignment||"center"),vAlign:Object(_engine_webgl_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_14__["getYAnchorDirection"])(e.verticalAlignment||"baseline"),maxLineWidth:Math.max(32,Math.min(e.lineWidth||512,512)),lineHeight:30*Math.max(.25,Math.min(e.lineHeight||1,4)),decoration:e.font.decoration||"none",isCIM:!1}).bounds;return t[0]=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(r.x-r.halfWidth),t[1]=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(r.y-r.halfHeight),t[2]=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(r.width),t[3]=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__["pt2px"])(r.height),t}const Y={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:{paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_3__["default"].WebMercator},minus180Line:{paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_3__["default"].WebMercator}},4326:{maxX:180,minX:-180,plus180Line:{paths:[[[180,-180],[180,180]]],spatialReference:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_3__["default"].WGS84},minus180Line:{paths:[[[-180,-180],[-180,180]]],spatialReference:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_3__["default"].WGS84}}};function Z(t,e){return Math.ceil((t-e)/(2*e))}function $(t,e){const[n,s]=e.valid,i=2*s;let r,o=0;return t>s?(r=Math.ceil(Math.abs(t-s)/i),t-=r*i,o=r):t<n&&(r=Math.ceil(Math.abs(t-n)/i),t+=r*i,o=-r),{x:t,frameId:o}}function _(t,e){const{xmin:n,ymin:s,xmax:i,ymax:r}=e;return tt(t,n,s)&&tt(t,n,r)&&tt(t,i,r)&&tt(t,i,s)}function tt(t,e,n){return e>=t.xmin&&e<=t.xmax&&n>=t.ymin&&n<=t.ymax}function et(t,e,n){if(Array.isArray(t)){const s=t[0];if(s>e){const n=Z(s,e);t[0]=s+n*(-2*e)}else if(s<n){const e=Z(s,n);t[0]=s+e*(-2*n)}}else{const s=t.x;if(s>e){const n=Z(s,e);t.x+=n*(-2*e)}else if(s<n){const e=Z(s,n);t.x+=e*(-2*n)}}return t}class nt{cut(t,e){let n;if(t.rings)this.closed=!0,n=t.rings,this.minPts=4;else{if(!t.paths)return null;this.closed=!1,n=t.paths,this.minPts=2}const s=n.length,i=-2*e;for(let t=0;t<s;t++){const e=n[t];if(e&&e.length>=this.minPts){const t=[];for(const n of e)t.push([n[0]+i,n[1]]);n.push(t)}}return this.closed?t.rings=n:t.paths=n,t}}


/***/ }),

/***/ "Vh9r":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicsView2D.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/has.js */ "wSAH");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "6S2I");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "zqDF");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "WbKI");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "04ZG");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/urlUtils.js */ "4EHJ");
/* harmony import */ var _core_uuid_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/uuid.js */ "ju1D");
/* harmony import */ var _portal_support_resourceExtension_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../portal/support/resourceExtension.js */ "9AIY");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "9MzC");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "/CmD");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "f4Nx");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/SpatialReference.js */ "WZb1");
/* harmony import */ var _geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../geometry/support/coordsUtils.js */ "Mu3I");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/Polygon.js */ "Ehki");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../geometry/support/jsonUtils.js */ "qatw");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "qRWG");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "kYAx");
/* harmony import */ var _symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../symbols/support/defaults.js */ "psH3");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../core/HandleOwner.js */ "kJYu");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../layers/graphics/data/projectionSupport.js */ "HsO1");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../engine/webgl/definitions.js */ "jIHu");
/* harmony import */ var _webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../webgl/capabilities.js */ "sq/B");
/* harmony import */ var _engine_webgl_util_BidiText_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../engine/webgl/util/BidiText.js */ "t7mB");
/* harmony import */ var _symbols_cim_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../symbols/cim/cimSymbolUtils.js */ "ZxoT");
/* harmony import */ var _engine_webgl_TileData_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../engine/webgl/TileData.js */ "fZs+");
/* harmony import */ var _engine_webgl_WGLTile_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../engine/webgl/WGLTile.js */ "KFVX");
/* harmony import */ var _features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../features/schemaUtils.js */ "owVx");
/* harmony import */ var _engine_webgl_mesh_factories_matcherUtils_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../engine/webgl/mesh/factories/matcherUtils.js */ "Bcjy");
/* harmony import */ var _engine_webgl_mesh_templates_WGLTemplateStore_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../engine/webgl/mesh/templates/WGLTemplateStore.js */ "Dw8i");
/* harmony import */ var _engine_webgl_mesh_factories_WGLMeshFactory_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../engine/webgl/mesh/factories/WGLMeshFactory.js */ "J3nV");
/* harmony import */ var _features_support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../features/support/AttributeStore.js */ "2AbE");
/* harmony import */ var _features_support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../features/support/ComputedAttributeStorage.js */ "Swtj");
/* harmony import */ var _features_support_GraphicsReader_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../features/support/GraphicsReader.js */ "0u2h");
/* harmony import */ var _features_support_TileStore_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../features/support/TileStore.js */ "w5u1");
/* harmony import */ var _GraphicContainer_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./GraphicContainer.js */ "q03O");
/* harmony import */ var _graphicsUtils_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./graphicsUtils.js */ "M08Z");
/* harmony import */ var _GraphicStore_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./GraphicStore.js */ "7+sN");
/* harmony import */ var _layers_GraphicsView_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../layers/GraphicsView.js */ "BA+2");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
function Z(t,e,i){if(i.has(t))return i.get(t);const s={tile:e,addedOrModified:[],removed:[]};return i.set(t,s),s}let K=class extends(Object(_layers_GraphicsView_js__WEBPACK_IMPORTED_MODULE_39__["GraphicsView"])(Object(_core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_20__["HandleOwnerMixin"])(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_11__["default"]))){constructor(t){super(t),this._storage=new _features_support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_33__["ComputedAttributeStorage"],this._displayIds=new Map,this._tiles=new Map,this._graphicStoreUpdate=!1,this._graphicsSet=new Set,this._matcher=Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__["resolve"])(null),this._tileUpdateSet=new Set,this._tilesToUpdate=new Map,this._graphicIdToAbortController=new Map,this._attached=!1,this._highlightIds=new Map,this._updatingGraphicsTimer=null,this._processing=!1,this._needsProcessing=!1,this._pendingUpdate={added:new Set,updated:new Set,removed:new Set},this.lastUpdateId=-1,this.updateRequested=!1,this.graphicUpdateHandler=this.graphicUpdateHandler.bind(this),this._processAnalyzedGraphics=this._processAnalyzedGraphics.bind(this),this._graphicsChangeHandler=this._graphicsChangeHandler.bind(this)}_createMatcher(t,e){if(t){const i=Object(_features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_28__["createMatcherSchema"])({indexCount:0,fields:{}},"feature",t);this._matcher=Object(_engine_webgl_mesh_factories_matcherUtils_js__WEBPACK_IMPORTED_MODULE_29__["createMatcher"])(i,e,null)}}_createDisplayId(t){return this._displayIds.has(t)||this._displayIds.set(t,this._storage.createDisplayId()),this._displayIds.get(t)}initialize(){this._tileStore=new _features_support_TileStore_js__WEBPACK_IMPORTED_MODULE_35__["default"](this.view.featuresTilingScheme),this.container=new _GraphicContainer_js__WEBPACK_IMPORTED_MODULE_36__["default"](this.view.featuresTilingScheme),this._attributeStore=new _features_support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_32__["default"]({type:"local",initialize:t=>Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__["resolve"])(this.container.attributeView.initialize(t)),update:t=>this.container.attributeView.requestUpdate(t),render:()=>this.container.requestRender()},Object(_webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_23__["default"])());this._graphicStore=new _GraphicStore_js__WEBPACK_IMPORTED_MODULE_38__["default"](this.view.featuresTilingScheme,this.view.state.scale,this.uid,this.graphics,(t=>{this._createDisplayId(t.uid),this._setFilterState(t.uid,t.visible)}),(t=>{const e=this._displayIds.get(t.uid);this._displayIds.delete(t.uid),this._storage.releaseDisplayId(e)}));const t=new _engine_webgl_mesh_templates_WGLTemplateStore_js__WEBPACK_IMPORTED_MODULE_30__["WGLTemplateStore"](this.container.getMaterialItems.bind(this.container),!0);this._createMatcher(this.renderer,t),this._meshFactory=new _engine_webgl_mesh_factories_WGLMeshFactory_js__WEBPACK_IMPORTED_MODULE_31__["WGLMeshFactory"](null,this.uid,t),this._templateStore=t,this.watch("renderer",(e=>{this._createMatcher(e,t);for(const t of this.graphics)this._pendingUpdate.updated.add(t);this.requestUpdate()})),this._tileStore.on("update",this._onTileUpdate.bind(this)),this.container.on("attach",(()=>{this.graphics.items.length>0&&this._graphicsChangeHandler({target:this.graphics,added:this.graphics.items,removed:[],moved:[]}),this.handles.add(this.graphics.on("change",this._graphicsChangeHandler),"graphics"),this._attached=!0,this.notifyChange("updating")}))}destroy(){this._updatingGraphicsTimer&&(clearTimeout(this._updatingGraphicsTimer),this._updatingGraphicsTimer=null,this.notifyChange("updating")),this.container.destroy(),this._set("graphics",null),this._graphicStore.clear(),this._tileStore.destroy(),this._attributeStore=null}get updating(){return!this._attached||null!==this._updatingGraphicsTimer||this._tileUpdateSet.size>0||this._tilesToUpdate.size>0}hitTest(t,e){if(!this.view||!this.view.position)return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__["resolve"])();const i=this.view.toMap(Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_17__["createScreenPoint"])(t,e));return this.searchFeatures(i).then((t=>t&&t.length?t[0]:null))}async searchFeatures(t,e=2){return this._graphicStore.hitTest(t.x,t.y,e,this.view.state.resolution,this.view.state.rotation)}update(t){const e=t.state,i=this.view.featuresTilingScheme.getClosestInfoForScale(e.scale).level;if(this._graphicStore.updateLevel(i),this._tileStore.setViewState(e),this._graphicStoreUpdate=!0,this.updateRequested=!1,this._pendingUpdate.updated.size>0){if(!this._processing)return void this._updateGraphics();this._needsProcessing=!0}}viewChange(){this.requestUpdate()}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.requestUpdateCallback())}processUpdate(t){this.updateRequested&&(this.updateRequested=!1,this.update(t))}graphicUpdateHandler(t){const{graphic:e,property:i,newValue:s}=t,r=e;switch(i){case"attributes":break;case"geometry":case"symbol":this._pendingUpdate.updated.add(r),this.requestUpdate();break;case"visible":this._setFilterState(r.uid,s),this._attributeStore.sendUpdates()}}addHighlight(t){for(const e of t)if(this._highlightIds.has(e)){const t=this._highlightIds.get(e);this._highlightIds.set(e,t+1)}else this._highlightIds.set(e,1);this._updateHighlight()}removeHighlight(t){for(const e of t)if(this._highlightIds.has(e)){const t=this._highlightIds.get(e)-1;0===t?this._highlightIds.delete(e):this._highlightIds.set(e,t)}this._updateHighlight()}_updateHighlight(){const t=Array.from(this._highlightIds.keys()),e=t.map((t=>this._displayIds.get(t)));this._attributeStore.setHighlight(t,e)}_getIntersectingTiles(t){const e=this._graphicStore.getBounds(t);return!e||0===Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_18__["width"])(e)||0===Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_18__["height"])(e)?[]:this._tileStore.boundsIntersections(e)}_updateTile(t){const e=t.tile,i=this._getGraphicsData(this._templateStore,e,t.addedOrModified);return this._processGraphics(i).then((i=>(this._patchTile(e.key,{type:"update",addOrUpdate:i,remove:t.removed,end:!0}),i)))}_patchTile(t,e){if(!this._tiles.has(t))return;const i=this._tiles.get(t);this.container.onTileData(i,e),this.container.requestRender()}_graphicsChangeHandler(t){for(const e of t.added)this._pendingUpdate.added.add(e);for(const e of t.moved)this._pendingUpdate.added.add(e);for(const e of t.removed)this._pendingUpdate.added.has(e)?this._pendingUpdate.added.delete(e):this._pendingUpdate.removed.add(e);this._processing?this._needsProcessing=!0:this._updateGraphics()}_getGraphicsToUpdate(){const t={added:[],removed:[],updated:[]},e=this._pendingUpdate;for(const i of this.graphics.items)e.added.has(i)?t.added.push(i):e.updated.has(i)&&t.updated.push(i);for(const i of e.removed)this._graphicStore.has(i)&&t.removed.push(i);return e.added.clear(),e.removed.clear(),e.updated.clear(),t}async _updateGraphics(){this._processing=!0;const{added:t,removed:e,updated:i}=this._getGraphicsToUpdate(),s=this._tilesToUpdate;let r;try{if(!this._graphicStoreUpdate){const t=this.view.state,e=this.view.featuresTilingScheme.getClosestInfoForScale(t.scale).level;this._graphicStore.updateLevel(e),this._tileStore.setViewState(t)}const a=[],h=new Array(t.length+e.length);for(let t=0;t<i.length;t++){const e=i[t],o=this._getIntersectingTiles(e);for(const t of o){r=t.id;Z(r,t,s).removed.push(this._displayIds.get(e.uid))}a.push(this._updateGraphic(e,null)),h[t]=e}const n=i.length;for(let e=0;e<t.length;e++){const i=t[e];h[n+e]=i,this._graphicsSet.add(i),a.push(this.addGraphic(i))}for(const t of e){this._abortProcessingGraphic(t.uid);const e=this._getIntersectingTiles(t);for(const i of e){r=i.id;Z(r,i,s).removed.push(this._displayIds.get(t.uid))}this._graphicsSet.delete(t),this._graphicStore.remove(t)}let d;this._flipUpdatingGraphics(),await Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__["all"])(a);for(let t=0;t<h.length;t++){d=h[t];const e=this._getIntersectingTiles(d);for(const t of e){r=t.id;Z(r,t,s).addedOrModified.push(d)}}this._graphicStore.updateZ();const p=[];for(const[t,e]of s)p.push(this._updateTile(e));await Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__["all"])(p)}catch(t){}s.clear(),this.notifyChange("updating"),this._processing=!1,this._needsProcessing&&(this._needsProcessing=!1,this._updateGraphics())}_getArcadeInfo(t){const i=(t.attributes?Object.keys(t.attributes):[]).map((e=>({name:e,alias:e,type:"string"==typeof t.attributes[e]?"esriFieldTypeString":"esriFieldTypeDouble"})));return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isNone"])(t.geometry)?null:{geometryType:Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__["getJsonType"])(t.geometry),spatialReference:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_13__["default"].fromJSON(t.geometry.spatialReference),fields:i}}async _getSymbolForGraphic(t,e){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(t.symbol)?t.symbol:Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(this.renderer)?this.renderer.getSymbolAsync(t,{scale:this.view.scale,abortOptions:e}):this._getNullSymbol(t)}async _getSymbolResources(t,e){if(!this.container.stage)return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__["resolve"])(null);const i=this._getArcadeInfo(t),s=await this._getSymbolForGraphic(t,e),r=Object(_features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_28__["createSymbolSchema"])(s),o=await Object(_symbols_cim_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_25__["expandSymbol"])(r,i,e);if("esriTS"===o.type){const t=[],[e]=Object(_engine_webgl_util_BidiText_js__WEBPACK_IMPORTED_MODULE_24__["bidiText"])(o.text);for(let i=0;i<e.length;i++)t.push(e.charCodeAt(i));const i={symbol:o,id:0,glyphIds:t},[{mosaicItem:s}]=await this.container.getMaterialItems([i]);return{symbol:o,mosaicItem:s}}return{symbol:o,mosaicItem:null}}async _projectAndNormalizeGeometry(t){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isNone"])(t.geometry))return Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__["resolve"])(null);let i=t.geometry;if(Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__["isPolygon"])(i)){const t=i.rings;i.rings=t}else if(Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__["isPolyline"])(i)){const t=i.paths;i.paths=t}else Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__["isExtent"])(i)&&(i=_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_15__["default"].fromExtent(i));return Object(_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_21__["checkProjectionSupport"])(i.spatialReference,this.view.spatialReference).then((()=>{const t=Object(_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_37__["normalizeCentralMeridian"])(i),e=Object(_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_21__["project"])(t,i.spatialReference,this.view.spatialReference);return Object(_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_14__["closeRingsAndFixWinding"])(e),e}))}_onTileUpdate(t){const e=Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__["getInfo"])(this.view.spatialReference);if(t.added&&t.added.length>0)for(const i of t.added)this._addNewTile(i,e);if(t.removed&&t.removed.length>0)for(const e of t.removed)this._removeTile(e.key)}addGraphic(t){this._abortProcessingGraphic(t.uid);const e=Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__["createAbortController"])();this._graphicIdToAbortController.set(t.uid,e);const i={signal:e.signal};return this._addOrUpdateGraphic(t,i).then((()=>{this._graphicIdToAbortController.delete(t.uid)})).catch((e=>{if(this._graphicIdToAbortController.delete(t.uid),!Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__["isAbortError"])(e))throw e}))}async _updateGraphic(t,e){const i=this._projectAndNormalizeGeometry(t),s=this._getSymbolResources(t,e),[r,a]=await Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__["all"])([i,s]);this._graphicStore.addOrModify(t,a,r)}async _addOrUpdateGraphic(t,e){const i=this._projectAndNormalizeGeometry(t),s=this._getSymbolResources(t,e);try{const[e,r]=await Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__["all"])([i,s]);this._addProjectedGraphic(t,r,e)}catch(t){if(!Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__["isAbortError"])(t))throw t}}_addProjectedGraphic(t,e,i){this._graphicsSet.has(t)&&this._graphicStore.addOrModify(t,e,i)}_addTile(t){const e=Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_18__["create"])();this.view.featuresTilingScheme.getTileBounds(e,t);const i=new _engine_webgl_WGLTile_js__WEBPACK_IMPORTED_MODULE_27__["WGLTile"](t,e,!0);return this._tiles.set(t,i),this.container.addChild(i),i}_addNewTile(t,e){const i=this._addTile(t.key),s=this._graphicStore.queryTileData(this._templateStore,t);if(e){const i=Math.round((e.valid[1]-e.valid[0])/t.resolution);for(const t of s)t.geometry&&Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__["isPoint"])(t.geometry)&&this._wrapPoints(t,i)}const r=t.key;this._tileUpdateSet.add(t.key),this.notifyChange("updating"),this._processGraphics(s).then((t=>{const e={type:"update",clear:!0,addOrUpdate:t,remove:[],end:!0};i.setData(e),this._tileUpdateSet.delete(r),this.notifyChange("updating")})).catch((t=>{if(this._tileUpdateSet.delete(r),this.notifyChange("updating"),!Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_10__["isAbortError"])(t))throw t}))}_removeTile(t){if(!this._tiles.has(t))return;const e=this._tiles.get(t);this.container.removeChild(e),e.destroy(),this._tiles.delete(t)}_setFilterState(t,e){const i=this._displayIds.get(t),s=this._attributeStore.getHighlightFlag(t);this._attributeStore.setData(i,0,0,s|(e?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_22__["FILTER_FLAG_0"]:0))}_getGraphicsData(t,e,i){const s=Object(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__["getInfo"])(this.view.spatialReference),r=this._graphicStore.getGraphicsData(t,e,i);if(s){const t=Math.round((s.valid[1]-s.valid[0])/e.resolution);for(const e of r)e.geometry&&Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__["isPoint"])(e.geometry)&&this._wrapPoints(e,t)}return r}_wrapPoints(t,e){const i=t.geometry;512===e?i.x<20?t.geometry={points:[[i.x,i.y],[e,0]]}:i.x>492&&(t.geometry={points:[[i.x,i.y],[-e,0]]}):i.x<-20?t.geometry={points:[[i.x,i.y],[e,0]]}:i.x>532&&(t.geometry={points:[[i.x,i.y],[-e,0]]})}async _processGraphics(t,e){if(!(t&&t.length)||!this._meshFactory)return null;const i=_features_support_GraphicsReader_js__WEBPACK_IMPORTED_MODULE_34__["GraphicsReader"].from(t),s=this._meshFactory;return await s.analyzeGraphics(i,await this._matcher,null,null,e),this._attributeStore.sendUpdates(),this._processAnalyzedGraphics(i)}_processAnalyzedGraphics(t){const e=this._meshFactory,i=e.createMeshData(t.getApproximateSize()),s=t.getCursor();for(;s.next();){const t=s.readGraphic();t.insertAfter=-1===t.insertAfter?-1:this._displayIds.get(t.insertAfter),t.displayId=this._displayIds.get(t.attributes[this.uid]),e.writeGraphic(i,s)}const r={};return i.encode(r,[]),_engine_webgl_TileData_js__WEBPACK_IMPORTED_MODULE_26__["TileData"].decode(r)}_abortProcessingGraphic(t){if(this._graphicIdToAbortController.has(t)){this._graphicIdToAbortController.get(t).abort()}}_getNullSymbol(t){const e=t.geometry;return Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__["isPolyline"])(e)?_symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_19__["errorPolylineSymbol2D"]:Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__["isPolygon"])(e)||Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__["isExtent"])(e)?_symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_19__["errorPolygonSymbol2D"]:_symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_19__["errorPointSymbol2D"]}_flipUpdatingGraphics(){this._updatingGraphicsTimer&&clearTimeout(this._updatingGraphicsTimer),this._updatingGraphicsTimer=setTimeout((()=>{this._updatingGraphicsTimer=null,this.notifyChange("updating")}),160),this.notifyChange("updating")}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0})],K.prototype,"requestUpdateCallback",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0})],K.prototype,"graphics",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])()],K.prototype,"updating",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])()],K.prototype,"view",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])()],K.prototype,"updateRequested",void 0),K=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__["subclass"])("esri.views.2d.layers.support.GraphicsView2D")],K);var Q=K;/* harmony default export */ __webpack_exports__["default"] = (Q);


/***/ }),

/***/ "q03O":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../engine/webgl/enums.js */ "yE7X");
/* harmony import */ var _engine_FeatureContainer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../engine/FeatureContainer.js */ "by2V");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
/* harmony default export */ __webpack_exports__["default"] = (class extends _engine_FeatureContainer_js__WEBPACK_IMPORTED_MODULE_1__["FeatureContainer"]{get hasLabels(){return!1}get labelsVisible(){return!1}renderChildren(r){this.attributeView.bindTextures(r.context),this.children.some((e=>e.hasData))&&(super.renderChildren(r),r.drawPhase===_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__["WGLDrawPhase"].MAP&&this._renderChildren(r),r.drawPhase===_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__["WGLDrawPhase"].HIGHLIGHT&&this._renderHighlight(r))}_renderChildren(e,r){for(const i of this.children)i.isReady&&i.hasData&&(i.commitChanges(e),e.context.setStencilFunction(514,i.stencilRef,255),i._displayList.replay(e,i,r))}_renderHighlight(e){const{painter:r}=e,i=r.effects.highlight;i.bind(e),this._renderChildren(e,i.defines),i.draw(e),i.unbind()}});


/***/ }),

/***/ "t0Xj":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStoreItem.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/centroid.js */ "V+VG");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/jsonUtils.js */ "qatw");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "kYAx");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedGeometry.js */ "gVKr");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../layers/graphics/featureConversionUtils.js */ "ZlUD");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/quantizationUtils.js */ "AIxD");
/* harmony import */ var _graphicsUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./graphicsUtils.js */ "M08Z");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
const p=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"],c=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_4__["default"];function d(e){e.coords.length=0,e.lengths.length=0}class f{constructor(){this.bounds=Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__["create"])(),this.graphic=null,this.size=[0,0,0,0]}static acquire(e=null,t,s,r,o,i){let h;return 0===f._pool.length?h=new f:(h=f._pool.pop(),this._set.delete(h)),h.acquire(e,t,s,r,o,i),h}static release(e){e&&!this._set.has(e)&&(e.release(),this._pool.push(e),this._set.add(e))}static getCentroidQuantized(r,o){if(Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__["isPolygon"])(r.geometry)){const s=r.symbol;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(s))return null;if(Object(_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_7__["isMarkerSymbol"])(s.type)){const e=Object(_geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_1__["polygonCentroid"])(r.geometry);return Object(_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_6__["quantizePoint"])(o,{},{x:e[0],y:e[1]},!1,!1)}}return null}acquire(e=null,t,s,r,o,i){e&&this.set(e,t,s,r,o,i)}release(){this.graphic=null,this.symbolResource=null,this.geometry=null}get symbol(){return this.symbolResource.symbol}set(e,t,s,r,o,i){this.graphic=e,this.geometry=s,this.symbolResource=t,this.updateBounds(r,o,i)}updateBounds(e,t,s){Object(_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_7__["getBounds"])(this.bounds,this.size,this.symbolResource,this.geometry,e,t,s)}getGeometryQuantized(e){if(Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__["isPolygon"])(this.geometry)){const t=this.geometry.rings;if(1===t.length&&2===t[0].length)return Object(_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_6__["quantizeGeometry"])(e,{paths:[[t[0][0],t[0][1]]]})}else if(Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__["isPolyline"])(this.geometry))return d(p),d(c),Object(_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__["convertFromPolyline"])(p,this.geometry),Object(_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__["generalizeOptimizedGeometry"])(c,p,this.geometry.hasZ,this.geometry.hasM,"esriGeometryPolyline",e.scale[0]),Object(_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__["quantizeOptimizedGeometry"])(p,c,this.geometry.hasZ,this.geometry.hasM,"esriGeometryPolyline",e),Object(_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__["convertToPolyline"])(p,this.geometry.hasZ,this.geometry.hasM);return Object(_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_6__["quantizeGeometry"])(e,this.geometry)}}f._pool=[],f._set=new Set;/* harmony default export */ __webpack_exports__["default"] = (f);


/***/ })

}]);
//# sourceMappingURL=default~layers-GeoRSSLayerView2D-js~layers-GraphicsLayerView2D-js~layers-ImageryLayerView2D-js~layer~87e04381-es2015.js.map