{"version":3,"sources":["webpack:///node_modules/@arcgis/core/views/2d/engine/webgl/effects/post-processing/Opacity.js"],"names":["t","_size","_layerFBOTexture","dispose","e","r","s","width","i","height","_createOrResizeResources","a","context","l","painter","o","amount","n","gl","h","bindFramebuffer","copyToTexture","setBlendingEnabled","setStencilTestEnabled","setDepthTestEnabled","setClearColor","clear","COLOR_BUFFER_BIT","blitTexture","resize","target","pixelFormat","internalFormat","dataType","wrapMode","samplingMode","flipped"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;UAC2OA,C;AAAE,qBAAa;AAAA;;AAAC,eAAKC,KAAL,GAAW,CAAC,CAAD,EAAG,CAAH,CAAX;AAAiB;;;;iBAAA,mBAAS;AAAC,iBAAKC,gBAAL,KAAwB,KAAKA,gBAAL,CAAsBC,OAAtB,IAAgC,KAAKD,gBAAL,GAAsB,IAA9E;AAAoF;;;iBAAA,cAAKE,CAAL,EAAOJ,EAAP,EAASK,CAAT,EAAW;AAAA,gBAAaC,CAAb,GAAyBN,EAAzB,CAAOO,KAAP;AAAA,gBAAsBC,CAAtB,GAAyBR,EAAzB,CAAeS,MAAf;;AAA2B,iBAAKC,wBAAL,CAA8BN,CAA9B,EAAgCE,CAAhC,EAAkCE,CAAlC;;AAA3B,gBAA8EG,CAA9E,GAA2FP,CAA3F,CAAsEQ,OAAtE;AAAA,gBAAwFC,CAAxF,GAA2FT,CAA3F,CAAgFU,OAAhF;AAAA,gBAAqGC,CAArG,GAAwGV,CAAxG,CAA8FW,MAA9F;AAAA,gBAA0GC,CAA1G,GAA4GN,CAAC,CAACO,EAA9G;AAAA,gBAAiHC,CAAjH,GAAmH,KAAKjB,gBAAxH;AAAyIS,aAAC,CAACS,eAAF,CAAkBpB,EAAlB,GAAqBA,EAAC,CAACqB,aAAF,CAAgB,CAAhB,EAAkB,CAAlB,EAAoBf,CAApB,EAAsBE,CAAtB,EAAwB,CAAxB,EAA0B,CAA1B,EAA4BW,CAA5B,CAArB,EAAoDR,CAAC,CAACW,kBAAF,CAAqB,CAAC,CAAtB,CAApD,EAA6EX,CAAC,CAACY,qBAAF,CAAwB,CAAC,CAAzB,CAA7E,EAAyGZ,CAAC,CAACa,mBAAF,CAAsB,CAAC,CAAvB,CAAzG,EAAmIb,CAAC,CAACc,aAAF,CAAgB,CAAhB,EAAkB,CAAlB,EAAoB,CAApB,EAAsB,CAAtB,CAAnI,EAA4Jd,CAAC,CAACe,KAAF,CAAQT,CAAC,CAACU,gBAAV,CAA5J,EAAwLd,CAAC,CAACe,WAAF,CAAcjB,CAAd,EAAgBQ,CAAhB,EAAkB,IAAlB,EAAuBJ,CAAvB,CAAxL;AAAkN;;;iBAAA,kCAAyBf,GAAzB,EAA2BK,CAA3B,EAA6BC,CAA7B,EAA+B;AAAA,gBAAeE,CAAf,GAAkBR,GAAlB,CAAOY,OAAP;AAAoB,iBAAKV,gBAAL,IAAuB,KAAKD,KAAL,CAAW,CAAX,MAAgBI,CAAvC,IAA0C,KAAKJ,KAAL,CAAW,CAAX,MAAgBK,CAA1D,KAA8D,KAAKL,KAAL,CAAW,CAAX,IAAcI,CAAd,EAAgB,KAAKJ,KAAL,CAAW,CAAX,IAAcK,CAA9B,EAAgC,KAAKJ,gBAAL,GAAsB,KAAKA,gBAAL,CAAsB2B,MAAtB,CAA6BxB,CAA7B,EAA+BC,CAA/B,CAAtB,GAAwD,KAAKJ,gBAAL,GAAsB,IAAI,yDAAJ,CAAMM,CAAN,EAAQ;AAACsB,oBAAM,EAAC,IAAR;AAAaC,yBAAW,EAAC,IAAzB;AAA8BC,4BAAc,EAAC,IAA7C;AAAkDC,sBAAQ,EAAC,IAA3D;AAAgEC,sBAAQ,EAAC,KAAzE;AAA+EC,0BAAY,EAAC,IAA5F;AAAiGC,qBAAO,EAAC,CAAC,CAA1G;AAA4G7B,mBAAK,EAACF,CAAlH;AAAoHI,oBAAM,EAACH;AAA3H,aAAR,CAA5K;AAAoT","file":"Opacity-js-es5.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../../../core/has.js\";import\"../../../../../../chunks/builtins.js\";import e from\"../../../../../webgl/Texture.js\";import\"../../../../../webgl/FramebufferObject.js\";import\"../../../../../webgl/RenderingContext.js\";class t{constructor(){this._size=[0,0]}dispose(){this._layerFBOTexture&&(this._layerFBOTexture.dispose(),this._layerFBOTexture=null)}draw(e,t,r){const{width:s,height:i}=t;this._createOrResizeResources(e,s,i);const{context:a,painter:l}=e,{amount:o}=r,n=a.gl,h=this._layerFBOTexture;a.bindFramebuffer(t),t.copyToTexture(0,0,s,i,0,0,h),a.setBlendingEnabled(!0),a.setStencilTestEnabled(!1),a.setDepthTestEnabled(!1),a.setClearColor(0,0,0,0),a.clear(n.COLOR_BUFFER_BIT),l.blitTexture(a,h,9728,o)}_createOrResizeResources(t,r,s){const{context:i}=t;this._layerFBOTexture&&this._size[0]===r&&this._size[1]===s||(this._size[0]=r,this._size[1]=s,this._layerFBOTexture?this._layerFBOTexture.resize(r,s):this._layerFBOTexture=new e(i,{target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9728,flipped:!1,width:r,height:s}))}}export{t as Opacity};\n"]}